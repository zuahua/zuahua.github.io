<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>React + Ant Design è±†ç“£ç”µå½±å­¦ä¹ å®ä¾‹</title>
    <url>/2020-3-6-react-antd.html</url>
    <content><![CDATA[<blockquote>
<p>ç‰ˆæœ¬è¯´æ˜:<br>webpack4.x<br>antd 3.x<br>react 16.x<br>å…¶ä»–æ’ä»¶ç‰ˆæœ¬ æŸ¥çœ‹ <strong>package.json</strong>é…ç½®æ–‡ä»¶</p>
</blockquote>
<p>å·²ä¸Šä¼ è‡³<a href="https://github.com/zuahua/React_Antd_DouBanMovie" target="_blank" rel="noopener external nofollow noreferrer">GitHubä»“åº“</a></p>
<a id="more"></a>

<h2><span id="react-ant-design-è±†ç“£ç”µå½±å­¦ä¹ å®ä¾‹">React + Ant Design è±†ç“£ç”µå½±å­¦ä¹ å®ä¾‹</span></h2><h3><span id="è±†ç“£api">è±†ç“£API</span></h3><p>ç”±äºå®˜æ–¹è±†ç“£APIæ–‡æ¡£ä¸å†æä¾›;è¿™é‡Œä½¿ç”¨ç½‘ä¸Šä¸ªä½“æä¾›çš„è±†ç“£API;</p>
<p>é“¾æ¥<a href="https://douban.uieee.com/" target="_blank" rel="noopener external nofollow noreferrer">Douban API Proxy</a></p>
<h3><span id="æœ€ç»ˆæ•ˆæœ">æœ€ç»ˆæ•ˆæœ</span></h3><h4><span id="é¦–é¡µ">é¦–é¡µ</span></h4><p><img src="../images/React/home.PNG" alt="é¦–é¡µ"></p>
<h4><span id="ç”µå½±é¡µ">ç”µå½±é¡µ</span></h4><p><img src="../images/React/movie.PNG" alt="ç”µå½±"></p>
<h3><span id="clone-è¯´æ˜">clone è¯´æ˜</span></h3><p>ä¸‹è½½ä¸‹æ¥åå…ˆè¿è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cnpm install</span><br></pre></td></tr></table></figure>

<p>æ ¹ç›®å½•ä¸‹è¿è¡Œ:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm run dev</span><br></pre></td></tr></table></figure>

<p>æœ¬åœ°æŸ¥çœ‹<br><strong><a href="http://127.0.0.1:3000/" target="_blank" rel="noopener external nofollow noreferrer">http://127.0.0.1:3000/</a></strong></p>
]]></content>
      <tags>
        <tag>React Antd</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­¦æ±‰è‚ºç‚äº‹ä»¶ R.I.P</title>
    <url>/2020-2-2-wu-han-fei-yan-shi-jian-r.i.p.html</url>
    <content><![CDATA[<ul>
<li>å£°æ˜:ä»¥ä¸‹æ—¶é—´,åœ°ç‚¹,äººç‰©,äº‹ä»¶,ç¬”è€…éƒ½æ— æ³•è¯æ˜ã€‚å¦‚æœ‰é”™è¯¯,æ¬¢è¿æŒ‡æ­£(è¯·å½“æ•…äº‹çœ‹çœ‹)ã€‚</li>
</ul>
<blockquote>
<p>æ—¶é—´: 2019å¹´</p>
</blockquote>
<p>12æœˆ,å¼€å§‹ä»æ¨ä¸Šäº†è§£åˆ°æ­¦æ±‰è‚ºç‚,æœ‰å¯èƒ½å¤§èŒƒå›´ä¼ æ’­è¨€è®ºå‡ºç°ã€‚å›½å†…ä¸€ç‰‡ç¥¥å’Œ,ç„¶åæ­¦æ±‰å½“å±€æŠ“äº†å‡ ä¸ªæ‰€è°“â€œé€ è°£è€…â€(æœ‰äººè¯´æ˜¯åŒ»ç”Ÿåœ¨å¾®ä¿¡ç¾¤è®¨è®ºè¢«æŠ“)ã€‚</p>
<p><img src="/images/note/2.png" alt="image"></p>
<blockquote>
<p>æ—¶é—´:2020å¹´</p>
</blockquote>
<p>1æœˆ20æ—¥,å®˜æ–¹æ­£å¼å‘å¸ƒæ–°å‹å† çŠ¶ç—…æ¯’æ„ŸæŸ“äº‹ä»¶,äººæ•°å‡ åäººä¼¼ä¹å°äº‹ä¸€æ¡©,ä¸è¶³æŒ‚é½¿ã€‚</p>
<a id="more"></a>

<p>äººä¼ äºº,å£ç½©ç–¯<strong>æŠ¢</strong>ã€‚</p>
<p>1æœˆ21,22æ—¥,é‚£æ—¶æˆ‘è¿™åº•çº¿å°åŸä¹Ÿæ²¡å‡ äººæˆ´å£ç½©,è€Œæˆ‘è‡ªå·±ä¹Ÿä¸ä»¥ä¸ºæ„,è¿˜è·‘å‡ºå»ç©äº†ä¸¤å¤©ã€‚è€Œä¸”,æœ¬åœ°è¯æˆ¿å‡ ä¹<strong>æ²¡å£ç½©</strong>å–äº†ã€‚</p>
<p>1æœˆ23æ—¥,æ­¦æ±‰çªç„¶<strong>å°åŸ</strong>,å‡ºåŠ¨å†›é˜Ÿ,éœ‡æƒŠå…¨å›½,æ”¿åºœçš„ä¸ä½œä¸º,ç»ˆäºåˆ°ä»Šå¤©æœ‰äº†åŠ¨é™ã€‚å¯ä»¥é¢„è§çš„,æ­¦æ±‰æ··ä¹±,ä¸æ°‘ä¼—ææ…Œ,è°£è¨€å››èµ·ã€‚</p>
<p>1æœˆ24æ—¥,æ˜¥èŠ‚ã€‚åŒ—äº¬æ­Œèˆå‡å¹³,æ­¦æ±‰æ°´æ·±ç«çƒ­ğŸ”¥ã€‚äººæ°‘æ—¥æŠ¥å¤´æ¡ä¾ç„¶æ˜¯æŸæ…°é—®äº†å…šå†…è€å¹²éƒ¨,å’Œå¸¸å§”çœ‹äº†å•¥è¡¨æ¼”å’ŒèŠ‚ç›®,ä¸çŸ¥é“å‘è¡¨äº†å•¥è®²è¯,ä¹Ÿæœªææ­¦æ±‰è‚ºç‚äº‹ä»¶ã€‚æ­¤æ—¶æ–°å‹å† çŠ¶ç—…æ¯’å®˜æ–¹ä¹Ÿæ—©å·²ç¡®å®šå¯äººä¼ äºº,äººæ•°ä¹Ÿå·²ä¸Šç™¾ã€‚</p>
<p>1æœˆ25å·,æ²¹ç®¡çœ‹åˆ°æ­¦æ±‰å£ç½©å“¥çš„å‘å£°,å¯¹æ­¦æ±‰æ”¿åºœçš„ç»æœ›,é¢†å¯¼äººçš„ä¸ä½œä¸ºçš„æŠ«éœ²;çœ‹åˆ°å¾®åšè¢«å±è”½,æ­¦æ±‰æŸåŒ»é™¢æŠ¤å£«æ‹æ‘„çš„è§†é¢‘,èµ°é“é‡Œè£¹ç€çš„å°¸ä½“æ— äººé—®æ´¥,è¯´æ‰“é¢†å¯¼äººç”µè¯ä¹Ÿæ²¡äººæ¥ã€‚åŒ»é™¢ä¹Ÿç»•è¿‡æ”¿åºœ,ç›´æ¥å‘ç¤¾ä¼šæ±‚åŠ©ã€‚é²œæ˜å¯¹æ¯”çš„æ˜¯,æŸæ€»ç†æ…°é—®ç—…äººçš„ç…§ç‰‡,éƒ½æ²¡å¸¦å£ç½©,ç—…äººä¹Ÿæ²¡å¸¦å£ç½©,å¾®ç¬‘ç€çš„æ‘†æ‹?</p>
<p>é™ˆç§‹å®å»äº†æ­¦æ±‰ä¸€çº¿,æŠ¥é“æƒ…å†µã€‚<br>é¢å…·å“¥å–·ä»–ä¸ºå¤§å¤–å®£ã€‚<br>æ— è®ºç«™å“ªé˜Ÿæˆ–å½“ä¸ªçœ‹å®¢,è‡³å°‘é‚£ç¯å¢ƒä¸‹æœ‰ä¸åŒçš„å£°éŸ³å¯ä»¥å‘å‡º,å†çœ‹å¢™å†…?å°çš„å°,æŠ“çš„æŠ“ã€‚</p>
<p>æ—¶é—´æ¨ç§»,å…šçš„å®£ä¼ æœºå™¨ä¸çŸ¥é“åœ¨è®²äº›ä»€ä¹ˆä¸œè¥¿,å¯èƒ½æ˜¯èµæ‰¬å…šåœ¨å±éš¾æ—¶åˆ»çš„æ‹…å½“ä¸ä½œä¸ºã€‚åªè®©æˆ‘çœ‹ç€è¿™å¢é•¿é€Ÿåº¦æ„ˆå‘å¿«çš„ç¡®è¯Šç—…ä¾‹ã€ç–‘ä¼¼ç—…ä¾‹ã€æ­»äº¡æ•°æ®,è¿˜æœ‰è¿™æƒ¨æ·¡çš„æ²»æ„ˆäººæ•°ã€‚</p>
<p>1æœˆ30æ—¥,WHO<strong>ç¬¬ä¸‰æ¬¡</strong>ä¼šè®®ç»ˆäºå®£å¸ƒä¸­å›½æ–°å‹å† çŠ¶ç—…æ¯’ä¸ºå›½é™…å…³æ³¨çš„å…¬å…±å«ç”Ÿäº‹ä»¶ã€‚è€Œæ­¤æ—¶,å®˜æ–¹æ•°æ®9000+çš„ç¡®è¯Šäººæ•°ã€‚</p>
<p>2æœˆ1æ—¥,æ•°æ®<strong>ç ´ä¸‡</strong>äº†å•Šã€‚</p>
<p>â€¦</p>
<p>æƒŠé—»çº¢åå­—ä¼šå½“å¹´æ±¶å·ç‰©èµ„çƒ‚åœ¨ä»“åº“</p>
<p><img src="/images/note/1.png" alt="image"></p>
<p>è†ç”°åŒ»é™¢è·å¾—ä¸Šä¸‡å£ç½©ç‰©èµ„,æ­¦æ±‰é¢†å¯¼äººçš„è½¦å‡ºç°ä¸çº¢ä¼šä»“åº“é—¨å£,åˆå¸¦èµ°å¤šå°‘å£ç½©?æ­¦æ±‰å¸‚é•¿ç”©é”…,å«å¥å§”ç”©é”…,ç–«æƒ…æŒ‡æŒ¥éƒ¨å’Œçº¢åå­—ä¼šç›¸äº’ç”©é”…<br>æŸ:æˆ‘å°†äº²è‡ªéƒ¨ç½²,äº²è‡ªæŒ‡æŒ¥(åœ¨åŒ—äº¬,å¯èƒ½)</p>
<p>è°åˆåƒåœ¾å †é‡Œæ¡èµ·å£ç½©?è°åˆé«˜ä»·å–èµ·å£ç½©å‘å›½éš¾è´¢?è°åœ¨é€ è°£?ä¸­è¯åˆå¯ä»¥æŠ‘åˆ¶ç—…æ¯’äº†?<br>è°è¾Ÿè‡ªå·±é€ çš„è°£?è°åˆäº¤äº†æ™ºå•†ç¨?è°åˆæ²¡äº‹å‡ºå»?</p>
<p>è€Œé‚£äº›ç°åœ¨ä¾æ—§å¥‹æ–—åœ¨ä¸€çº¿çš„åŒ»ç”Ÿ,æŠ¤å£«,å…¶ä»–å·¥ä½œè€…ã€‚å¿—æ„¿è€…,æèµ ç‰©èµ„çš„äºº,ä¿®å»ºåŒ»é™¢çš„å·¥äºº,ç­‰ç­‰ã€‚</p>
<p>è¿˜æœ‰é‚£äº›ç­‰ç€åºŠä½,ç­‰ç€æ£€æµ‹è¯•å‰‚çš„ç—…äºº,ç”šè‡³æ˜¯å¦è®°å½•çš„ç­‰ç€è¢«ç«åŒ–çš„å“ªå®¶è€äººçš„å°¸ä½“?æ„ŸæŸ“ç—…æ¯’æ€•ä¼ ç»™å®¶äºº,ç‹¬è‡ªåœ¨å¤–,èµ°å»é¥è¿œåŒ»é™¢,æ²¡æœ‰äº¤é€šå·¥å…·,è·³æ¡¥è‡ªæ€çš„äºº,æ­¦è­¦æ¸…ç†äº†ç°åœº,å«è·¯äººä¸è¦äº‹ä»¶å‘åœ¨ç½‘ä¸Š,è·¯äººå“­ç€ç¬‘äº†ã€‚</p>
<p>æ¯å¤©æ—©ä¸Šèµ·åºŠç¬¬ä¸€æ—¶é—´çœ‹çœ‹,åˆå¢åŠ äº†å¤šå°‘äººæ•°,è‡ªå·±æ‰€åœ¨åŸå¸‚çš„æ„ŸæŸ“æƒ…å†µ,å¯èƒ½æˆä¸ºå¾ˆå¤šäººçš„ä¹ æƒ¯ã€‚</p>
<p>å®…åœ¨å®¶é‡Œ,ç™¾æ— èŠèµ–,æ„Ÿå†’ä¹°äº†è¯åƒäº†è¿˜æ˜¯é¼»å¡æµæ¶•,æ‹–äº†å‡ å¤©è¿›ç¤¾åŒºåŒ»é™¢,æå¿ƒåŠèƒ†é‡å®Œæ¸©åº¦æ­£å¸¸,æ‹¿è¯å›å®¶,èµ°æ—¶åªå›æƒ³ç€å·¥ä½œäººå‘˜çš„è¯:æ²¡äº‹ä¸è¦å¾€åŒ»é™¢è·‘ã€‚æˆ‘:æˆ‘ä¹Ÿä¸æƒ³å•Š!</p>
<p>ç°åœ¨å¹´è½»äººè¦ä¹ˆå¤ªé¢“è¿˜ä¸§,è¦ä¹ˆå²æœˆé™å¥½,æ²¡ä¸»è§,ç¦é”¢çš„æ€æƒ³,æ— æ³•è‡ªæˆ‘æ€è€ƒåªèƒ½å¬å®ƒä¸€é¢ä¹‹è¯,æœ‰äººä¸æƒ³è®©ä½ è§åˆ°çš„ä¸œè¥¿æ˜¯è°£è¨€è¿˜æ˜¯ä»–å®³æ€•çš„çœŸç›¸?<br>æˆ‘ä¸çŸ¥é“,å› ä¸ºç«‹åœºè®©ä½ é€‰æ‹©ç›¸ä¿¡è‡ªå·±ç›¸ä¿¡çš„çœŸç›¸ã€‚<br>ä½†æ˜¯,ä½ éœ€è¦è‡ªå·±å»å¯»æ‰¾ç­”æ¡ˆã€‚</p>
<p>è¯·ä¸è¦è¯´:ä»–ä»¬ä¹Ÿæ²¡æœ‰åŠæ³•,è°éƒ½æ²¡æœ‰åŠæ³•,ä½ è¡Œä½ ä¸Šã€‚<br>å› ä¸ºä»–ä»¬èº«åœ¨å…¶ä½,è·å¾—äº†ä½ æƒ³è±¡ä¸åˆ°çš„æƒåˆ©å’Œåˆ©ç›Šã€‚<br>ä½†æ˜¯,ä»–ä»¬æ€»æ˜¯æ»¡å£è°è¨€å’Œæ¬ºéª—,ç”šè‡³ç”¨ä»–ä»¬åˆ¶å®šçš„æ³•å¾‹è¡Œé©¶æš´åŠ›â€¦</p>
<p>æˆ–è®¸å‡ å¹´ä¹‹å,äººä»¬åˆå·²å¿˜è®°ä»Šæ—¥ä¼¤ç—›,å› ä¸ºå­å¼¹ä¸‹çš„å¹¸å­˜è€…æ€»å¤ªå¤š,ä»–ä»¬åˆå¼€å§‹å”±èµ·äº†èµæ­Œ,ä¼Ÿå¤§åˆåšå¼ºçš„ä¸­å›½,å¦‚åŒå¿˜è®°30å¹´å‰,å¦‚åŒå¿˜è®°50å¹´å‰ä¸€æ ·ã€‚</p>
<blockquote>
<p>è®°äº2020-2-1</p>
</blockquote>
]]></content>
      <tags>
        <tag>éšç¬” æ€è€ƒ</tag>
      </tags>
  </entry>
  <entry>
    <title>PHPä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨</title>
    <url>/2020-1-19-php-shang-chuan-wen-jian-dao-fu-wu-qi.html</url>
    <content><![CDATA[<p>ç¯å¢ƒï¼š</p>
<ul>
<li>PHP7</li>
<li>ubuntu</li>
<li>Apache</li>
<li>vsftp</li>
</ul>
<p>é‡åˆ°çš„å‘ï¼šä¸Šä¼ çš„ftpæ–‡ä»¶ç›®å½•ä¸å¯å†™å…¥ï¼›å¯¼è‡´ä¸Šä¼ æ²¡æœ‰ç»“æœ</p>
<a id="more"></a>

<h3><span id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</span></h3><p>ä¿®æ”¹ä¸Šä¼ æ–‡ä»¶å¤¹çš„æƒé™ï¼š</p>
<p>æˆ‘åœ¨FTP Rushä¸­ç›´æ¥ä¿®æ”¹ï¼š</p>
<p><img src="/images/PHP/1.png" alt="1"></p>
<h3><span id="æ³¨æ„ä¸Šä¼ è·¯å¾„">æ³¨æ„ä¸Šä¼ è·¯å¾„</span></h3><h3><span id="phpæ–‡ä»¶ä¸Šä¼ ">PHPæ–‡ä»¶ä¸Šä¼ </span></h3><p><a href="https://www.w3school.com.cn/php/php_file_upload.asp" target="_blank" rel="noopener external nofollow noreferrer">W3school</a></p>
]]></content>
      <tags>
        <tag>PHP</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨PHPMaileråº“å‘é€é‚®ä»¶æ”¯æŒsslæ–¹å¼</title>
    <url>/2019-12-14-shi-yong-phpmailer-ku-fa-song-you-jian.html</url>
    <content><![CDATA[<p>è¯´æ˜ï¼š</p>
<ul>
<li>PHP7..</li>
<li>PHPMailer 6.1.4 Githubä¸‹è½½ <a href="https://github.com/PHPMailer/PHPMailer" target="_blank" rel="noopener external nofollow noreferrer">PHPMailer</a>ï¼Œç›´æ¥å…‹éš†ä¸‹æ¥å°±ok</li>
<li>å¼€å¯PHPæ‰©å±•ï¼šsocketsã€opensslï¼›æ–¹æ³•:PHP.iniæ–‡ä»¶ä¸­æœç´¢å¯¹åº”åï¼Œå»æ‰ä½¿ç”¨æ‰©å±•å‰çš„æ³¨é‡Š(ä¸ç»†è¯´äº†)</li>
<li>æœ¬æ–‡ä½¿ç”¨sslæ–¹å¼</li>
<li>ç½‘æ˜“é‚®ç®±</li>
<li>ç«¯å£ 465</li>
</ul>
<a id="more"></a>

<h3><span id="å†™æœ¬æ–‡åŸå› ">å†™æœ¬æ–‡åŸå› </span></h3><p>é˜¿é‡Œäº‘25ç«¯å£è¢«å°å°ï¼Œä¸Šç¯‡æ–‡ç« ä½¿ç”¨SMTP 25ç«¯å£ï¼Œæœ¬åœ°èƒ½æˆï¼ŒæœåŠ¡å™¨ä¸Šä¸è¡Œ</p>
<p>é˜¿é‡Œï¼Œemmmmmmmmmmm</p>
<p>ç½‘ä¸Šå¤§é‡çš„æ•™ç¨‹ï¼Œå¤§éƒ¨åˆ†ä½¿ç”¨çš„æ˜¯ä½ç‰ˆæœ¬PHPMailerï¼›</p>
<p>ä»–ä»¬åªå¼•å…¥PHPMailer.class.phpä¹‹ç±»çš„æ–‡ä»¶ï¼›</p>
<p>ç„¶åæˆ‘å‘ç°ç°åœ¨æ²¡æœ‰è¿™æ–‡ä»¶äº†â€¦</p>
<h3><span id="phpmailerçš„å¼•å…¥">PHPMailerçš„å¼•å…¥</span></h3><p>å…‹éš†ä¸‹æ¥çš„åŒ…é‡å‘½åä¸ºPHPMailer</p>
<p>åŒ…çš„ç»“æ„ï¼š</p>
<p>PHPMailer</p>
<ul>
<li>language</li>
<li>src</li>
<li>â€¦</li>
</ul>
<p>ä¸»è¦ä½¿ç”¨</p>
<ul>
<li>src/Exception.php</li>
<li>src/PHPMailer.php</li>
<li>PHPMailer/src/SMTP.php</li>
</ul>
<p><strong>å°†PHPMaileråŒ…æ”¾åœ¨å°†è¦ä½¿ç”¨çš„é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹</strong></p>
<h3><span id="sendmailphp">sendMail.php</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">&#x2F;&#x2F; å‘é€é‚®ä»¶çš„å‡½æ•° </span><br><span class="line"></span><br><span class="line">    use PHPMailer\PHPMailer\PHPMailer;</span><br><span class="line">    use PHPMailer\PHPMailer\Exception;</span><br><span class="line">    &#x2F;&#x2F;å¼•å…¥é¡¹ç›®</span><br><span class="line">    require &#39;.&#x2F;PHPMailer&#x2F;src&#x2F;Exception.php&#39;;</span><br><span class="line">    require &#39;.&#x2F;PHPMailer&#x2F;src&#x2F;PHPMailer.php&#39;;</span><br><span class="line">    require &#39;.&#x2F;PHPMailer&#x2F;src&#x2F;SMTP.php&#39;;</span><br><span class="line"></span><br><span class="line">    function funSendMail($toMail, $mailcontent) &#123;     </span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;å®ä¾‹åŒ–PHPMailç±»</span><br><span class="line">        $mail &#x3D; new PHPMailer(true);                              </span><br><span class="line">        try &#123;</span><br><span class="line">            &#x2F;&#x2F;Server settings</span><br><span class="line">            $mail-&gt;SMTPDebug &#x3D; 0; &#x2F;&#x2F; 0 1 2                                 </span><br><span class="line">            $mail-&gt;isSMTP();  &#x2F;&#x2F; ä½¿ç”¨SMTPå‘é€é‚®ä»¶</span><br><span class="line">            $mail-&gt;Host &#x3D; &#39;smtp.163.com&#39;;  &#x2F;&#x2F;SMTPé‚®ä»¶æœåŠ¡å™¨åœ°å€ï¼ˆè…¾è®¯ä¼ä¸šé‚®ä¸ºä¾‹ï¼‰</span><br><span class="line">            $mail-&gt;SMTPAuth &#x3D; true;                               </span><br><span class="line">            $mail-&gt;Username &#x3D; &#39;187xxxxx8@163.com&#39;; &#x2F;&#x2F; SMTP å‘ä»¶äººé‚®ç®±</span><br><span class="line">            $mail-&gt;Password &#x3D; &#39;xxxx&#39;;  &#x2F;&#x2F; SMTP å‘ä»¶äººé‚®ç®±å¯†ç </span><br><span class="line">            $mail-&gt;SMTPSecure &#x3D; &#39;ssl&#39;;      &#x2F;&#x2F; Enable TLS encryption, &#96;ssl&#96; also accepted</span><br><span class="line">            $mail-&gt;Port &#x3D; 465;       &#x2F;&#x2F; TCP port to connect to</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;å‘ä»¶äºº</span><br><span class="line">            $mail-&gt;setFrom(&quot;187xxxxx8@163.com&quot;, &#39;ç½‘ç«™ç®¡ç†ç³»ç»Ÿ&#39;); &#x2F;&#x2F;å‘ä»¶äººé‚®ç®±ï¼ˆåŒ $mail-&gt;Usernameé¡¹è®¾ç½®ï¼‰ã€å‘ä»¶äººåç§°</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;æ”¶ä»¶äººã€‚å¤šæ”¶ä»¶äººå¯è®¾ç½®å¤šä¸ªaddAddress</span><br><span class="line">            $mail-&gt;addAddress($toMail);&#x2F;&#x2F;æ”¶ä»¶äººé‚®ç®±åœ°å€ï¼Œæ”¶ä»¶äººå§“åï¼ˆé€‰å¡«ï¼‰</span><br><span class="line">            &#x2F;&#x2F;$mail-&gt;addAddress(&#39;ellen@example.com&#39;);               &#x2F;&#x2F; æ”¶ä»¶äººé‚®ç®±åœ°å€</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;å‘é€é™„ä»¶</span><br><span class="line">            &#x2F;&#x2F;$mail-&gt;addAttachment(&#39;&#x2F;var&#x2F;tmp&#x2F;file.tar.gz&#39;);         &#x2F;&#x2F; æ·»åŠ é™„ä»¶</span><br><span class="line">            &#x2F;&#x2F;$mail-&gt;addAttachment(&#39;&#x2F;tmp&#x2F;image.jpg&#39;, &#39;new.jpg&#39;);    &#x2F;&#x2F; è®¾ç½®é™„ä»¶ä»¥åŠé™„ä»¶åç§°</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F;é‚®ä»¶å†…å®¹</span><br><span class="line">            $mail-&gt;isHTML(true);                                  &#x2F;&#x2F;   å‘é€htmlæ ¼å¼é‚®ä»¶</span><br><span class="line">            $mail-&gt;Subject &#x3D; &#39;ç”¨æˆ·å¸å·æ¿€æ´»&#39;;                                &#x2F;&#x2F;é‚®ä»¶æ ‡é¢˜</span><br><span class="line">            $mail-&gt;Body    &#x3D; $mailcontent; &#x2F;&#x2F;é‚®ä»¶å†…å®¹</span><br><span class="line">            &#x2F;&#x2F;$mail-&gt;AltBody &#x3D; &#39;é‚®ä»¶æ‘˜è¦&#39;;                    &#x2F;&#x2F;ç›®æµ‹æ²¡ä»€ä¹ˆç”¨ï¼Œå¯å»æ‰</span><br><span class="line"></span><br><span class="line">            $mail-&gt;send();</span><br><span class="line"></span><br><span class="line">            echo &quot;æ­å–œï¼æ³¨å†ŒæˆåŠŸï¼è¯·ç™»å½•é‚®ç®±åŠæ—¶æ¿€æ´»è´¦å·ï¼Œè‹¥æœªæ”¶åˆ°é‚®ä»¶ï¼Œè¯·æŸ¥çœ‹åƒåœ¾é‚®ä»¶&quot;;</span><br><span class="line">            </span><br><span class="line">        &#125; catch (Exception $e) &#123;</span><br><span class="line">            &#x2F;&#x2F;echo &#39;Message could not be sent. Mailer Error: &#39;, $mail-&gt;ErrorInfo;</span><br><span class="line">            echo &quot;å¯¹ä¸èµ·ï¼Œé‚®ä»¶å‘é€å¤±è´¥ï¼è¯·æ£€æŸ¥é‚®ç®±å¡«å†™æ˜¯å¦æœ‰è¯¯ã€‚&quot;;</span><br><span class="line">            </span><br><span class="line">            exit();</span><br><span class="line">        &#125;</span><br><span class="line">            &#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>


<h3><span id="testphp">test.php</span></h3><p>è°ƒç”¨å‡½æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">    require_once &#39;sendMail.php&#39;;</span><br><span class="line">    $toMail &#x3D; &quot;1xxxxxxx12@qq.com&quot;;</span><br><span class="line">    $mailcontent &#x3D; &quot;hello&quot;;</span><br><span class="line">    funSendMail($toMail, $mailcontent);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="é‚®ä»¶å†…å®¹ä¹±ç é—®é¢˜">é‚®ä»¶å†…å®¹ä¹±ç é—®é¢˜</span></h3><p>ç”µè„‘é‚®ç®±æŸ¥çœ‹ä¸ä¹±ç </p>
<p>æ‰‹æœºä¸Šçœ‹ä¹±ç </p>
<p>è§£å†³: </p>
<p>è¿›å…¥åˆ°PHPMailer/srcç›®å½•ï¼Œæ‰“å¼€PHPMailer.phpæ–‡ä»¶ï¼Œå°†CHARSET_ISO88591ã€CHARSET_UTF8ä¸¤é¡¹ä¿®æ”¹ä¸ºUTF-8ç¼–ç </p>
<p>è®¾ç½®é‚®ä»¶ç¼–ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$mail &#x3D; new PHPMailer();</span><br><span class="line">$mail-&gt;Charset&#x3D;&#39;UTF-8&#39;;</span><br></pre></td></tr></table></figure>

<h3><span id="å‚è€ƒ">å‚è€ƒ</span></h3><p><a href="https://www.jianshu.com/p/d103cabb9d68" target="_blank" rel="noopener external nofollow noreferrer">PHPMailer6.0.5é‚®ä»¶å‘é€å®ä¾‹ï¼Œå¹¶è§£å†³ä¹±ç é—®é¢˜</a></p>
<p><a href="https://www.cnblogs.com/wangpg/p/5330759.html" target="_blank" rel="noopener external nofollow noreferrer">PHPMailerä¸­æ–‡ä¹±ç é—®é¢˜çš„è§£å†³æ–¹æ³•</a></p>
]]></content>
      <tags>
        <tag>PHPMailer é‚®ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>PHPå®ç°æ³¨å†Œæ—¶é‚®ç®±éªŒè¯</title>
    <url>/2019-12-11-php-shi-xian-zhu-ce-shi-you-xiang-yan-zheng.html</url>
    <content><![CDATA[<p>è¯´æ˜ï¼š</p>
<ul>
<li>PHP7</li>
<li>ä½¿ç”¨smtp</li>
<li>163é‚®ç®±</li>
</ul>
<p>å®ç°æ€è·¯ï¼š</p>
<ul>
<li>æ³¨å†Œæ—¶åˆ©ç”¨ç”¨æˆ·åã€åŠ å¯†å¯†ç ã€æ—¶é—´æˆ³æ„å»ºæ¿€æ´»è¯†åˆ«ç å­˜å…¥æ•°æ®åº“ï¼Œæ•°æ®åº“ä¸­active_status=0</li>
<li>å‘é€é‚®ä»¶ç»™ç”¨æˆ·ï¼Œæ¿€æ´»è¯†åˆ«ç ä¼ å…¥ æ¿€æ´»é“¾æ¥ï¼Œç‚¹å‡»é“¾æ¥GETæ–¹å¼å°†æ¿€æ´»è¯†åˆ«ç äº¤ç»™åå°å¤„ç†</li>
<li>æ¿€æ´»å°†active_status=1</li>
</ul>
<p>æ–‡ä»¶ç›®å½•:</p>
<ul>
<li>register.html</li>
<li>register.php</li>
<li>sql.php</li>
<li>Smtp.class.php</li>
<li>active.php</li>
</ul>
<a id="more"></a>

<h3><span id="æ•°æ®è¡¨">æ•°æ®è¡¨</span></h3><p><img src="/assets/images/PHPMail/1.png" alt="image"></p>
<ul>
<li>æ³¨æ„è®¾ç½®æ•°å€¼å‹å­—æ®µåˆå€¼</li>
</ul>
<h3><span id="registerhtml">register.html</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot; &#x2F;&gt;</span><br><span class="line">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;æ³¨å†Œ&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1&quot;&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form action&#x3D;&quot;register.php&quot; method&#x3D;&quot;post&quot;&gt;</span><br><span class="line">        &lt;label&gt;å§“åï¼š&lt;&#x2F;label&gt;&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;sName&quot; &#x2F;&gt;&lt;br&#x2F;&gt;</span><br><span class="line">        &lt;label&gt;å­¦å·ï¼š&lt;&#x2F;label&gt;&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;sId&quot; &#x2F;&gt;&lt;br&#x2F;&gt;</span><br><span class="line">        &lt;label&gt;ç­çº§ï¼š&lt;&#x2F;label&gt;&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;sClass&quot; &#x2F;&gt;&lt;br&#x2F;&gt;</span><br><span class="line">        &lt;label&gt;æ‰‹æœºå·ï¼š&lt;&#x2F;label&gt;&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;sPhone&quot; &#x2F;&gt;&lt;br&#x2F;&gt;</span><br><span class="line">        &lt;label&gt;é‚®ç®±ï¼š&lt;&#x2F;label&gt;&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;sMail&quot; &#x2F;&gt;&lt;br&#x2F;&gt;</span><br><span class="line">        &lt;label&gt;å¯†ç ï¼š&lt;&#x2F;label&gt;&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;sPwd&quot; &#x2F;&gt;&lt;br&#x2F;&gt;</span><br><span class="line">        &lt;input type&#x3D;&quot;submit&quot; name&#x3D;&quot;submit&quot; value&#x3D;&quot;æ³¨å†Œ&quot; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;form&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="sqlphp">sql.php</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    $server &#x3D; &quot;localhost&quot;;</span><br><span class="line">	$user &#x3D; &quot;root&quot;;</span><br><span class="line">	$password &#x3D; &quot;å¯†ç &quot;;</span><br><span class="line">    $dbname &#x3D; &quot;users&quot;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="registerphp">register.php</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    if(!isset($_POST[&quot;submit&quot;])) &#123;</span><br><span class="line">        exit();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    include &#39;.&#x2F;sql.php&#39;;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; è¿æ¥</span><br><span class="line">	$conn &#x3D; new mysqli($server, $user, $password, $dbname);</span><br><span class="line">	if($conn-&gt;connect_error)&#123;</span><br><span class="line">		die(&quot;è¿æ¥å¤±è´¥&quot; . $conn-&gt;connect_error);</span><br><span class="line">		exit();</span><br><span class="line">	&#125;</span><br><span class="line">    $conn-&gt;query(&quot;set names utf8&quot;);</span><br><span class="line"></span><br><span class="line">    $sName &#x3D; trim($_POST[&quot;sName&quot;]);</span><br><span class="line">    $sId &#x3D; trim($_POST[&quot;sId&quot;]);</span><br><span class="line">    $sClass &#x3D; trim($_POST[&quot;sClass&quot;]);</span><br><span class="line">    $sPhone &#x3D; trim($_POST[&quot;sPhone&quot;]);</span><br><span class="line">    $sMail &#x3D; trim($_POST[&quot;sMail&quot;]);</span><br><span class="line">    </span><br><span class="line">    $sPwd &#x3D; md5(trim($_POST[&quot;sPwd&quot;]));</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; ç”¨æˆ·åæ˜¯å¦å­˜åœ¨...</span><br><span class="line"></span><br><span class="line">    $regtime &#x3D; time();</span><br><span class="line"> </span><br><span class="line">    $token &#x3D; md5($sName.$sPwd.$regtime); &#x2F;&#x2F;åˆ›å»ºç”¨äºæ¿€æ´»è¯†åˆ«ç </span><br><span class="line">    $token_exptime &#x3D; time()+60*60*24;&#x2F;&#x2F;è¿‡æœŸæ—¶é—´ä¸º24å°æ—¶å</span><br><span class="line"></span><br><span class="line">    $sql_insert &#x3D; &quot;INSERT INTO &#96;sys_students&#96; </span><br><span class="line">        (&#96;sId&#96;, &#96;sName&#96;, &#96;sClass&#96;, &#96;sPhone&#96;, &#96;sMail&#96;, &#96;sPwd&#96;, &#96;token&#96;, </span><br><span class="line">        &#96;token_exptime&#96;, &#96;regtime&#96;)</span><br><span class="line">        VALUES ($sId, &#39;$sName&#39;, &#39;$sClass&#39;, &#39;$sPhone&#39;, &#39;$sMail&#39;, &#39;$sPwd&#39;, &#39;$token&#39;, </span><br><span class="line">        $token_exptime, $regtime)&quot;;</span><br><span class="line">    $result &#x3D; $conn-&gt;query($sql_insert);</span><br><span class="line">    </span><br><span class="line">    if($result) &#123;&#x2F;&#x2F; æ•°æ®æ’å…¥æˆåŠŸ</span><br><span class="line">        require_once &quot;Smtp.class.php&quot;;</span><br><span class="line">        &#x2F;&#x2F;******************** é…ç½®ä¿¡æ¯ ********************************</span><br><span class="line">        $smtpserver &#x3D; &quot;smtp.163.com&quot;;&#x2F;&#x2F;SMTPæœåŠ¡å™¨</span><br><span class="line">        $smtpserverport &#x3D;25;&#x2F;&#x2F;SMTPæœåŠ¡å™¨ç«¯å£</span><br><span class="line">        $smtpusermail &#x3D; &quot;187xx212478@163.com&quot;;&#x2F;&#x2F;SMTPæœåŠ¡å™¨çš„ç”¨æˆ·é‚®ç®±</span><br><span class="line">        $smtpemailto &#x3D; $sMail;&#x2F;&#x2F;å‘é€ç»™è°</span><br><span class="line">        $smtpuser &#x3D; &quot;187xx2478@163.com&quot;;&#x2F;&#x2F;SMTPæœåŠ¡å™¨çš„ç”¨æˆ·å¸å·ï¼Œæ³¨ï¼šéƒ¨åˆ†é‚®ç®±åªéœ€@å‰é¢çš„ç”¨æˆ·å</span><br><span class="line">        $smtppass &#x3D; &quot;å¯†ç &quot;;&#x2F;&#x2F;SMTPæœåŠ¡å™¨çš„æˆæƒç </span><br><span class="line">        $mailtitle &#x3D; &quot;ç”¨æˆ·å¸å·æ¿€æ´»&quot;;&#x2F;&#x2F;é‚®ä»¶ä¸»é¢˜</span><br><span class="line">        $mailcontent &#x3D; &quot;äº²çˆ±çš„&quot;.$sName.&quot;ï¼š&lt;br&#x2F;&gt;æ„Ÿè°¢æ‚¨åœ¨æˆ‘ç«™æ³¨å†Œäº†æ–°å¸å·ã€‚&lt;br&#x2F;&gt;è¯·ç‚¹å‡»é“¾æ¥æ¿€æ´»æ‚¨çš„å¸å·ã€‚&lt;br&#x2F;&gt;&lt;a href&#x3D;&#39;http:&#x2F;&#x2F;127.0.0.1:82&#x2F;test&#x2F;mailValidate&#x2F;active.php?verify&#x3D;&quot;.$token.&quot;&#39; target&#x3D;&#39;_blank&#39;&gt;http:&#x2F;&#x2F;127.0.0.1:82&#x2F;test&#x2F;mailValidate&#x2F;active.php?verify&#x3D;&quot;.$token.&quot;&lt;&#x2F;a&gt;&lt;br&#x2F;&gt;å¦‚æœä»¥ä¸Šé“¾æ¥æ— æ³•ç‚¹å‡»ï¼Œè¯·å°†å®ƒå¤åˆ¶åˆ°ä½ çš„æµè§ˆå™¨åœ°å€æ ä¸­è¿›å…¥è®¿é—®ï¼Œè¯¥é“¾æ¥24å°æ—¶å†…æœ‰æ•ˆã€‚&lt;br&#x2F;&gt;å¦‚æœæ­¤æ¬¡æ¿€æ´»è¯·æ±‚éä½ æœ¬äººæ‰€å‘ï¼Œè¯·å¿½ç•¥æœ¬é‚®ä»¶ã€‚&lt;br&#x2F;&gt;&lt;p style&#x3D;&#39;text-align:right&#39;&gt;æ³¨å†Œ&lt;&#x2F;p&gt;&quot;;&#x2F;&#x2F;é‚®ä»¶å†…å®¹</span><br><span class="line">        $mailtype &#x3D; &quot;HTML&quot;;&#x2F;&#x2F;é‚®ä»¶æ ¼å¼ï¼ˆHTML&#x2F;TXTï¼‰,TXTä¸ºæ–‡æœ¬é‚®ä»¶</span><br><span class="line">        &#x2F;&#x2F;************************ é…ç½®ä¿¡æ¯ ****************************</span><br><span class="line">        $smtp &#x3D; new Smtp($smtpserver,$smtpserverport,true,$smtpuser,$smtppass);&#x2F;&#x2F;è¿™é‡Œé¢çš„ä¸€ä¸ªtrueæ˜¯è¡¨ç¤ºä½¿ç”¨èº«ä»½éªŒè¯,å¦åˆ™ä¸ä½¿ç”¨èº«ä»½éªŒè¯.</span><br><span class="line">        $smtp-&gt;debug &#x3D; false;&#x2F;&#x2F;æ˜¯å¦æ˜¾ç¤ºå‘é€çš„è°ƒè¯•ä¿¡æ¯</span><br><span class="line">        $state &#x3D; $smtp-&gt;sendmail($smtpemailto, $smtpusermail, $mailtitle, $mailcontent, $mailtype);</span><br><span class="line">    </span><br><span class="line">        echo &quot;&lt;div style&#x3D;&#39;width:300px; margin:36px auto;&#39;&gt;&quot;;</span><br><span class="line">        if($state&#x3D;&#x3D;&quot;&quot;)&#123;</span><br><span class="line">            echo &quot;å¯¹ä¸èµ·ï¼Œé‚®ä»¶å‘é€å¤±è´¥ï¼è¯·æ£€æŸ¥é‚®ç®±å¡«å†™æ˜¯å¦æœ‰è¯¯ã€‚&quot;;</span><br><span class="line">            echo &quot;&lt;a href&#x3D;&#39;index.html&#39;&gt;ç‚¹æ­¤è¿”å›&lt;&#x2F;a&gt;&quot;;</span><br><span class="line">            exit();</span><br><span class="line">        &#125;</span><br><span class="line">        echo &quot;æ­å–œï¼æ³¨å†ŒæˆåŠŸï¼è¯·ç™»å½•é‚®ç®±å³ä½¿æ¿€æ´»è´¦å·ï¼Œè‹¥æœªæ”¶åˆ°é‚®ä»¶ï¼Œè¯·æŸ¥çœ‹åƒåœ¾é‚®ä»¶&quot;;</span><br><span class="line">        echo &quot;&lt;a href&#x3D;&#39;index.html&#39;&gt;ç‚¹æ­¤è¿”å›&lt;&#x2F;a&gt;&quot;;</span><br><span class="line">        echo &quot;&lt;&#x2F;div&gt;&quot;;</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h4><span id="æ³¨æ„">æ³¨æ„</span></h4><ul>
<li>è¿™é‡Œä½¿ç”¨æœ¬åœ°apacheæœåŠ¡å™¨</li>
<li>163é‚®ç®±å¼€å¯SMTPéœ€è¦è®¾ç½®æˆæƒç ï¼Œå¯†ç ä½¿ç”¨æˆæƒç </li>
</ul>
<h3><span id="smtpclassphp">Smtp.class.php</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * email smtp ï¼ˆsupport php7ï¼‰</span><br><span class="line"> *</span><br><span class="line"> * Modified by: Reson 2017&#x2F;06</span><br><span class="line"> * UPDATE:</span><br><span class="line"> * 1ã€change ereg to preg_matchï¼›change ereg_replace to preg_replace.</span><br><span class="line"> * 2ã€change var to public&#x2F;private.</span><br><span class="line"> *</span><br><span class="line"> * </span><br><span class="line"> *</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Smtp</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;* Public Variables *&#x2F;</span><br><span class="line">    public $smtp_port;</span><br><span class="line"></span><br><span class="line">    public $time_out;</span><br><span class="line"></span><br><span class="line">    public $host_name;</span><br><span class="line"></span><br><span class="line">    public $log_file;</span><br><span class="line"></span><br><span class="line">    public $relay_host;</span><br><span class="line"></span><br><span class="line">    public $debug;</span><br><span class="line"></span><br><span class="line">    public $auth;</span><br><span class="line"></span><br><span class="line">    public $user;</span><br><span class="line"></span><br><span class="line">    public $pass;</span><br><span class="line"></span><br><span class="line">    &#x2F;* Private Variables *&#x2F;</span><br><span class="line">    private $sock;</span><br><span class="line"></span><br><span class="line">    &#x2F;* Constractor *&#x2F;</span><br><span class="line">    function __construct($relay_host &#x3D; &quot;&quot;, $smtp_port &#x3D; 25,$auth &#x3D; false,$user,$pass)</span><br><span class="line">    &#123;</span><br><span class="line">        $this-&gt;debug &#x3D; FALSE;</span><br><span class="line"></span><br><span class="line">        $this-&gt;smtp_port &#x3D; $smtp_port;</span><br><span class="line"></span><br><span class="line">        $this-&gt;relay_host &#x3D; $relay_host;</span><br><span class="line"></span><br><span class="line">        $this-&gt;time_out &#x3D; 30; &#x2F;&#x2F;is used in fsockopen()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        $this-&gt;auth &#x3D; $auth;&#x2F;&#x2F;auth</span><br><span class="line"></span><br><span class="line">        $this-&gt;user &#x3D; $user;</span><br><span class="line"></span><br><span class="line">        $this-&gt;pass &#x3D; $pass;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        $this-&gt;host_name &#x3D; &quot;localhost&quot;; &#x2F;&#x2F;is used in HELO command</span><br><span class="line">        $this-&gt;log_file &#x3D; &quot;&quot;;</span><br><span class="line"></span><br><span class="line">        $this-&gt;sock &#x3D; FALSE;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;* Main Function *&#x2F;</span><br><span class="line"></span><br><span class="line">    function sendmail($to, $from, $subject &#x3D; &quot;&quot;, $body &#x3D; &quot;&quot;, $mailtype, $cc &#x3D; &quot;&quot;, $bcc &#x3D; &quot;&quot;, $additional_headers &#x3D; &quot;&quot;)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        $mail_from &#x3D; $this-&gt;get_address($this-&gt;strip_comment($from));</span><br><span class="line"></span><br><span class="line">        $body &#x3D; preg_replace(&quot;&#x2F;(^|(\r\n))(\.)&#x2F;&quot;, &quot;\1.\3&quot;, $body);</span><br><span class="line"></span><br><span class="line">        $header &#x3D; &quot;MIME-Version:1.0\r\n&quot;;</span><br><span class="line"></span><br><span class="line">        if($mailtype&#x3D;&#x3D;&quot;HTML&quot;)&#123;</span><br><span class="line"></span><br><span class="line">            $header .&#x3D; &quot;Content-Type:text&#x2F;html\r\n&quot;;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $header .&#x3D; &quot;To: &quot;.$to.&quot;\r\n&quot;;</span><br><span class="line"></span><br><span class="line">        if ($cc !&#x3D; &quot;&quot;) &#123;</span><br><span class="line"></span><br><span class="line">            $header .&#x3D; &quot;Cc: &quot;.$cc.&quot;\r\n&quot;;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $header .&#x3D; &quot;From: $from&lt;&quot;.$from.&quot;&gt;\r\n&quot;;</span><br><span class="line"></span><br><span class="line">        $header .&#x3D; &quot;Subject: &quot;.$subject.&quot;\r\n&quot;;</span><br><span class="line"></span><br><span class="line">        $header .&#x3D; $additional_headers;</span><br><span class="line"></span><br><span class="line">        $header .&#x3D; &quot;Date: &quot;.date(&quot;r&quot;).&quot;\r\n&quot;;</span><br><span class="line"></span><br><span class="line">        $header .&#x3D; &quot;X-Mailer:By Redhat (PHP&#x2F;&quot;.phpversion().&quot;)\r\n&quot;;</span><br><span class="line"></span><br><span class="line">        list($msec, $sec) &#x3D; explode(&quot; &quot;, microtime());</span><br><span class="line"></span><br><span class="line">        $header .&#x3D; &quot;Message-ID: &lt;&quot;.date(&quot;YmdHis&quot;, $sec).&quot;.&quot;.($msec*1000000).&quot;.&quot;.$mail_from.&quot;&gt;\r\n&quot;;</span><br><span class="line"></span><br><span class="line">        $TO &#x3D; explode(&quot;,&quot;, $this-&gt;strip_comment($to));</span><br><span class="line"></span><br><span class="line">        if ($cc !&#x3D; &quot;&quot;) &#123;</span><br><span class="line"></span><br><span class="line">            $TO &#x3D; array_merge($TO, explode(&quot;,&quot;, $this-&gt;strip_comment($cc)));</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if ($bcc !&#x3D; &quot;&quot;) &#123;</span><br><span class="line"></span><br><span class="line">            $TO &#x3D; array_merge($TO, explode(&quot;,&quot;, $this-&gt;strip_comment($bcc)));</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $sent &#x3D; TRUE;</span><br><span class="line"></span><br><span class="line">        foreach ($TO as $rcpt_to) &#123;</span><br><span class="line"></span><br><span class="line">            $rcpt_to &#x3D; $this-&gt;get_address($rcpt_to);</span><br><span class="line"></span><br><span class="line">            if (!$this-&gt;smtp_sockopen($rcpt_to)) &#123;</span><br><span class="line"></span><br><span class="line">                $this-&gt;log_write(&quot;Error: Cannot send email to &quot;.$rcpt_to.&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">                $sent &#x3D; FALSE;</span><br><span class="line"></span><br><span class="line">                continue;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if ($this-&gt;smtp_send($this-&gt;host_name, $mail_from, $rcpt_to, $header, $body)) &#123;</span><br><span class="line"></span><br><span class="line">                $this-&gt;log_write(&quot;E-mail has been sent to &lt;&quot;.$rcpt_to.&quot;&gt;\n&quot;);</span><br><span class="line"></span><br><span class="line">            &#125; else &#123;</span><br><span class="line"></span><br><span class="line">                $this-&gt;log_write(&quot;Error: Cannot send email to &lt;&quot;.$rcpt_to.&quot;&gt;\n&quot;);</span><br><span class="line"></span><br><span class="line">                $sent &#x3D; FALSE;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            fclose($this-&gt;sock);</span><br><span class="line"></span><br><span class="line">            $this-&gt;log_write(&quot;Disconnected from remote host\n&quot;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return $sent;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;* Private Functions *&#x2F;</span><br><span class="line"></span><br><span class="line">    function smtp_send($helo, $from, $to, $header, $body &#x3D; &quot;&quot;)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        if (!$this-&gt;smtp_putcmd(&quot;HELO&quot;, $helo)) &#123;</span><br><span class="line"></span><br><span class="line">            return $this-&gt;smtp_error(&quot;sending HELO command&quot;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;auth</span><br><span class="line">        if($this-&gt;auth)&#123;</span><br><span class="line"></span><br><span class="line">            if (!$this-&gt;smtp_putcmd(&quot;AUTH LOGIN&quot;, base64_encode($this-&gt;user))) &#123;</span><br><span class="line"></span><br><span class="line">                return $this-&gt;smtp_error(&quot;sending HELO command&quot;);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if (!$this-&gt;smtp_putcmd(&quot;&quot;, base64_encode($this-&gt;pass))) &#123;</span><br><span class="line"></span><br><span class="line">                return $this-&gt;smtp_error(&quot;sending HELO command&quot;);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        if (!$this-&gt;smtp_putcmd(&quot;MAIL&quot;, &quot;FROM:&lt;&quot;.$from.&quot;&gt;&quot;)) &#123;</span><br><span class="line"></span><br><span class="line">            return $this-&gt;smtp_error(&quot;sending MAIL FROM command&quot;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (!$this-&gt;smtp_putcmd(&quot;RCPT&quot;, &quot;TO:&lt;&quot;.$to.&quot;&gt;&quot;)) &#123;</span><br><span class="line"></span><br><span class="line">            return $this-&gt;smtp_error(&quot;sending RCPT TO command&quot;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (!$this-&gt;smtp_putcmd(&quot;DATA&quot;)) &#123;</span><br><span class="line"></span><br><span class="line">            return $this-&gt;smtp_error(&quot;sending DATA command&quot;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (!$this-&gt;smtp_message($header, $body)) &#123;</span><br><span class="line"></span><br><span class="line">            return $this-&gt;smtp_error(&quot;sending message&quot;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (!$this-&gt;smtp_eom()) &#123;</span><br><span class="line"></span><br><span class="line">            return $this-&gt;smtp_error(&quot;sending &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt; [EOM]&quot;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (!$this-&gt;smtp_putcmd(&quot;QUIT&quot;)) &#123;</span><br><span class="line"></span><br><span class="line">            return $this-&gt;smtp_error(&quot;sending QUIT command&quot;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return TRUE;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function smtp_sockopen($address)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        if ($this-&gt;relay_host &#x3D;&#x3D; &quot;&quot;) &#123;</span><br><span class="line"></span><br><span class="line">            return $this-&gt;smtp_sockopen_mx($address);</span><br><span class="line"></span><br><span class="line">        &#125; else &#123;</span><br><span class="line"></span><br><span class="line">            return $this-&gt;smtp_sockopen_relay();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function smtp_sockopen_relay()</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        $this-&gt;log_write(&quot;Trying to &quot;.$this-&gt;relay_host.&quot;:&quot;.$this-&gt;smtp_port.&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">        $this-&gt;sock &#x3D; @fsockopen($this-&gt;relay_host, $this-&gt;smtp_port, $errno, $errstr, $this-&gt;time_out);</span><br><span class="line"></span><br><span class="line">        if (!($this-&gt;sock &amp;&amp; $this-&gt;smtp_ok())) &#123;</span><br><span class="line"></span><br><span class="line">            $this-&gt;log_write(&quot;Error: Cannot connenct to relay host &quot;.$this-&gt;relay_host.&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">            $this-&gt;log_write(&quot;Error: &quot;.$errstr.&quot; (&quot;.$errno.&quot;)\n&quot;);</span><br><span class="line"></span><br><span class="line">            return FALSE;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $this-&gt;log_write(&quot;Connected to relay host &quot;.$this-&gt;relay_host.&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">        return TRUE;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function smtp_sockopen_mx($address)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        $domain &#x3D; preg_replace(&quot;&#x2F;^.+@([^@]+)$&#x2F;&quot;, &quot;\1&quot;, $address);</span><br><span class="line"></span><br><span class="line">        if (!@getmxrr($domain, $MXHOSTS)) &#123;</span><br><span class="line"></span><br><span class="line">            $this-&gt;log_write(&quot;Error: Cannot resolve MX \&quot;&quot;.$domain.&quot;\&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">            return FALSE;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        foreach ($MXHOSTS as $host) &#123;</span><br><span class="line"></span><br><span class="line">            $this-&gt;log_write(&quot;Trying to &quot;.$host.&quot;:&quot;.$this-&gt;smtp_port.&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">            $this-&gt;sock &#x3D; @fsockopen($host, $this-&gt;smtp_port, $errno, $errstr, $this-&gt;time_out);</span><br><span class="line"></span><br><span class="line">            if (!($this-&gt;sock &amp;&amp; $this-&gt;smtp_ok())) &#123;</span><br><span class="line"></span><br><span class="line">                $this-&gt;log_write(&quot;Warning: Cannot connect to mx host &quot;.$host.&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">                $this-&gt;log_write(&quot;Error: &quot;.$errstr.&quot; (&quot;.$errno.&quot;)\n&quot;);</span><br><span class="line"></span><br><span class="line">                continue;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            $this-&gt;log_write(&quot;Connected to mx host &quot;.$host.&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">            return TRUE;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $this-&gt;log_write(&quot;Error: Cannot connect to any mx hosts (&quot;.implode(&quot;, &quot;, $MXHOSTS).&quot;)\n&quot;);</span><br><span class="line"></span><br><span class="line">        return FALSE;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function smtp_message($header, $body)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        fputs($this-&gt;sock, $header.&quot;\r\n&quot;.$body);</span><br><span class="line"></span><br><span class="line">        $this-&gt;smtp_debug(&quot;&gt; &quot;.str_replace(&quot;\r\n&quot;, &quot;\n&quot;.&quot;&gt; &quot;, $header.&quot;\n&gt; &quot;.$body.&quot;\n&gt; &quot;));</span><br><span class="line"></span><br><span class="line">        return TRUE;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function smtp_eom()</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        fputs($this-&gt;sock, &quot;\r\n.\r\n&quot;);</span><br><span class="line"></span><br><span class="line">        $this-&gt;smtp_debug(&quot;. [EOM]\n&quot;);</span><br><span class="line"></span><br><span class="line">        return $this-&gt;smtp_ok();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function smtp_ok()</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        $response &#x3D; str_replace(&quot;\r\n&quot;, &quot;&quot;, fgets($this-&gt;sock, 512));</span><br><span class="line"></span><br><span class="line">        $this-&gt;smtp_debug($response.&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">        if (!preg_match(&quot;&#x2F;^[23]&#x2F;&quot;, $response)) &#123;</span><br><span class="line"></span><br><span class="line">            fputs($this-&gt;sock, &quot;QUIT\r\n&quot;);</span><br><span class="line"></span><br><span class="line">            fgets($this-&gt;sock, 512);</span><br><span class="line"></span><br><span class="line">            $this-&gt;log_write(&quot;Error: Remote host returned \&quot;&quot;.$response.&quot;\&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">            return FALSE;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return TRUE;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function smtp_putcmd($cmd, $arg &#x3D; &quot;&quot;)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        if ($arg !&#x3D; &quot;&quot;) &#123;</span><br><span class="line"></span><br><span class="line">            if($cmd&#x3D;&#x3D;&quot;&quot;) $cmd &#x3D; $arg;</span><br><span class="line"></span><br><span class="line">            else $cmd &#x3D; $cmd.&quot; &quot;.$arg;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        fputs($this-&gt;sock, $cmd.&quot;\r\n&quot;);</span><br><span class="line"></span><br><span class="line">        $this-&gt;smtp_debug(&quot;&gt; &quot;.$cmd.&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">        return $this-&gt;smtp_ok();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function smtp_error($string)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        $this-&gt;log_write(&quot;Error: Error occurred while &quot;.$string.&quot;.\n&quot;);</span><br><span class="line"></span><br><span class="line">        return FALSE;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function log_write($message)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        $this-&gt;smtp_debug($message);</span><br><span class="line"></span><br><span class="line">        if ($this-&gt;log_file &#x3D;&#x3D; &quot;&quot;) &#123;</span><br><span class="line"></span><br><span class="line">            return TRUE;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        $message &#x3D; date(&quot;M d H:i:s &quot;).get_current_user().&quot;[&quot;.getmypid().&quot;]: &quot;.$message;</span><br><span class="line"></span><br><span class="line">        if (!@file_exists($this-&gt;log_file) || !($fp &#x3D; @fopen($this-&gt;log_file, &quot;a&quot;))) &#123;</span><br><span class="line"></span><br><span class="line">            $this-&gt;smtp_debug(&quot;Warning: Cannot open log file \&quot;&quot;.$this-&gt;log_file.&quot;\&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">            return FALSE;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        flock($fp, LOCK_EX);</span><br><span class="line"></span><br><span class="line">        fputs($fp, $message);</span><br><span class="line"></span><br><span class="line">        fclose($fp);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        return TRUE;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    function strip_comment($address)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        $comment &#x3D; &quot;&#x2F;\([^()]*\)&#x2F;&quot;;</span><br><span class="line"></span><br><span class="line">        while (preg_match($comment, $address)) &#123;</span><br><span class="line"></span><br><span class="line">            $address &#x3D; preg_replace($comment, &quot;&quot;, $address);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return $address;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    function get_address($address)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        $address &#x3D; preg_replace(&quot;&#x2F;([ \t\r\n])+&#x2F;&quot;, &quot;&quot;, $address);</span><br><span class="line"></span><br><span class="line">        $address &#x3D; preg_replace(&quot;&#x2F;^.*&lt;(.+)&gt;.*$&#x2F;&quot;, &quot;\1&quot;, $address);</span><br><span class="line"></span><br><span class="line">        return $address;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    function smtp_debug($message)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        if ($this-&gt;debug) &#123;</span><br><span class="line"></span><br><span class="line">            echo $message;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="activephp">active.php</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">include &#39;.&#x2F;sql.php&#39;;</span><br><span class="line">&#x2F;&#x2F; è¿æ¥</span><br><span class="line">$conn &#x3D; new mysqli($server, $user, $password, $dbname);</span><br><span class="line">if($conn-&gt;connect_error)&#123;</span><br><span class="line">    die(&quot;è¿æ¥å¤±è´¥&quot; . $conn-&gt;connect_error);</span><br><span class="line">    exit();</span><br><span class="line">&#125;</span><br><span class="line">$conn-&gt;query(&quot;set names utf8&quot;);</span><br><span class="line"></span><br><span class="line">$verify &#x3D; stripslashes(trim($_GET[&#39;verify&#39;]));</span><br><span class="line">$nowtime &#x3D; time();</span><br><span class="line">$sql &#x3D; &quot;SELECT id,token_exptime FROM sys_students WHERE status&#x3D;0 AND token&#x3D;&#39;$verify&#39;&quot;;</span><br><span class="line">$result &#x3D; $conn-&gt;query($sql);</span><br><span class="line">$row &#x3D; $result-&gt;fetch_assoc();</span><br><span class="line"></span><br><span class="line">if ($row) &#123;</span><br><span class="line">	if ($nowtime &gt; $row[&#39;token_exptime&#39;]) &#123; </span><br><span class="line">        echo &quot;&lt;script&gt;</span><br><span class="line">                alert(&#39;æ‚¨çš„æ¿€æ´»æœ‰æ•ˆæœŸå·²è¿‡ï¼Œè¯·ç™»å½•æ‚¨çš„å¸å·é‡æ–°å‘é€æ¿€æ´»é‚®ä»¶&#39;);</span><br><span class="line">        &lt;&#x2F;script&gt;&quot;;</span><br><span class="line">    &#125; </span><br><span class="line">    else &#123;</span><br><span class="line">        $sql_update &#x3D; &quot;UPDATE sys_students SET active_status&#x3D;1 WHERE id&#x3D;&quot; . $row[&#39;id&#39;];</span><br><span class="line">        $result_update &#x3D; $conn-&gt;query($sql_update);</span><br><span class="line">        if ($result_update) &#123;</span><br><span class="line">            echo &quot;&lt;script&gt;</span><br><span class="line">            alert(&#39;æ¿€æ´»æˆåŠŸï¼&#39;);</span><br><span class="line">            &lt;&#x2F;script&gt;&quot;;</span><br><span class="line">            </span><br><span class="line">        &#125; </span><br><span class="line">        else &#123;</span><br><span class="line">            echo &quot;&lt;script&gt;</span><br><span class="line">            alert(&#39;æœåŠ¡å™¨å¿™ï¼&#39;);</span><br><span class="line">            &lt;&#x2F;script&gt;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    echo &quot;&lt;script&gt;</span><br><span class="line">            alert(&#39;error&#39;);</span><br><span class="line">    &lt;&#x2F;script&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</span></h3><p><a href="https://www.cnblogs.com/linksgo2011/archive/2013/04/23/3037429.html" target="_blank" rel="noopener external nofollow noreferrer">php é‚®ç®±éªŒè¯åŸç†</a></p>
<p><a href="https://www.moquit.com/1520.html" target="_blank" rel="noopener external nofollow noreferrer">PHPç”¨æˆ·æ³¨å†Œé‚®ç®±éªŒè¯æ¿€æ´»å¸å·</a></p>
<p><a href="https://segmentfault.com/a/1190000014789528" target="_blank" rel="noopener external nofollow noreferrer">ç”¨phpmailå‘é€é‚®ä»¶ï¼Œç®€å•å®ç°phpå‘é‚®ä»¶åŠŸèƒ½ï¼</a></p>
]]></content>
      <tags>
        <tag>php é‚®ç®±éªŒè¯</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­å»ºIPSec VPN è™šæ‹Ÿå±€åŸŸç½‘</title>
    <url>/2019-11-12-ipsec-vpn-xu-ni-ju-yu-wang-da-jian.html</url>
    <content><![CDATA[<p>ç¯å¢ƒ: </p>
<ul>
<li>æœåŠ¡å™¨ï¼šé˜¿é‡Œäº‘ ubuntu</li>
<li>å®¢æˆ·ç«¯ï¼šå…¶ä»–è®¾å¤‡</li>
</ul>
<a id="more"></a>

<h3><span id="æœåŠ¡ç«¯">æœåŠ¡ç«¯</span></h3><p>å‚è€ƒgithub: <a href="https://github.com/hwdsl2/setup-ipsec-vpn/blob/master/README-zh.md" target="_blank" rel="noopener external nofollow noreferrer">IPsec VPN æœåŠ¡å™¨ä¸€é”®å®‰è£…è„šæœ¬</a></p>
<h3><span id="å®¢æˆ·ç«¯">å®¢æˆ·ç«¯</span></h3><ul>
<li>win10</li>
</ul>
<p>æ‰€æœ‰é—®é¢˜éƒ½èƒ½åœ¨æ­¤æ‰¾åˆ°ï¼š<br><a href="https://github.com/hwdsl2/setup-ipsec-vpn/blob/master/docs/clients-zh.md#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4" target="_blank" rel="noopener external nofollow noreferrer">é…ç½® IPsec/L2TP VPN å®¢æˆ·ç«¯</a></p>
<h4><span id="ç½‘ç»œè®¾ç½®é‡Œæ–°å»ºvpn">ç½‘ç»œè®¾ç½®é‡Œæ–°å»ºVPN</span></h4><p>å¦‚ä¸‹ç•Œé¢è¿›è¡Œé…ç½®ï¼š</p>
<p><img src="/assets/images/IPSec/1.png" alt="å›¾ç‰‡"></p>
<h4><span id="ç‚¹å‡»æ–°å»ºçš„vpnè¿›è¡Œè¿æ¥">ç‚¹å‡»æ–°å»ºçš„vpnè¿›è¡Œè¿æ¥</span></h4><p>æœªæˆåŠŸè¿æ¥æ—¶ï¼Œä½¿ç”¨ä»¥ä¸‹æ–¹æ³•</p>
<h4><span id="æŸ¥çœ‹æœåŠ¡">æŸ¥çœ‹æœåŠ¡</span></h4><p><a href="https://www.tp-link.com/en/support/faq/1029/" target="_blank" rel="noopener external nofollow noreferrer">æŸ¥çœ‹æœåŠ¡æ˜¯å¦å¯åŠ¨</a></p>
<h4><span id="æ³¨å†Œè¡¨é‡Œæ·»åŠ ">æ³¨å†Œè¡¨é‡Œæ·»åŠ </span></h4><p>æ–¹æ³•ï¼šä½¿ç”¨ç®¡ç†å‘˜æ‰“å¼€CMD</p>
<p>è¾“å…¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">REG ADD HKLM\SYSTEM\CurrentControlSet\Services\PolicyAgent &#x2F;v AssumeUDPEncapsulationContextOnSendRule &#x2F;t REG_DWORD &#x2F;d 0x2 &#x2F;f</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">REG ADD HKLM\SYSTEM\CurrentControlSet\Services\RasMan\Parameters &#x2F;v ProhibitIpSec &#x2F;t REG_DWORD &#x2F;d 0x0 &#x2F;f</span><br></pre></td></tr></table></figure>
<p>CMDæç¤ºæ“ä½œå®Œæˆ</p>
<p>é‡å¯è®¡ç®—æœº</p>
<h4><span id="è¿æ¥åæ— æ³•ä½¿ç”¨ç½‘ç»œçš„é—®é¢˜">è¿æ¥åæ— æ³•ä½¿ç”¨ç½‘ç»œçš„é—®é¢˜</span></h4><p><img src="/assets/images/IPSec/2.png" alt="å›¾ç‰‡"></p>
<p><img src="/assets/images/IPSec/3.png" alt="å›¾ç‰‡"></p>
<h4><span id="å®¢æˆ·ç«¯åœ¨åŒä¸€å±€åŸŸç½‘æ— æ³•pingé€š">å®¢æˆ·ç«¯åœ¨åŒä¸€å±€åŸŸç½‘æ— æ³•pingé€š</span></h4><p>å…³é—­æœ¬åœ°é˜²ç«å¢™</p>
]]></content>
      <tags>
        <tag>VPN IPSec è™šæ‹Ÿå±€åŸŸç½‘</tag>
      </tags>
  </entry>
  <entry>
    <title>arcEngine C# ç‹¬ç«‹çš„åœ°ç†ä¿¡æ¯ç³»ç»Ÿç¨‹åº è®¡ç®—ç‚¹åæ ‡ã€çº¿é•¿ã€é¢ç§¯</title>
    <url>/2019-09-23-cshape-du-li-de-di-li-xin-xi-xi-tong-cheng-xu.html</url>
    <content><![CDATA[<p>åŠŸèƒ½è¯´æ˜ï¼š</p>
<ul>
<li>è®¡ç®—é¢çš„é¢ç§¯ã€çº¿çš„é•¿åº¦ã€ç‚¹çš„åæ ‡</li>
<li>ä¿å­˜åœ¨æ–°å»ºçš„å­—æ®µ</li>
<li>å°†åŠŸèƒ½å°è£…ä¸ºå‡ ä¸ªå‡½æ•°</li>
<li>å‡½æ•°åŒ…æ‹¬ï¼š</li>
<li>AddField() æ·»åŠ å­—æ®µ</li>
<li>calcArea() è®¡ç®—é¢ç§¯</li>
<li>calcLine() è®¡ç®—çº¿é•¿</li>
<li>calcXY() è®¡ç®—ç‚¹åæ ‡</li>
</ul>
<h3><span id="ç‹¬ç«‹çš„åœ°ç†ä¿¡æ¯ç³»ç»Ÿç¨‹åº">ç‹¬ç«‹çš„åœ°ç†ä¿¡æ¯ç³»ç»Ÿç¨‹åº</span></h3><ul>
<li>å»ºç«‹çª—ä½“åº”ç”¨ç¨‹åº</li>
<li>æ·»åŠ æ§ä»¶</li>
<li>æ·»åŠ æœåŠ¡ä»£ç </li>
<li>æ–°å»ºé¡¹classLibrary-&gt;Base Command</li>
</ul>
<h4><span id="command1cs">command1.cs</span></h4><ul>
<li>ä¸»è¦åœ¨public command1(){}</li>
<li>OnClick(){}</li>
<li>æ–°å»ºçš„å…¶ä»–å‡½æ•°</li>
</ul>
<a id="more"></a>

<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Drawing;</span><br><span class="line"><span class="keyword">using</span> System.Runtime.InteropServices;</span><br><span class="line"><span class="keyword">using</span> ESRI.ArcGIS.ADF.BaseClasses;</span><br><span class="line"><span class="keyword">using</span> ESRI.ArcGIS.ADF.CATIDs;</span><br><span class="line"><span class="keyword">using</span> ESRI.ArcGIS.Controls;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"><span class="keyword">using</span> ESRI.ArcGIS.ArcMapUI;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">using</span> ESRI.ArcGIS.Geodatabase;</span><br><span class="line"><span class="keyword">using</span> ESRI.ArcGIS.Carto;</span><br><span class="line"><span class="keyword">using</span> ESRI.ArcGIS.ArcMapUI;</span><br><span class="line"><span class="keyword">using</span> ESRI.ArcGIS.Geometry;</span><br><span class="line"><span class="keyword">using</span> ESRI.ArcGIS;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Input;</span><br><span class="line"><span class="keyword">using</span> GISApp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">ArcMapClassLibrary1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Command that works in ArcMap/Map/PageLayout</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    [<span class="meta">Guid(<span class="meta-string">"b31d8a09-03b3-4587-a69e-5944625f7f15"</span>)</span>]</span><br><span class="line">    [<span class="meta">ClassInterface(ClassInterfaceType.None)</span>]</span><br><span class="line">    [<span class="meta">ProgId(<span class="meta-string">"ArcMapClassLibrary1.Command1"</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <span class="title">Command1</span> : <span class="title">BaseCommand</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="meta-keyword">region</span> COM Registration Function(s)</span></span><br><span class="line">        [<span class="meta">ComRegisterFunction()</span>]</span><br><span class="line">        [<span class="meta">ComVisible(false)</span>]</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">RegisterFunction</span>(<span class="params">Type registerType</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">// Required for ArcGIS Component Category Registrar support</span></span><br><span class="line">            ArcGISCategoryRegistration(registerType);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            <span class="comment">// <span class="doctag">TODO:</span> Add any COM registration code here</span></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        [<span class="meta">ComUnregisterFunction()</span>]</span><br><span class="line">        [<span class="meta">ComVisible(false)</span>]</span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">UnregisterFunction</span>(<span class="params">Type registerType</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">// Required for ArcGIS Component Category Registrar support</span></span><br><span class="line">            ArcGISCategoryUnregistration(registerType);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            <span class="comment">// <span class="doctag">TODO:</span> Add any COM unregistration code here</span></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">region</span> ArcGIS Component Category Registrar generated code</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> Required method for ArcGIS Component Category registration -</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> Do not modify the contents of this method with the code editor.</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ArcGISCategoryRegistration</span>(<span class="params">Type registerType</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">string</span> regKey = <span class="keyword">string</span>.Format(<span class="string">"HKEY_CLASSES_ROOT\\CLSID\\&#123;&#123;&#123;0&#125;&#125;&#125;"</span>, registerType.GUID);</span><br><span class="line">            MxCommands.Register(regKey);</span><br><span class="line">            ControlsCommands.Register(regKey);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> Required method for ArcGIS Component Category unregistration -</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> Do not modify the contents of this method with the code editor.</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ArcGISCategoryUnregistration</span>(<span class="params">Type registerType</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">string</span> regKey = <span class="keyword">string</span>.Format(<span class="string">"HKEY_CLASSES_ROOT\\CLSID\\&#123;&#123;&#123;0&#125;&#125;&#125;"</span>, registerType.GUID);</span><br><span class="line">            MxCommands.Unregister(regKey);</span><br><span class="line">            ControlsCommands.Unregister(regKey);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> IHookHelper m_hookHelper = <span class="literal">null</span>;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Command1</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            <span class="comment">// <span class="doctag">TODO:</span> Define values for the public properties</span></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            <span class="keyword">base</span>.m_category = <span class="string">"GISAPP"</span>; <span class="comment">//localizable text</span></span><br><span class="line">            <span class="keyword">base</span>.m_caption = <span class="string">"å®¶ä¹¡æ•°æ®å¤„ç†"</span>;  <span class="comment">//localizable text </span></span><br><span class="line">            <span class="keyword">base</span>.m_message = <span class="string">"å®¶ä¹¡æ•°æ®å¤„ç†"</span>;  <span class="comment">//localizable text</span></span><br><span class="line">            <span class="keyword">base</span>.m_toolTip = <span class="string">"å®¶ä¹¡æ•°æ®å¤„ç†ï¼Œé¢å›¾å±‚è®¡ç®—é¢ç§¯ï¼Œçº¿å›¾å±‚è®¡ç®—é•¿åº¦ä¸å¼¯æ›²åº¦ï¼Œç‚¹å›¾å±‚è®¡ç®—ç»çº¬åº¦åæ ‡"</span>;  <span class="comment">//localizable text</span></span><br><span class="line">            <span class="keyword">base</span>.m_name = <span class="string">""</span>;   <span class="comment">//unique id, non-localizable (e.g. "MyCategory_MyCommand")</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//</span></span><br><span class="line">                <span class="comment">// <span class="doctag">TODO:</span> change bitmap name if necessary</span></span><br><span class="line">                <span class="comment">//</span></span><br><span class="line">                <span class="keyword">string</span> bitmapResourceName = GetType().Name + <span class="string">".bmp"</span>;</span><br><span class="line">                <span class="keyword">base</span>.m_bitmap = <span class="keyword">new</span> Bitmap(GetType(), bitmapResourceName);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">            &#123;</span><br><span class="line">                System.Diagnostics.Trace.WriteLine(ex.Message, <span class="string">"Invalid Bitmap"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">region</span> Overridden Class Methods</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> Occurs when this command is created</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name="hook"&gt;</span>Instance of the application<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnCreate</span>(<span class="params"><span class="keyword">object</span> hook</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">if</span> (hook == <span class="literal">null</span>)</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                m_hookHelper = <span class="keyword">new</span> HookHelperClass();</span><br><span class="line">                m_hookHelper.Hook = hook;</span><br><span class="line">                <span class="keyword">if</span> (m_hookHelper.ActiveView == <span class="literal">null</span>)</span><br><span class="line">                    m_hookHelper = <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span></span><br><span class="line">            &#123;</span><br><span class="line">                m_hookHelper = <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (m_hookHelper == <span class="literal">null</span>)</span><br><span class="line">                <span class="keyword">base</span>.m_enabled = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">base</span>.m_enabled = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// <span class="doctag">TODO:</span>  Add other initialization code</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> Occurs when this command is clicked</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnClick</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">// <span class="doctag">TODO:</span> Add Command1.OnClick implementation</span></span><br><span class="line">            <span class="comment">//MessageBox.Show("ok");</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// è·å–å½“å‰åœ°å›¾</span></span><br><span class="line">            IMap pMap = m_hookHelper.FocusMap;</span><br><span class="line">            <span class="comment">// è·å–åœ°å›¾ä¸­ç¬¬ä¸€ä¸ªå›¾å±‚</span></span><br><span class="line">            ILayer pLyr = pMap.get_Layer(<span class="number">0</span>);</span><br><span class="line">            IFeatureLayer pFeatLyr = pLyr <span class="keyword">as</span> IFeatureLayer; <span class="comment">//QI</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// è·å–è¡¨</span></span><br><span class="line">            IFeatureClass pFeatCls = pFeatLyr.FeatureClass;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// é¢å›¾å±‚è®¡ç®—é¢ç§¯ //</span></span><br><span class="line">            <span class="keyword">if</span>(esriGeometryType.esriGeometryPolygon == pFeatCls.ShapeType)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// æ·»åŠ å­—æ®µï¼Œè°ƒç”¨å»ºç«‹å­—æ®µæ–¹æ³•</span></span><br><span class="line">                addField(pFeatCls, <span class="string">"VS_area"</span>, esriFieldType.esriFieldTypeDouble);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// è°ƒç”¨è®¡ç®—é¢ç§¯æ–¹æ³•</span></span><br><span class="line">                calcArea(pFeatCls);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// çº¿å›¾å±‚è®¡ç®—çº¿é•¿ //</span></span><br><span class="line">            <span class="keyword">if</span>(esriGeometryType.esriGeometryPolyline == pFeatCls.ShapeType)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// æ·»åŠ çº¿é•¿å­—æ®µï¼Œè°ƒç”¨æ–°å»ºå­—æ®µæ–¹æ³•</span></span><br><span class="line">                addField(pFeatCls, <span class="string">"VS_length"</span>, esriFieldType.esriFieldTypeDouble);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// è°ƒç”¨è®¡ç®—çº¿é•¿æ–¹æ³•</span></span><br><span class="line">                calcLine(pFeatCls);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç‚¹å›¾å±‚è®¡ç®—ç»çº¬åº¦åæ ‡ //</span></span><br><span class="line">            <span class="keyword">if</span>(esriGeometryType.esriGeometryPoint == pFeatCls.ShapeType)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// æ·»åŠ ç»çº¬åº¦åæ ‡å­—æ®µ</span></span><br><span class="line">                addField(pFeatCls, <span class="string">"VS_X"</span>, esriFieldType.esriFieldTypeDouble);</span><br><span class="line">                addField(pFeatCls, <span class="string">"VS_Y"</span>, esriFieldType.esriFieldTypeDouble);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// è®¡ç®—ç‚¹ï¼Œè°ƒç”¨è®¡ç®—ç‚¹çš„æ–¹æ³•</span></span><br><span class="line">                calcXY(pFeatCls);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            </span><br><span class="line"></span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ·»åŠ å­—æ®µçš„æ–¹æ³•/////////////////////////////</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addField</span>(<span class="params">IFeatureClass pFeatCls, String fldName, esriFieldType fldType</span>) </span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">// åˆ¤æ–­éœ€è¦æ–°å»ºçš„å­—æ®µæ˜¯å¦å·²ç»å­˜åœ¨</span></span><br><span class="line">            <span class="keyword">if</span> (pFeatCls.FindField(fldName) != <span class="number">-1</span>) <span class="comment">// å­—æ®µå·²ç»å­˜åœ¨</span></span><br><span class="line">            &#123;</span><br><span class="line">                MessageBox.Show(<span class="string">"éœ€è¦æ–°å»ºçš„å­—æ®µå·²å­˜åœ¨ï¼Œå°†ä½¿ç”¨å­˜åœ¨å­—æ®µä¿å­˜è®¡ç®—ç»“æœ!"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="comment">// å­—æ®µä¸å­˜åœ¨</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// åˆ›å»ºå­—æ®µå˜é‡ï¼Œå¹¶æ·»åŠ nameä¸type</span></span><br><span class="line">                IFieldEdit pFieldEdit = <span class="keyword">new</span> FieldClass();</span><br><span class="line">                pFieldEdit.Name_2 = fldName;</span><br><span class="line">                pFieldEdit.Type_2 = fldType;</span><br><span class="line">                <span class="comment">// æ·»åŠ å­—æ®µ</span></span><br><span class="line">                pFeatCls.AddField(pFieldEdit);</span><br><span class="line">            &#125;</span><br><span class="line">               </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¡ç®—é¢ç§¯çš„æ–¹æ³•////////////////////////////////</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">calcArea</span>(<span class="params">IFeatureClass pFeatCls</span>) </span></span><br><span class="line"><span class="function"></span>        &#123; </span><br><span class="line">            <span class="comment">// é¢ç§¯å­—æ®µç´¢å¼•</span></span><br><span class="line">            <span class="keyword">int</span> idAreaFld = pFeatCls.FindField(<span class="string">"VS_area"</span>);</span><br><span class="line">            <span class="comment">// NAMEå­—æ®µç´¢å¼•</span></span><br><span class="line">            <span class="keyword">int</span> idNameFld = pFeatCls.FindField(<span class="string">"NAME"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è·å–æ¸¸æ ‡</span></span><br><span class="line">            IFeatureCursor pCur = pFeatCls.Update(<span class="literal">null</span>, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">            IPolygon pPlg;</span><br><span class="line">            IArea pArea;</span><br><span class="line">            <span class="keyword">string</span> s = <span class="string">""</span>; <span class="comment">// è®¡ç®—ç»“æœå­—ç¬¦ä¸²</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// è·å–è¡¨ä¸­è¦ç´ </span></span><br><span class="line">            IFeature pFeat = pCur.NextFeature();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span>(pFeat != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                pPlg = pFeat.Shape <span class="keyword">as</span> IPolygon;</span><br><span class="line">                pArea = pPlg <span class="keyword">as</span> IArea; <span class="comment">//QI</span></span><br><span class="line"></span><br><span class="line">                s = s + <span class="string">"NAME:"</span> + pFeat.get_Value(idNameFld) + <span class="string">" é¢ç§¯:"</span> </span><br><span class="line">                    + Convert.ToString(pArea.Area) + <span class="string">"\n"</span>;   <span class="comment">// è®¡ç®—ç»“æœä¿å­˜ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line"></span><br><span class="line">                pFeat.set_Value(idAreaFld, pArea.Area); <span class="comment">// é¢ç§¯èµ‹å€¼ç»™å­—æ®µ</span></span><br><span class="line"></span><br><span class="line">                pCur.UpdateFeature(pFeat); <span class="comment">// æ›´æ–°</span></span><br><span class="line"></span><br><span class="line">                pFeat = pCur.NextFeature(); <span class="comment">// å¾ªç¯å˜é‡</span></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            MessageBox.Show(s);</span><br><span class="line">            MessageBox.Show(<span class="string">"è®¡ç®—é¢ç§¯æˆåŠŸï¼"</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// çº¿å›¾å±‚è®¡ç®—çº¿é•¿æ–¹æ³•//////////////////////////</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">calcLine</span>(<span class="params">IFeatureClass pFeatCls</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// è·å–æ¸¸æ ‡</span></span><br><span class="line">            IFeatureCursor pFeatCur = pFeatCls.Update(<span class="literal">null</span>, <span class="literal">false</span>);</span><br><span class="line">            <span class="comment">// è·å–feature</span></span><br><span class="line">            IFeature pFeat = pFeatCur.NextFeature();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è·å–çº¿é•¿å­—æ®µç´¢å¼•</span></span><br><span class="line">            <span class="keyword">int</span> idLenFld = pFeatCls.FindField(<span class="string">"VS_length"</span>);</span><br><span class="line">            <span class="comment">// è·å–å¼¯æ›²åº¦å­—æ®µç´¢å¼•</span></span><br><span class="line">            <span class="comment">//int idWqdFld = pFeatCls.FindField("VS_WQD");</span></span><br><span class="line">            <span class="comment">// NAMEå­—æ®µç´¢å¼•</span></span><br><span class="line">            <span class="keyword">int</span> idNameFld = pFeatCls.FindField(<span class="string">"NAME"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">string</span> s = <span class="string">""</span>; <span class="comment">// ç»“æœå­—ç¬¦ä¸²</span></span><br><span class="line"></span><br><span class="line">            IPolyline pPline;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span>(pFeat != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                pPline = pFeat.Shape <span class="keyword">as</span> IPolyline;</span><br><span class="line"></span><br><span class="line">                pFeat.set_Value(idLenFld, pPline.Length); <span class="comment">// ç»™é•¿åº¦å­—æ®µèµ‹å€¼</span></span><br><span class="line"></span><br><span class="line">                s = s + <span class="string">"NAME:"</span> + pFeat.get_Value(idNameFld) + <span class="string">" é•¿åº¦:"</span> </span><br><span class="line">                    + Convert.ToString(pPline.Length) + <span class="string">"\n"</span>;</span><br><span class="line">                </span><br><span class="line">                pFeatCur.UpdateFeature(pFeat); <span class="comment">// æ›´æ–°</span></span><br><span class="line"></span><br><span class="line">                pFeat = pFeatCur.NextFeature(); <span class="comment">// å¾ªç¯å­—æ®µ</span></span><br><span class="line">            &#125;</span><br><span class="line">            MessageBox.Show(s);</span><br><span class="line">            MessageBox.Show(<span class="string">"è®¡ç®—çº¿é•¿æˆåŠŸ!!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¡ç®—ç‚¹ç»çº¬åº¦åæ ‡çš„æ–¹æ³• ///////////////////////////////</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">calcXY</span>(<span class="params">IFeatureClass pFeatCls</span>) </span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">// è·å–æ¸¸æ ‡</span></span><br><span class="line">            IFeatureCursor pFeatCur = pFeatCls.Update(<span class="literal">null</span>, <span class="literal">false</span>);</span><br><span class="line">            <span class="comment">// è·å–feature</span></span><br><span class="line">            IFeature pFeat = pFeatCur.NextFeature();</span><br><span class="line"> </span><br><span class="line">            <span class="comment">// è·å–ç»çº¬åº¦åæ ‡å­—æ®µç´¢å¼•</span></span><br><span class="line">            <span class="keyword">int</span> idXFld = pFeatCls.FindField(<span class="string">"VS_X"</span>);</span><br><span class="line">            <span class="keyword">int</span> idYFld = pFeatCls.FindField(<span class="string">"VS_Y"</span>);</span><br><span class="line">            <span class="comment">// NAMEå­—æ®µç´¢å¼•</span></span><br><span class="line">            <span class="keyword">int</span> idNameFld = pFeatCls.FindField(<span class="string">"NAME"</span>);</span><br><span class="line"></span><br><span class="line">            IPoint pPnt;</span><br><span class="line">            <span class="keyword">string</span> s = <span class="string">""</span>; <span class="comment">// æ‰“å°ç»“æœå­—ç¬¦ä¸²</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span>(pFeat != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                pPnt = pFeat.Shape <span class="keyword">as</span> IPoint;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// ç»™ç»çº¬åº¦åæ ‡å­—æ®µèµ‹å€¼</span></span><br><span class="line">                pFeat.set_Value(idXFld, pPnt.X);</span><br><span class="line">                pFeat.set_Value(idYFld, pPnt.Y);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// ç»“æœå­—ç¬¦ä¸²èµ‹å€¼</span></span><br><span class="line">                s = s + <span class="string">"NAME:"</span> + pFeat.get_Value(idNameFld) + <span class="string">" X:"</span></span><br><span class="line">                    + Convert.ToString(pPnt.X) + <span class="string">" Y:"</span> + Convert.ToString(pPnt.Y) + <span class="string">"\n"</span>; </span><br><span class="line"></span><br><span class="line">                pFeatCur.UpdateFeature(pFeat); <span class="comment">// æ›´æ–°</span></span><br><span class="line">                pFeat = pFeatCur.NextFeature(); <span class="comment">// å¾ªç¯å­—æ®µ</span></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            MessageBox.Show(s);</span><br><span class="line">            MessageBox.Show(<span class="string">"è®¡ç®—ç‚¹åæ ‡æˆåŠŸ!"</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="meta-keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>ArcMapEngine VS</tag>
      </tags>
  </entry>
  <entry>
    <title>arcEngine è®¡ç®—ç‚¹åæ ‡ã€çº¿é•¿ã€é¢ç§¯</title>
    <url>/2019-09-23-cshape-arcengine-addin.html</url>
    <content><![CDATA[<ul>
<li>VSæ–°å»ºaddin</li>
</ul>
<p>åŠŸèƒ½ï¼š</p>
<ul>
<li>C# è·å–å½“å‰æ–‡æ¡£åœ°å›¾å›¾å±‚</li>
<li>æ·»åŠ å­—æ®µ, è®¡ç®—é¢å›¾å±‚çš„é¢ç§¯</li>
<li>æ·»åŠ å­—æ®µï¼Œè®¡ç®—çº¿å›¾å±‚çš„é•¿åº¦</li>
<li>æ·»åŠ å­—æ®µï¼Œè®¡ç®—ç‚¹å›¾å±‚çš„ç»çº¬åº¦</li>
</ul>
<a id="more"></a>

<h3><span id="addin-xxxcsæ–‡ä»¶">addin         xxx.csæ–‡ä»¶</span></h3><figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">using</span> ESRI.ArcGIS.Geodatabase;</span><br><span class="line"><span class="keyword">using</span> ESRI.ArcGIS.Carto;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"><span class="keyword">using</span> ESRI.ArcGIS.ArcMapUI;</span><br><span class="line"><span class="keyword">using</span> ESRI.ArcGIS.Geometry;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">calcArea</span></span><br><span class="line">&#123;</span><br><span class="line">    public class calcArea : ESRI.ArcGIS.Desktop.AddIns.Button</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// åœ¨C#ä¸­ç±»æœ‰ä¸‰ç§ï¼Œ</span></span><br><span class="line">        <span class="comment">// æŠ½è±¡ç±»(æ— æ„é€ å‡½æ•°ï¼Œä¸èƒ½åˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œç”¨äºåˆ›å»ºæ–°çš„ç±»ã€</span></span><br><span class="line">        <span class="comment">// comç±»(ç»„ä»¶ç±») ç”¨äºåˆ›å»ºæ–°çš„å¯¹è±¡çš„ç±»ï¼Œå¯ç”¨newç”Ÿæˆï¼Œæ‰€ä»¥å¿…é¡»æœ‰æ„é€ å‡½æ•°</span></span><br><span class="line">        <span class="comment">// ç¬¬ä¸‰ç§æ˜¯æ™®é€šç±»ï¼Œä¸æ˜¯æŠ½è±¡ç±»ï¼Œä¸èƒ½ç”¨newåˆ›å»ºï¼Œæ˜¯ç”±å…¶ä»–ç±»ç”Ÿæˆçš„</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">calcArea</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// FeatureClassæ˜¯ä¸å¯åˆ›å»ºå¯¹è±¡çš„æ™®é€šç±»</span></span><br><span class="line">            <span class="comment">// IFeatureLayer pFeatLyr = new FeatureLayer(); //æ˜¯å¯åˆ›å»ºçš„comç±»ï¼Œåˆ©ç”¨newå…³é”®å­—ç”Ÿæˆæ–°çš„çŸ¢é‡å›¾å±‚ï¼Œ</span></span><br><span class="line">                                                        <span class="comment">//  æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å£æ“ä½œ</span></span><br><span class="line">                   </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">funAddField</span>(<span class="params">IFeatureClass pFeatCls, <span class="keyword">string</span> fldName, esriFieldType fldType</span>) </span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">// æ·»åŠ å­—æ®µå‡½æ•° //</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ¤æ–­å­—æ®µæ˜¯å¦å­˜åœ¨</span></span><br><span class="line">            <span class="keyword">if</span> (pFeatCls.FindField(fldName) != <span class="number">-1</span>) <span class="comment">// å­—æ®µå·²å­˜åœ¨</span></span><br><span class="line">            &#123;</span><br><span class="line">                MessageBox.Show(<span class="string">"æ¬²åˆ›å»ºçš„å­—æ®µå·²å­˜åœ¨ï¼Œä½¿ç”¨å­˜åœ¨å­—æ®µè®¡ç®—ï¼ï¼"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="comment">// å­—æ®µä¸å­˜åœ¨ï¼Œåˆ›å»º</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// IFields pFlds = pFeatCls.Fields;</span></span><br><span class="line">                IFieldEdit pFieldEdit = <span class="keyword">new</span> FieldClass();</span><br><span class="line">                pFieldEdit.Name_2 = fldName;</span><br><span class="line">                pFieldEdit.Type_2 = fldType;</span><br><span class="line">                pFieldEdit.Editable_2 = <span class="literal">true</span>;</span><br><span class="line">                pFeatCls.AddField(pFieldEdit); <span class="comment">// æ·»åŠ å­—æ®µ</span></span><br><span class="line">            &#125;</span><br><span class="line">                       </span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnClick</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            <span class="comment">//  <span class="doctag">TODO:</span> Sample code showing how to access button host</span></span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            ArcMap.Application.CurrentTool = <span class="literal">null</span>;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">         åŠŸèƒ½ï¼šè®¡ç®—é¢å›¾å±‚é¢ç§¯ï¼Œçº¿å›¾å±‚é•¿åº¦ï¼Œç‚¹å›¾å±‚ç»çº¬åº¦åæ ‡</span></span><br><span class="line"><span class="comment">         ä½œè€…ï¼š1985857412@qq.com</span></span><br><span class="line"><span class="comment">         è¯´æ˜ï¼šæ·»åŠ å­—æ®µï¼Œè®¡ç®—è®¡ç®—é¢å›¾å±‚é¢ç§¯ï¼Œçº¿å›¾å±‚é•¿åº¦ï¼Œç‚¹å›¾å±‚ç»çº¬åº¦åæ ‡</span></span><br><span class="line"><span class="comment">         * æ“ä½œçš„æ˜¯åœ°å›¾æ–‡æ¡£ä¸­ç¬¬ä¸€ä¸ªå›¾å±‚</span></span><br><span class="line"><span class="comment">         æ—¥æœŸï¼š2019/9/23</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">            <span class="comment">// è·å–å½“å‰åœ°å›¾æ–‡æ¡£</span></span><br><span class="line">            IMxDocument pDoc = ArcMap.Application.Document <span class="keyword">as</span> IMxDocument;</span><br><span class="line">            IMap pMap = pDoc.ActivatedView.FocusMap; <span class="comment">// è·å–åœ°å›¾</span></span><br><span class="line">            ILayer pLyr = pMap.get_Layer(<span class="number">0</span>); <span class="comment">// è·å–åœ°å›¾ç¬¬ä¸€ä¸ªå›¾å±‚</span></span><br><span class="line">            IFeatureLayer pFeatLyr = pLyr <span class="keyword">as</span> IFeatureLayer; <span class="comment">//QI</span></span><br><span class="line">            <span class="comment">//MessageBox.Show(pFeatLyr.Name); æµ‹è¯•æ‰“å°è¦ç´ åç§°</span></span><br><span class="line">            IFeatureClass pFeatCls = pFeatLyr.FeatureClass;</span><br><span class="line"></span><br><span class="line">            IFeatureCursor pFeatCur; <span class="comment">// æ¸¸æ ‡</span></span><br><span class="line">            IFeature pFeat; <span class="comment">// feature</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">string</span> s = <span class="string">""</span>; <span class="comment">// å­˜å‚¨æ‰“å°å­—ç¬¦ä¸²</span></span><br><span class="line">                      </span><br><span class="line">            <span class="comment">// é¢å›¾å±‚è®¡ç®—é¢ç§¯</span></span><br><span class="line">            <span class="keyword">if</span> (esriGeometryType.esriGeometryPolygon == pFeatCls.ShapeType)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// è°ƒç”¨å‡½æ•°ï¼Œæ·»åŠ å­—æ®µ</span></span><br><span class="line">                funAddField(pFeatCls, <span class="string">"addin_area"</span>, esriFieldType.esriFieldTypeDouble);</span><br><span class="line"></span><br><span class="line">                pFeatCur = pFeatCls.Update(<span class="literal">null</span>, <span class="literal">false</span>); <span class="comment">// è·å–æ¸¸æ ‡</span></span><br><span class="line">                pFeat = pFeatCur.NextFeature(); <span class="comment">// è·å–feature</span></span><br><span class="line">                IPolygon pPlg;  <span class="comment">// polygonå¯¹è±¡</span></span><br><span class="line">                IArea pArea;    <span class="comment">// areaå¯¹è±¡</span></span><br><span class="line">                </span><br><span class="line"></span><br><span class="line">                <span class="keyword">int</span> nameId = pFeatCls.FindField(<span class="string">"NAME"</span>); <span class="comment">// NAMEå­—æ®µç´¢å¼•</span></span><br><span class="line">                <span class="keyword">int</span> areaId = pFeatCls.FindField(<span class="string">"addin_area"</span>); <span class="comment">// addin_areaå­—æ®µç´¢å¼•</span></span><br><span class="line">                                </span><br><span class="line">                <span class="keyword">while</span> (pFeat != <span class="literal">null</span>) </span><br><span class="line">                &#123;</span><br><span class="line">                    pPlg = pFeat.Shape <span class="keyword">as</span> IPolygon;  <span class="comment">// èµ‹å€¼</span></span><br><span class="line">                    pArea = pPlg <span class="keyword">as</span> IArea;</span><br><span class="line"></span><br><span class="line">                    pFeat.set_Value(areaId, pArea.Area); <span class="comment">// é¢ç§¯å­—æ®µèµ‹å€¼</span></span><br><span class="line"></span><br><span class="line">                    s = s + pFeat.get_Value(nameId) + Convert.ToString(pArea.Area) + <span class="string">"\n"</span>;</span><br><span class="line"></span><br><span class="line">                    pFeatCur.UpdateFeature(pFeat); <span class="comment">// æ›´æ–°</span></span><br><span class="line"></span><br><span class="line">                    pFeat = pFeatCur.NextFeature();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                MessageBox.Show(s);</span><br><span class="line">                MessageBox.Show(<span class="string">"è®¡ç®—é¢ç§¯ä¸èµ‹å€¼å­—æ®µï¼šok"</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment">// çº¿å›¾å±‚è®¡ç®—é•¿åº¦</span></span><br><span class="line">            <span class="keyword">if</span>(esriGeometryType.esriGeometryPolyline == pFeatCls.ShapeType)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// è°ƒç”¨å‡½æ•°ï¼Œæ·»åŠ å­—æ®µ</span></span><br><span class="line">                funAddField(pFeatCls, <span class="string">"addin_len"</span>, esriFieldType.esriFieldTypeDouble);</span><br><span class="line"></span><br><span class="line">                pFeatCur = pFeatCls.Update(<span class="literal">null</span>, <span class="literal">false</span>); <span class="comment">// è·å–æ¸¸æ ‡</span></span><br><span class="line">                pFeat = pFeatCur.NextFeature(); <span class="comment">// è·å–feature</span></span><br><span class="line"></span><br><span class="line">                IPolyline pPline;  <span class="comment">// çº¿å¯¹è±¡</span></span><br><span class="line">                <span class="keyword">int</span> nameId = pFeatCls.FindField(<span class="string">"NAME"</span>); <span class="comment">// NAMEå­—æ®µç´¢å¼•</span></span><br><span class="line">                <span class="keyword">int</span> lenId = pFeatCls.FindField(<span class="string">"addin_len"</span>); <span class="comment">// addin_lenå­—æ®µç´¢å¼•</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">while</span> (pFeat != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    pPline = pFeat.Shape <span class="keyword">as</span> IPolyline;  <span class="comment">// èµ‹å€¼</span></span><br><span class="line">                   </span><br><span class="line"></span><br><span class="line">                    pFeat.set_Value(lenId, pPline.Length); <span class="comment">// é•¿åº¦å­—æ®µèµ‹å€¼</span></span><br><span class="line"></span><br><span class="line">                    s = s + pFeat.get_Value(nameId) + Convert.ToString(pPline.Length) + <span class="string">"\n"</span>;</span><br><span class="line"></span><br><span class="line">                    pFeatCur.UpdateFeature(pFeat); <span class="comment">// æ›´æ–°</span></span><br><span class="line"></span><br><span class="line">                    pFeat = pFeatCur.NextFeature();</span><br><span class="line">                &#125;</span><br><span class="line">                MessageBox.Show(s);</span><br><span class="line">                MessageBox.Show(<span class="string">"è®¡ç®—é•¿åº¦ä¸èµ‹å€¼å­—æ®µï¼šok"</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment">// ç‚¹å›¾å±‚è®¡ç®—ç»çº¬åº¦åæ ‡</span></span><br><span class="line">            <span class="keyword">if</span> (esriGeometryType.esriGeometryPoint == pFeatCls.ShapeType)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// è°ƒç”¨å‡½æ•°ï¼Œæ·»åŠ x,yå­—æ®µ</span></span><br><span class="line">                funAddField(pFeatCls, <span class="string">"addin_x"</span>, esriFieldType.esriFieldTypeDouble);</span><br><span class="line">                funAddField(pFeatCls, <span class="string">"addin_y"</span>, esriFieldType.esriFieldTypeDouble);</span><br><span class="line"></span><br><span class="line">                pFeatCur = pFeatCls.Update(<span class="literal">null</span>, <span class="literal">false</span>); <span class="comment">// è·å–æ¸¸æ ‡</span></span><br><span class="line">                pFeat = pFeatCur.NextFeature(); <span class="comment">// è·å–feature</span></span><br><span class="line"></span><br><span class="line">                IPoint pPnt;  <span class="comment">// ç‚¹å¯¹è±¡</span></span><br><span class="line">                <span class="keyword">int</span> nameId = pFeatCls.FindField(<span class="string">"NAME"</span>); <span class="comment">// NAMEå­—æ®µç´¢å¼•</span></span><br><span class="line">                <span class="keyword">int</span> xId = pFeatCls.FindField(<span class="string">"addin_x"</span>); <span class="comment">// xå­—æ®µç´¢å¼•</span></span><br><span class="line">                <span class="keyword">int</span> yId = pFeatCls.FindField(<span class="string">"addin_y"</span>); <span class="comment">// yå­—æ®µç´¢å¼•</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">while</span> (pFeat != <span class="literal">null</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    pPnt = pFeat.Shape <span class="keyword">as</span> IPoint;  <span class="comment">// èµ‹å€¼</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    pFeat.set_Value(xId, pPnt.X); <span class="comment">// xå­—æ®µèµ‹å€¼</span></span><br><span class="line">                    pFeat.set_Value(yId, pPnt.Y); <span class="comment">// yå­—æ®µèµ‹å€¼</span></span><br><span class="line"></span><br><span class="line">                    s = s + pFeat.get_Value(nameId) + <span class="string">"x:"</span> + Convert.ToString(pPnt.X) + <span class="string">" y:"</span> + </span><br><span class="line">                        Convert.ToString(pPnt.Y) + <span class="string">"\n"</span>;</span><br><span class="line"></span><br><span class="line">                    pFeatCur.UpdateFeature(pFeat); <span class="comment">// æ›´æ–°</span></span><br><span class="line"></span><br><span class="line">                    pFeat = pFeatCur.NextFeature();</span><br><span class="line">                &#125;</span><br><span class="line">                MessageBox.Show(s);</span><br><span class="line">                MessageBox.Show(<span class="string">"è®¡ç®—ç»çº¬åº¦ä¸èµ‹å€¼å­—æ®µï¼šok"</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            </span><br><span class="line"></span><br><span class="line">            </span><br><span class="line"></span><br><span class="line">            <span class="comment">//MessageBox.Show("I am hua");</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnUpdate</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            Enabled = ArcMap.Application != <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>ArcMapEngine VS addin</tag>
      </tags>
  </entry>
  <entry>
    <title>Python è®¡ç®—é¢çš„å‘¨é•¿</title>
    <url>/2019-09-19-python-arcpy-ji-suan-mian-de-zhou-chang.html</url>
    <content><![CDATA[<ul>
<li>arcpy</li>
<li>è®¡ç®—é¢å›¾å±‚å‘¨é•¿</li>
</ul>
<a id="more"></a>

<h3><span id="è„šæœ¬">è„šæœ¬</span></h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åŠŸèƒ½ï¼šè®¡ç®—é¢å›¾å±‚å‘¨é•¿</span></span><br><span class="line"><span class="comment"># ä½œè€…ï¼šinno</span></span><br><span class="line"><span class="comment"># è¯´æ˜ï¼šæ–°å»ºå­—æ®µï¼Œè®¡ç®—é¢å›¾å±‚çš„å‘¨é•¿</span></span><br><span class="line"><span class="comment"># æ—¥æœŸï¼š2019/9/19</span></span><br><span class="line"><span class="keyword">import</span> arcpy <span class="keyword">as</span> ap</span><br><span class="line"><span class="keyword">import</span> arcpy.mapping <span class="keyword">as</span> mp</span><br><span class="line">mxd = mp.MapDocument(<span class="string">'current'</span>)</span><br><span class="line">df = mp.ListDataFrames(mxd)[<span class="number">0</span>]</span><br><span class="line">lyr = mp.ListLayers(df)[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">ap.AddField_management(lyr, <span class="string">"Perimeter1"</span>, <span class="string">"DOUBLE"</span>) <span class="comment"># æ–°å»ºå­—æ®µ</span></span><br><span class="line">ap.CalculateField_management(lyr, <span class="string">"Perimeter1"</span>, <span class="string">"!shape.length!"</span>, <span class="string">"PYTHON"</span>)</span><br></pre></td></tr></table></figure>

<h3><span id="å·¥å…·è„šæœ¬">å·¥å…·è„šæœ¬</span></h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åŠŸèƒ½ï¼šè®¡ç®—é¢å›¾å±‚å‘¨é•¿</span></span><br><span class="line"><span class="comment"># ä½œè€…ï¼šinno</span></span><br><span class="line"><span class="comment"># è¯´æ˜ï¼šå·¥å…·è„šæœ¬ï¼Œæ–°å»ºå­—æ®µï¼Œè®¡ç®—é¢å›¾å±‚çš„å‘¨é•¿</span></span><br><span class="line"><span class="comment"># æ—¥æœŸï¼š2019/9/19</span></span><br><span class="line"><span class="keyword">import</span> arcpy <span class="keyword">as</span> ap</span><br><span class="line"><span class="keyword">import</span> arcpy.mapping <span class="keyword">as</span> mp</span><br><span class="line"><span class="comment"># è·å–è¾“å…¥</span></span><br><span class="line">lyr = ap.GetParameterAsText(<span class="number">0</span>)</span><br><span class="line">fld = ap.GetParameterAsText(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">ap.AddField_management(lyr, fld, <span class="string">"DOUBLE"</span>) <span class="comment"># æ–°å»ºå­—æ®µ</span></span><br><span class="line"><span class="comment"># è®¡ç®—å‘¨é•¿</span></span><br><span class="line">ap.CalculateField_management(lyr, fld, <span class="string">"!shape.length!"</span>, <span class="string">"PYTHON"</span>)</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>ArcMapEngine arcpy</tag>
      </tags>
  </entry>
  <entry>
    <title>Python è®¡ç®—è¦ç´ å›¾å±‚é¢ç§¯</title>
    <url>/2019-09-18-py-tian-jia-zi-duan-ji-suan-mian-ji.html</url>
    <content><![CDATA[<ul>
<li>arcpy</li>
<li>è·å–çŸ¢é‡é¢å›¾å±‚ï¼Œæ·»åŠ å­—æ®µï¼Œå®ç°é¢ç§¯çš„è®¡ç®—</li>
</ul>
<a id="more"></a>

<h3><span id="è„šæœ¬">è„šæœ¬</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># åŠŸèƒ½ï¼šè®¡ç®—çŸ¢é‡å›¾å±‚é¢ç§¯</span><br><span class="line"># ä½œè€…ï¼šinno</span><br><span class="line"># è¯´æ˜ï¼šè·å–çŸ¢é‡é¢å›¾å±‚ï¼Œæ·»åŠ å­—æ®µï¼Œå®ç°é¢ç§¯çš„è®¡ç®—</span><br><span class="line"># æ—¥æœŸï¼š2019&#x2F;9&#x2F;18</span><br><span class="line">import arcpy as ap</span><br><span class="line">import arcpy.mapping as mp</span><br><span class="line">mxd &#x3D; mp.MapDocument(&#39;current&#39;) # è·å–å½“å‰åœ°å›¾æ–‡æ¡£</span><br><span class="line">df &#x3D; mp.ListDataFrames(mxd)[0] # è·å–ç¬¬ä¸€ä¸ªæ•°æ®æ¡†</span><br><span class="line">lyr &#x3D; mp.ListLayers(df)[0] # è·å–ç¬¬ä¸€ä¸ªå›¾å±‚</span><br><span class="line">ap.AddField_management(lyr, &quot;pyArea&quot;, &quot;DOUBLE&quot;) # æ·»åŠ å­—æ®µ</span><br><span class="line"># è®¡ç®—å­—æ®µ-è®¡ç®—é¢ç§¯</span><br><span class="line">ap.CalculateField_management(lyr, &quot;pyArea&quot;, &quot;!shape.area!&quot;, &quot;PYTHON&quot;)</span><br></pre></td></tr></table></figure>

<h3><span id="å·¥å…·è„šæœ¬">å·¥å…·è„šæœ¬</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># åŠŸèƒ½ï¼šè®¡ç®—çŸ¢é‡å›¾å±‚é¢ç§¯</span><br><span class="line"># ä½œè€…ï¼šinno</span><br><span class="line"># è¯´æ˜ï¼šåœ¨å·¥å…·ä¸­ï¼Œè·å–çŸ¢é‡é¢å›¾å±‚ï¼Œæ·»åŠ å­—æ®µï¼Œå®ç°é¢ç§¯çš„è®¡ç®—</span><br><span class="line"># æ—¥æœŸï¼š2019&#x2F;9&#x2F;18</span><br><span class="line">import arcpy as ap</span><br><span class="line">import arcpy.mapping as mp</span><br><span class="line"></span><br><span class="line"># è·å–å·¥å…·ä¸­è¾“å…¥çš„å‚æ•°</span><br><span class="line">lyr &#x3D; ap.GetParameterAsText(0)</span><br><span class="line">fld &#x3D; ap.GetParameterAsText(1)</span><br><span class="line"></span><br><span class="line">ap.AddField_management(lyr, fld, &quot;DOUBLE&quot;) # æ·»åŠ å­—æ®µ</span><br><span class="line"></span><br><span class="line"># è®¡ç®—å­—æ®µ-è®¡ç®—é¢ç§¯</span><br><span class="line">ap.CalculateField_management(lyr, fld, &quot;!shape.area!&quot;, &quot;PYTHON&quot;)</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>ArcMapEngine arcpy</tag>
      </tags>
  </entry>
  <entry>
    <title>Python arcpy è®¡ç®—æ›²çº¿é•¿åº¦ä¸å¼¯æ›²åº¦</title>
    <url>/2019-09-18-python-arcpy-ji-suan-qu-xian-chang-du-yu-wan-qu-du.html</url>
    <content><![CDATA[<ul>
<li>arcpy</li>
<li>è·å–çº¿å›¾å±‚ï¼Œæ–°å»ºä¸¤ä¸ªå­—æ®µï¼Œå°†è®¡ç®—å¾—åˆ°çš„æ›²çº¿é•¿åº¦ä¸å¼¯æ›²åº¦ä¿å­˜åœ¨å­—æ®µ</li>
</ul>
<a id="more"></a>

<h3><span id="è„šæœ¬">è„šæœ¬</span></h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åŠŸèƒ½ï¼šè®¡ç®—æ›²çº¿é•¿åº¦ä¸å¼¯æ›²åº¦</span></span><br><span class="line"><span class="comment"># ä½œè€…ï¼šinno</span></span><br><span class="line"><span class="comment"># è¯´æ˜ï¼šè·å–çº¿å›¾å±‚ï¼Œæ–°å»ºä¸¤ä¸ªå­—æ®µï¼Œå°†è®¡ç®—å¾—åˆ°çš„æ›²çº¿é•¿åº¦ä¸å¼¯æ›²åº¦ä¿å­˜åœ¨å­—æ®µ</span></span><br><span class="line"><span class="comment"># æ—¥æœŸï¼š2019/9/18</span></span><br><span class="line"><span class="keyword">import</span> arcpy <span class="keyword">as</span> ap</span><br><span class="line"><span class="keyword">import</span> arcpy.mapping <span class="keyword">as</span> mp</span><br><span class="line">mxd = mp.MapDocument(<span class="string">'current'</span>)</span><br><span class="line">df = mp.ListDataFrames(mxd)[<span class="number">0</span>]</span><br><span class="line">lyr = mp.ListLayers(df)[<span class="number">1</span>] <span class="comment"># æ­¤æ–‡æ¡£çº¿å›¾å±‚åœ¨ç¬¬äºŒä¸ªä½ç½® #</span></span><br><span class="line"><span class="comment"># æ·»åŠ ä¸¤ä¸ªå­—æ®µ</span></span><br><span class="line">ap.AddField_management(lyr, <span class="string">"pyLength"</span>, <span class="string">"DOUBLE"</span>)</span><br><span class="line">ap.AddField_management(lyr, <span class="string">"pyWqd"</span>, <span class="string">"DOUBLE"</span>)</span><br><span class="line"><span class="comment"># è·å–æ¸¸æ ‡</span></span><br><span class="line">cursor = ap.UpdateCursor(lyr)</span><br><span class="line"><span class="comment"># éå†è¡¨ä¸­æ¯ä¸€è¡Œçš„è¦ç´ ï¼Œå¹¶è®¡ç®—èµ‹å€¼</span></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> cursor:</span><br><span class="line">    line = row.shape <span class="comment"># è·å–è¦ç´ å½¢çŠ¶</span></span><br><span class="line">    row.setValue(<span class="string">"pyLength"</span>, line.length) <span class="comment"># æ›²çº¿é•¿åº¦èµ‹å€¼</span></span><br><span class="line">    fPnt = ap.PointGeometry(line.firstPoint)</span><br><span class="line">    lPnt = ap.PointGeometry(line.lastPoint) <span class="comment"># è·å–æ›²çº¿é¦–æœ«ç‚¹</span></span><br><span class="line">    dis = fPnt.distanceTo(lPnt) <span class="comment"># è®¡ç®—ä¸¤ç‚¹ä¹‹é—´ç›´çº¿è·ç¦»</span></span><br><span class="line">    row.setValue(<span class="string">"pyWqd"</span>, dis/line.length) <span class="comment"># å¼¯æ›²åº¦èµ‹å€¼</span></span><br><span class="line">    cursor.updateRow(row) <span class="comment"># æ›´æ–°è¡Œ</span></span><br></pre></td></tr></table></figure>

<h3><span id="å·¥å…·è„šæœ¬">å·¥å…·è„šæœ¬</span></h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åŠŸèƒ½ï¼šè®¡ç®—æ›²çº¿é•¿åº¦ä¸å¼¯æ›²åº¦</span></span><br><span class="line"><span class="comment"># ä½œè€…ï¼šinno</span></span><br><span class="line"><span class="comment"># è¯´æ˜ï¼šå·¥å…·è„šæœ¬ï¼Œè·å–çº¿å›¾å±‚ï¼Œæ–°å»ºä¸¤ä¸ªå­—æ®µï¼Œå°†è®¡ç®—å¾—åˆ°çš„æ›²çº¿é•¿åº¦ä¸å¼¯æ›²åº¦ä¿å­˜åœ¨å­—æ®µ</span></span><br><span class="line"><span class="comment"># æ—¥æœŸï¼š2019/9/18</span></span><br><span class="line"><span class="keyword">import</span> arcpy <span class="keyword">as</span> ap</span><br><span class="line"><span class="keyword">import</span> arcpy.mapping <span class="keyword">as</span> mp</span><br><span class="line"></span><br><span class="line">lyr = ap.GetParameterAsText(<span class="number">0</span>)</span><br><span class="line"><span class="comment"># è·å–è¦åˆ›å»ºçš„å­—æ®µåç§°</span></span><br><span class="line">fldLen = ap.GetParameterAsText(<span class="number">1</span>) </span><br><span class="line">fldWqd = ap.GetParameterAsText(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ ä¸¤ä¸ªå­—æ®µ</span></span><br><span class="line">ap.AddField_management(lyr, fldLen, <span class="string">"DOUBLE"</span>)</span><br><span class="line">ap.AddField_management(lyr, fldWqd, <span class="string">"DOUBLE"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æ¸¸æ ‡</span></span><br><span class="line">cursor = ap.UpdateCursor(lyr)</span><br><span class="line"><span class="comment"># éå†è¡¨ä¸­æ¯ä¸€è¡Œçš„è¦ç´ ï¼Œå¹¶è®¡ç®—èµ‹å€¼</span></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> cursor:</span><br><span class="line">    line = row.shape <span class="comment"># è·å–è¦ç´ å½¢çŠ¶</span></span><br><span class="line">    row.setValue(fldLen, line.length) <span class="comment"># æ›²çº¿é•¿åº¦èµ‹å€¼</span></span><br><span class="line">    fPnt = ap.PointGeometry(line.firstPoint)</span><br><span class="line">    lPnt = ap.PointGeometry(line.lastPoint) <span class="comment"># è·å–æ›²çº¿é¦–æœ«ç‚¹</span></span><br><span class="line">    dis = fPnt.distanceTo(lPnt) <span class="comment"># è®¡ç®—ä¸¤ç‚¹ä¹‹é—´ç›´çº¿è·ç¦»</span></span><br><span class="line">    row.setValue(fldWqd, dis/line.length) <span class="comment"># å¼¯æ›²åº¦èµ‹å€¼</span></span><br><span class="line">    cursor.updateRow(row) <span class="comment"># æ›´æ–°è¡Œ</span></span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>ArcMapEngine arcpy</tag>
      </tags>
  </entry>
  <entry>
    <title>Python arcpy è®¡ç®—ç‚¹ç»çº¬åº¦åæ ‡</title>
    <url>/2019-09-18-python-arcpy-ji-suan-dian-jing-wei-du-zuo-biao.html</url>
    <content><![CDATA[<ul>
<li>arcpy</li>
</ul>
<a id="more"></a>

<h3><span id="è„šæœ¬">è„šæœ¬</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># åŠŸèƒ½ï¼šæ·»åŠ ä¸¤ä¸ªå­—æ®µï¼Œè®¡ç®—ç‚¹çš„ç»çº¬åº¦åæ ‡</span><br><span class="line"># ä½œè€…ï¼šinno</span><br><span class="line"># è¯´æ˜ï¼šæ·»åŠ ä¸¤ä¸ªå­—æ®µï¼Œè®¡ç®—ç‚¹çš„ç»çº¬åº¦åæ ‡</span><br><span class="line"># æ—¥æœŸï¼š2019&#x2F;9&#x2F;18</span><br><span class="line">import arcpy as ap</span><br><span class="line">import arcpy.mapping as mp</span><br><span class="line">mxd &#x3D; mp.MapDocument(&#39;current&#39;)</span><br><span class="line"></span><br><span class="line">df &#x3D; mp.ListDataFrames(mxd)[0]</span><br><span class="line">lyr &#x3D; mp.ListLayers(df)[2] # æ­¤æ–‡æ¡£ç‚¹å›¾å±‚åœ¨ç¬¬ä¸‰ä¸ªä½ç½®</span><br><span class="line"># æ·»åŠ ä¸¤ä¸ªå­—æ®µ</span><br><span class="line">ap.AddField_management(lyr, &quot;pyX&quot;, &quot;DOUBLE&quot;)</span><br><span class="line">ap.AddField_management(lyr, &quot;pyY&quot;, &quot;DOUBLE&quot;)</span><br><span class="line"># ä½¿ç”¨arcpy.da.UpdateCursor() &quot;shape@XY&quot;å‡ ä½•ä»¤ç‰Œè·å–ç»çº¬åº¦åæ ‡x,y</span><br><span class="line"># [&quot;shape@XY&quot;, &quot;pyX&quot;, &quot;pyY&quot;] åä¸¤ä¸ªå‚æ•°æ˜¯ä¼ å…¥çš„å­—æ®µ</span><br><span class="line">with ap.da.UpdateCursor(lyr, [&quot;shape@XY&quot;, &quot;pyX&quot;, &quot;pyY&quot;]) as cur:</span><br><span class="line">    for row in cur:</span><br><span class="line">        x, y &#x3D; row[0] </span><br><span class="line">        row[1] &#x3D; x        </span><br><span class="line">        row[2] &#x3D; y</span><br><span class="line">        cur.updateRow(row)</span><br></pre></td></tr></table></figure>

<h3><span id="å·¥å…·è„šæœ¬">å·¥å…·è„šæœ¬</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># åŠŸèƒ½ï¼šæ·»åŠ ä¸¤ä¸ªå­—æ®µï¼Œè®¡ç®—ç‚¹çš„ç»çº¬åº¦åæ ‡</span><br><span class="line"># ä½œè€…ï¼šinno</span><br><span class="line"># è¯´æ˜ï¼šå·¥å…·è„šæœ¬ï¼Œæ·»åŠ ä¸¤ä¸ªå­—æ®µï¼Œè®¡ç®—ç‚¹çš„ç»çº¬åº¦åæ ‡</span><br><span class="line"># æ—¥æœŸï¼š2019&#x2F;9&#x2F;18</span><br><span class="line">import arcpy as ap</span><br><span class="line">import arcpy.mapping as mp</span><br><span class="line"></span><br><span class="line"># è·å–å‚æ•°</span><br><span class="line">lyr &#x3D; ap.GetParameterAsText(0)</span><br><span class="line">fldX &#x3D; ap.GetParameterAsText(1)</span><br><span class="line">fldY &#x3D; ap.GetParameterAsText(2)</span><br><span class="line"></span><br><span class="line"># æ·»åŠ ä¸¤ä¸ªå­—æ®µ</span><br><span class="line">ap.AddField_management(lyr, fldX, &quot;DOUBLE&quot;)</span><br><span class="line">ap.AddField_management(lyr, fldY, &quot;DOUBLE&quot;)</span><br><span class="line"># ä½¿ç”¨arcpy.da.UpdateCursor() &quot;shape@XY&quot;å‡ ä½•ä»¤ç‰Œè·å–ç»çº¬åº¦åæ ‡x,y</span><br><span class="line"># [&quot;shape@XY&quot;, &quot;pyX&quot;, &quot;pyY&quot;] åä¸¤ä¸ªå‚æ•°æ˜¯ä¼ å…¥çš„å­—æ®µ</span><br><span class="line">with ap.da.UpdateCursor(lyr, [&quot;shape@XY&quot;, fldX, fldY]) as cur:</span><br><span class="line">    for row in cur:</span><br><span class="line">        x, y &#x3D; row[0] </span><br><span class="line">        row[1] &#x3D; x        </span><br><span class="line">        row[2] &#x3D; y</span><br><span class="line">        cur.updateRow(row)</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>ArcMapEngine arcpy</tag>
      </tags>
  </entry>
  <entry>
    <title>vba ArcMap UIæ§ä»¶  è®¡ç®—è¦ç´ å›¾å±‚é¢ç§¯</title>
    <url>/2019-09-18-vba-arcmap-ui-kong-jian-ji-suan-dian-zuo-biao.html</url>
    <content><![CDATA[<ul>
<li>è®¡ç®—ç‚¹åæ ‡</li>
<li>æ·»åŠ ä¸¤ä¸ªå­—æ®µï¼ŒXå’ŒYï¼ŒXä¸ºç»åº¦ï¼ŒYä¸ºçº¬åº¦</li>
</ul>
<a id="more"></a>

<h3><span id="ä»£ç ">ä»£ç </span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Private Sub UIButtonControl3_Click()</span><br><span class="line">&#39;åŠŸèƒ½ï¼šè®¡ç®—ç‚¹åæ ‡</span><br><span class="line">&#39;ä½œè€…ï¼šinno</span><br><span class="line">&#39;è¯´æ˜ï¼šä»£ç å®ç°æ–°å»ºä¸¤ä¸ªå­—æ®µï¼ŒXå’ŒYï¼ŒXä¸ºç»åº¦ï¼ŒYä¸ºçº¬åº¦</span><br><span class="line">&#39;æ—¥æœŸï¼š2019&#x2F;9&#x2F;18</span><br><span class="line"></span><br><span class="line">&#39;IApplicatinå¼€å§‹</span><br><span class="line">Dim pApp As IApplication</span><br><span class="line">Set pApp &#x3D; Application</span><br><span class="line"></span><br><span class="line">&#39;è·å–æ–‡æ¡£ MxDocument</span><br><span class="line">Dim pMxDoc As IMxDocument</span><br><span class="line">Set pMxDoc &#x3D; pApp.Document</span><br><span class="line"></span><br><span class="line">&#39;è·å–å½“å‰åœ°å›¾ IMap</span><br><span class="line">Dim pMap As IMap</span><br><span class="line">Set pMap &#x3D; pMxDoc.FocusMap</span><br><span class="line"></span><br><span class="line">&#39;è·å–ç‚¹å›¾å±‚ ILayer</span><br><span class="line">Dim pLayer As ILayer</span><br><span class="line">Set pLayer &#x3D; pMap.Layer(2) &#39;ç‚¹å›¾å±‚åœ¨ç¬¬ä¸‰ä¸ªä½ç½®</span><br><span class="line"></span><br><span class="line">&#39;åˆ¤æ–­å›¾å±‚æ˜¯å¦ä¸ºçŸ¢é‡</span><br><span class="line">If Not TypeOf pLayer Is IFeatureLayer Then</span><br><span class="line">    MsgBox &quot;å›¾å±‚ä¸æ˜¯çŸ¢é‡ï¼Œå·²é€€å‡º&quot;</span><br><span class="line">    Exit Sub</span><br><span class="line">End If</span><br><span class="line"></span><br><span class="line">&#39;è·å–çŸ¢é‡å›¾å±‚ IFeatureLayer</span><br><span class="line">Dim pFeatLyr As IFeatureLayer</span><br><span class="line">Set pFeatLyr &#x3D; pLayer</span><br><span class="line"></span><br><span class="line">&#39;è·å–è¡¨ IFeatureClass</span><br><span class="line">Dim pFeatCls As IFeatureClass</span><br><span class="line">Set pFeatCls &#x3D; pFeatLyr.FeatureClass</span><br><span class="line"></span><br><span class="line">&#39;å®šä¹‰æ·»åŠ çš„å­—æ®µå</span><br><span class="line">Dim sXField As String</span><br><span class="line">Dim sYField As String</span><br><span class="line">sXField &#x3D; &quot;X&quot;</span><br><span class="line">sYField &#x3D; &quot;Y&quot;</span><br><span class="line">&#39;åˆ¤æ–­å±æ€§è¡¨ä¸­æ˜¯å¦å­˜åœ¨éœ€è¦åˆ›å»ºçš„å­—æ®µ</span><br><span class="line">If pFeatCls.FindField(sXField) &lt;&gt; -1 Or pFeatCls.FindField(sYField) &lt;&gt; -1 Then</span><br><span class="line">    MsgBox &quot;éœ€è¦åˆ›å»ºçš„å­—æ®µå·²å­˜åœ¨ï¼Œè¯·é‡è¯•&quot;</span><br><span class="line">    Exit Sub</span><br><span class="line">End If</span><br><span class="line">&#39;åˆ›å»ºå­—æ®µå¹¶æ·»åŠ å­—æ®µå±æ€§</span><br><span class="line">Dim xField As IFieldEdit</span><br><span class="line">Dim yField As IFieldEdit</span><br><span class="line">Set xField &#x3D; New Field</span><br><span class="line">Set yField &#x3D; New Field</span><br><span class="line">xField.Name &#x3D; sXField</span><br><span class="line">yField.Name &#x3D; sYField</span><br><span class="line">xField.Type &#x3D; esriFieldTypeDouble</span><br><span class="line">yField.Type &#x3D; esriFieldTypeDouble</span><br><span class="line"></span><br><span class="line">&#39;å°†å­—æ®µæ·»åŠ åˆ°å±æ€§è¡¨</span><br><span class="line">pFeatCls.AddField xField &#39;åŠ æ‹¬å·æŠ¥é”™</span><br><span class="line">pFeatCls.AddField yField</span><br><span class="line"></span><br><span class="line">&#39;è·å–cursor IFeatureCursor</span><br><span class="line">Dim pFeatCur As IFeatureCursor</span><br><span class="line">Set pFeatCur &#x3D; pFeatCls.Update(Nothing, False)</span><br><span class="line"></span><br><span class="line">&#39;è·å–è¦ç´  IFeature</span><br><span class="line">Dim pFeat As IFeature</span><br><span class="line">Set pFeat &#x3D; pFeatCur.NextFeature</span><br><span class="line"></span><br><span class="line">Dim pnt As IPoint &#39;IPoint å­˜å‚¨ç‚¹</span><br><span class="line">Dim s As String &#39;å­—ç¬¦ä¸²ï¼Œç”¨äºæ‰“å°</span><br><span class="line">Dim idX As Integer &#39;Xå­—æ®µç´¢å¼•</span><br><span class="line">Dim idY As Integer &#39;Yå­—æ®µç´¢å¼•</span><br><span class="line">Dim idName As Integer &#39;NAME å­—æ®µç´¢å¼•</span><br><span class="line"></span><br><span class="line">&#39;ç»™ç´¢å¼•èµ‹å€¼</span><br><span class="line">idX &#x3D; pFeatCls.FindField(sXField)</span><br><span class="line">idY &#x3D; pFeatCls.FindField(sYField)</span><br><span class="line">idName &#x3D; pFeatCls.FindField(&quot;NAME&quot;)</span><br><span class="line"></span><br><span class="line">&#39;å¾ªç¯èµ‹å€¼</span><br><span class="line">Do While Not pFeat Is Nothing</span><br><span class="line">    Set pnt &#x3D; pFeat.Shape</span><br><span class="line">    &#39;ä¸ºå­—æ®µèµ‹å€¼</span><br><span class="line">    pFeat.Value(idX) &#x3D; pnt.X</span><br><span class="line">    pFeat.Value(idY) &#x3D; pnt.Y</span><br><span class="line">    pFeatCur.UpdateFeature pFeat &#39;æ›´æ–°æ¯ä¸€è¡Œ</span><br><span class="line">    </span><br><span class="line">    s &#x3D; s + pFeat.Value(idName) + &quot;: X &quot; + Str(pnt.X) + &quot; Y &quot; + Str(pnt.Y) + vbNewLine</span><br><span class="line">    </span><br><span class="line">    Set pFeat &#x3D; pFeatCur.NextFeature &#39;å¾ªç¯</span><br><span class="line">Loop</span><br><span class="line"></span><br><span class="line">MsgBox s</span><br><span class="line"></span><br><span class="line">End Sub</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>ArcMapEngine vba</tag>
      </tags>
  </entry>
  <entry>
    <title>vba ArcMap UIæ§ä»¶ çº¿å›¾å±‚-çº¿é•¿ä¸å¼¯æ›²åº¦</title>
    <url>/2019-09-16-vba-xian-tu-ceng-xian-chang-yu-wan-qu-du.html</url>
    <content><![CDATA[<p>è®¡ç®—çº¿å›¾å±‚</p>
<ul>
<li>æ·»åŠ å­—æ®µ</li>
<li>è®¡ç®—çº¿é•¿</li>
<li>è®¡ç®—å¼¯æ›²åº¦</li>
<li>å¼¯æ›²åº¦=çº¿é•¿/æ›²çº¿é¦–æœ«ç›´çº¿è·ç¦»</li>
</ul>
<a id="more"></a>

<h3><span id="ä»£ç ">ä»£ç </span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Private Sub UIButtonControl2_Click()</span><br><span class="line">&#39;åŠŸèƒ½ï¼šè®¡ç®—å®¶ä¹¡çº¿å›¾å±‚ï¼Œçº¿é•¿ä¸å¼¯æ›²åº¦</span><br><span class="line">&#39;ä½œè€…ï¼šinno</span><br><span class="line">&#39;è¯´æ˜ï¼šåˆ©ç”¨vbä»£ç å®ç°ï¼šè‡ªåŠ¨æ·»åŠ ä¸¤ä¸ªå­—æ®µlineLengthå’Œwqdï¼Œè®¡ç®—å‡ºç»“æœã€ä¿å­˜åœ¨å­—æ®µ</span><br><span class="line">&#39;æ‰“å°å‡ºè®¡ç®—ç»“æœ</span><br><span class="line">&#39;æ—¥æœŸ:2019&#x2F;9&#x2F;17</span><br><span class="line"></span><br><span class="line">&#39; IApplicationå¼€å§‹</span><br><span class="line">Dim pApp As IApplication</span><br><span class="line">Set pApp &#x3D; Application</span><br><span class="line"></span><br><span class="line">&#39; è·å–æ–‡æ¡£ IMxDocument</span><br><span class="line">Dim pMxDoc As IMxDocument</span><br><span class="line">Set pMxDoc &#x3D; pApp.Document</span><br><span class="line"></span><br><span class="line">&#39;è·å–å½“å‰åœ°å›¾ IMap</span><br><span class="line">Dim pMap As IMap</span><br><span class="line">Set pMap &#x3D; pMxDoc.FocusMap</span><br><span class="line"></span><br><span class="line">&#39;è·å–å›¾å±‚ ILayer</span><br><span class="line">Dim pLayer As ILayer</span><br><span class="line">Set pLayer &#x3D; pMap.Layer(1) &#39;æ­¤æ–‡æ¡£çº¿å›¾å±‚åœ¨ç¬¬äºŒä¸ªä½ç½®</span><br><span class="line"></span><br><span class="line">&#39;åˆ¤æ–­å›¾å±‚æ˜¯å¦ä¸ºçŸ¢é‡å›¾å±‚</span><br><span class="line">If Not TypeOf pLayer Is IFeatureLayer Then</span><br><span class="line">    MsgBox &quot;å›¾å±‚ä¸æ˜¯çŸ¢é‡å›¾å±‚ï¼Œæ— æ³•è®¡ç®—&quot;</span><br><span class="line">    Exit Sub</span><br><span class="line">End If</span><br><span class="line"></span><br><span class="line">&#39; è·å–çŸ¢é‡å›¾å±‚ IFeatureLayer</span><br><span class="line">Dim pFeatLyr As IFeatureLayer</span><br><span class="line">Set pFeatLyr &#x3D; pLayer</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#39;è·å–è¡¨ IFeatureClass</span><br><span class="line">Dim pFeatCls As IFeatureClass</span><br><span class="line">Set pFeatCls &#x3D; pFeatLyr.FeatureClass</span><br><span class="line"></span><br><span class="line">&#39;åˆ¤æ–­éœ€è¦åˆ›å»ºçš„å­—æ®µæ˜¯å¦å·²ç»å­˜åœ¨</span><br><span class="line">Dim sLenField As String</span><br><span class="line">Dim sWqdField As String</span><br><span class="line">sLenField &#x3D; &quot;lineLength&quot;</span><br><span class="line">sWqdField &#x3D; &quot;wqd&quot;</span><br><span class="line">If pFeatCls.FindField(sLenField) &lt;&gt; -1 Or pFeatCls.FindField(sWqdField) &lt;&gt; -1 Then</span><br><span class="line">    MsgBox &quot;å­—æ®µå·²ç»å­˜åœ¨ï¼Œè¯·æ£€æŸ¥&quot;</span><br><span class="line">    Exit Sub</span><br><span class="line">End If</span><br><span class="line">&#39;åˆ›å»ºå­—æ®µ</span><br><span class="line">Dim lenField As IFieldEdit</span><br><span class="line">Dim wqdField As IFieldEdit</span><br><span class="line">Set lenField &#x3D; New Field</span><br><span class="line">Set wqdField &#x3D; New Field</span><br><span class="line">&#39;è®¾ç½®å­—æ®µåç§°ä¸ç±»å‹</span><br><span class="line">lenField.Name &#x3D; sLenField</span><br><span class="line">wqdField.Name &#x3D; sWqdField</span><br><span class="line">lenField.Type &#x3D; esriFieldTypeDouble</span><br><span class="line">wqdField.Type &#x3D; esriFieldTypeDouble</span><br><span class="line">&#39;æ·»åŠ å­—æ®µ</span><br><span class="line">pFeatCls.AddField lenField</span><br><span class="line">pFeatCls.AddField wqdField</span><br><span class="line"></span><br><span class="line">&#39;è·å–IFeatureCursor</span><br><span class="line">Dim pFeatCur As IFeatureCursor</span><br><span class="line">Set pFeatCur &#x3D; pFeatCls.Update(Nothing, False)</span><br><span class="line"></span><br><span class="line">&#39;è·å– IFeature</span><br><span class="line">Dim pFeat As IFeature</span><br><span class="line">Set pFeat &#x3D; pFeatCur.NextFeature</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Dim s As String &#39;æ‰“å°çš„æ–‡æœ¬å­—ç¬¦ä¸²</span><br><span class="line">Dim line As IPolyline &#39;ILine</span><br><span class="line"></span><br><span class="line">Dim idLen As Integer &#39;é•¿åº¦å­—æ®µçš„ç´¢å¼•</span><br><span class="line">Dim idWqd As Integer &#39;å¼¯æ›²åº¦å­—æ®µçš„ç´¢å¼•</span><br><span class="line">Dim idName As Integer &#39;NAMEå­—æ®µçš„ç´¢å¼•</span><br><span class="line">&#39; ç´¢å¼•èµ‹å€¼</span><br><span class="line">idLen &#x3D; pFeatCls.FindField(sLenField)</span><br><span class="line">idWqd &#x3D; pFeatCls.FindField(sWqdField)</span><br><span class="line">idName &#x3D; pFeatCls.FindField(&quot;NAME&quot;)</span><br><span class="line"></span><br><span class="line">Dim fPoint As IPoint &#39;çº¿æ®µé¦–ç‚¹</span><br><span class="line">Dim lPoint As IPoint &#39;çº¿æ®µæœ«ç‚¹</span><br><span class="line">Dim dis As Double &#39;é¦–æœ«ç‚¹ç›´çº¿é•¿åº¦</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Do While Not pFeat Is Nothing</span><br><span class="line">    Set line &#x3D; pFeat.Shape  &#39;çº¿</span><br><span class="line">    pFeat.Value(idLen) &#x3D; line.Length  &#39;ç»™é•¿åº¦å­—æ®µèµ‹å€¼</span><br><span class="line">    </span><br><span class="line">    &#39;é¦–æœ«ç‚¹ç›´çº¿é•¿åº¦è®¡ç®—</span><br><span class="line">    Set fPoint &#x3D; line.FromPoint</span><br><span class="line">    Set lPoint &#x3D; line.ToPoint</span><br><span class="line">    dis &#x3D; ((fPoint.X - lPoint.X) ^ 2 + (fPoint.Y - lPoint.Y) ^ 2) ^ (1 &#x2F; 2)</span><br><span class="line">    pFeat.Value(idWqd) &#x3D; dis &#x2F; line.Length &#39;å¼¯æ›²åº¦èµ‹å€¼åˆ°å­—æ®µä¸­</span><br><span class="line">    </span><br><span class="line">    s &#x3D; s + pFeat.Value(idName) + Str(line.Length) + sWqdField + Str(dis &#x2F; line.Length) + vbNewLine    &#39;è¾“å‡ºå­—ç¬¦ä¸²</span><br><span class="line">    pFeatCur.UpdateFeature pFeat &#39;æ›´æ–°è¦ç´ </span><br><span class="line">    </span><br><span class="line">    Set pFeat &#x3D; pFeatCur.NextFeature &#39;ä¸åŠ æ˜¯æ­»å¾ªç¯</span><br><span class="line">Loop</span><br><span class="line"></span><br><span class="line">MsgBox s</span><br><span class="line">End Sub</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>ArcMapEngine vba</tag>
      </tags>
  </entry>
  <entry>
    <title>vba ArcMap UIæ§ä»¶  è®¡ç®—è¦ç´ å›¾å±‚é¢ç§¯</title>
    <url>/2019-09-16-vba-arcmap-ui-kong-jian-ji-suan-yao-su-tu-ceng-mian-ji.html</url>
    <content><![CDATA[<p>è®¡ç®—é¢å›¾å±‚</p>
<ul>
<li>æ·»åŠ å­—æ®µ</li>
<li>è®¡ç®—é¢ç§¯</li>
</ul>
<a id="more"></a>

<h3><span id="vbaä»£ç ">vbaä»£ç </span></h3><h4><span id="ç‰ˆæœ¬ä¸€">ç‰ˆæœ¬ä¸€</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Private Sub UIButtonControl1_Click()</span><br><span class="line">&#39; åŠŸèƒ½ï¼šè®¡ç®—å›¾å±‚é¢ç§¯</span><br><span class="line">&#39; ä½œè€…ï¼šinno</span><br><span class="line">&#39; è¯´æ˜ï¼šä»£ç å®ç°äº†ï¼šå¯¹çŸ¢é‡é¢å›¾å±‚ï¼Œæ–°å»ºä¸€ä¸ªå­—æ®µï¼Œå¹¶è®¡ç®—é¢ç§¯èµ‹å€¼ç»™æ­¤å­—æ®µ</span><br><span class="line">&#39; æ—¥æœŸï¼š2019&#x2F;9&#x2F;16</span><br><span class="line"></span><br><span class="line">&#39;IApplicationå¼€å§‹</span><br><span class="line">Dim pApp As IApplication</span><br><span class="line">Set pApp &#x3D; Application</span><br><span class="line"></span><br><span class="line">&#39;MxDocument è·å–æ–‡æ¡£</span><br><span class="line">Dim pMxDoc As IMxDocument</span><br><span class="line">Set pMxDoc &#x3D; pApp.Document</span><br><span class="line"></span><br><span class="line">&#39;IMap è·å–åœ°å›¾</span><br><span class="line">Dim pMap As IMap</span><br><span class="line">Set pMap &#x3D; pMxDoc.FocusMap &#39;è·å–å½“å‰åœ°å›¾</span><br><span class="line"></span><br><span class="line">&#39;ILayer è·å–å›¾å±‚</span><br><span class="line">Dim pLayer As ILayer</span><br><span class="line">Set pLayer &#x3D; pMap.Layer(0) &#39;ç¬¬ä¸€ä¸ªå›¾å±‚</span><br><span class="line"></span><br><span class="line">&#39;åˆ¤æ–­å›¾å±‚æ˜¯å¦ä¸ºçŸ¢é‡å›¾å±‚</span><br><span class="line">If Not TypeOf pLayer Is IFeatureLayer Then</span><br><span class="line">    MsgBox &quot;ä¸æ˜¯çŸ¢é‡å›¾å±‚&quot;</span><br><span class="line">    Exit Sub</span><br><span class="line">End If</span><br><span class="line"></span><br><span class="line">&#39;IFeatureLayer è·å–çŸ¢é‡å›¾å±‚</span><br><span class="line">Dim pFeatLyr As IFeatureLayer</span><br><span class="line">Set pFeatLyr &#x3D; pLayer</span><br><span class="line"></span><br><span class="line">&#39;IFeatureClass è·å–è¡¨</span><br><span class="line">Dim pFeatCls As IFeatureClass</span><br><span class="line">Set pFeatCls &#x3D; pFeatLyr.FeatureClass</span><br><span class="line"></span><br><span class="line">&#39;åˆ¤æ–­æ˜¯å¦ä¸ºé¢</span><br><span class="line">If pFeatCls.ShapeType &lt;&gt; esriGeometryPolygon Then</span><br><span class="line">    MsgBox &quot;ä¸æ˜¯é¢å…ƒç´ ï¼Œä¸èƒ½è®¡ç®—é¢ç§¯&quot;</span><br><span class="line">    Exit Sub</span><br><span class="line">End If</span><br><span class="line"></span><br><span class="line">&#39;æ·»åŠ ä¸€ä¸ªé¢ç§¯å­—æ®µ</span><br><span class="line">Dim id_area2 As Integer</span><br><span class="line">Dim area2 As String</span><br><span class="line">area2 &#x3D; &quot;AREA2&quot;</span><br><span class="line">id_area2 &#x3D; pFeatCls.FindField(area2) &#39;å­—æ®µç´¢å¼•</span><br><span class="line">&#39;åˆ¤æ–­é¢ç§¯å­—æ®µæ˜¯å¦å­˜åœ¨,è‹¥ä¸å­˜åœ¨ï¼Œarea2&#x3D;-1</span><br><span class="line">If id_area2 &lt;&gt; -1 Then</span><br><span class="line">   MsgBox &quot;å­—æ®µå·²å­˜åœ¨ï¼Œè¯·é‡æ–°æ·»åŠ å­—æ®µ&quot;</span><br><span class="line">   Exit Sub</span><br><span class="line">End If</span><br><span class="line">&#39;å£°æ˜å¯ç¼–è¾‘å­—æ®µç±»å‹</span><br><span class="line">Dim areaField As IFieldEdit</span><br><span class="line">Set areaField &#x3D; New Field</span><br><span class="line">&#39;å­—æ®µåä¸ç±»å‹</span><br><span class="line">areaField.Name &#x3D; area2</span><br><span class="line">areaField.Type &#x3D; esriFieldTypeDouble</span><br><span class="line"></span><br><span class="line">pFeatCls.AddField areaField &#39;æ·»åŠ é¢ç§¯å­—æ®µ</span><br><span class="line"></span><br><span class="line">&#39;FeatureCursor è·å–æŒ‡é’ˆ</span><br><span class="line">Dim pFeatCur As IFeatureCursor</span><br><span class="line">Set pFeatCur &#x3D; pFeatCls.Update(Nothing, False)</span><br><span class="line"></span><br><span class="line">Dim pFeat As IFeature</span><br><span class="line">Set pFeat &#x3D; pFeatCur.NextFeature</span><br><span class="line"></span><br><span class="line">Dim plg As IPolygon &#39;é¢</span><br><span class="line">Dim pArea As IArea &#39;é¢ç§¯</span><br><span class="line">Dim s As String &#39;å­—ç¬¦ä¸²å­˜è¡¨ä¸­nameå­—ç¬¦</span><br><span class="line">Dim s_id As Integer &#39;æ•´å‹id</span><br><span class="line">Dim s_area As Integer &#39;é¢ç§¯å­—æ®µçš„ç´¢å¼•</span><br><span class="line"></span><br><span class="line">s_id &#x3D; pFeatCls.FindField(&quot;NAME&quot;)  &#39;NAMEå­—æ®µæ‰€åœ¨çš„ç´¢å¼•å·</span><br><span class="line">s_area &#x3D; pFeatCls.FindField(area2) &#39;é¢ç§¯å­—æ®µçš„ç´¢å¼•</span><br><span class="line">&#39;MsgBox s_area</span><br><span class="line"></span><br><span class="line">&#39;å¾ªç¯ è®¡ç®—é¢ç§¯ å­˜æ”¾åœ¨ç‰¹å®šå­—æ®µ</span><br><span class="line">Do While Not pFeat Is Nothing</span><br><span class="line">    Set plg &#x3D; pFeat.Shape</span><br><span class="line">    &#39;è®¡ç®—é¢ç§¯</span><br><span class="line">    Set pArea &#x3D; plg</span><br><span class="line">    pFeat.Value(s_area) &#x3D; pArea.Area</span><br><span class="line">    pFeatCur.UpdateFeature pFeat &#39;å°†é¢ç§¯æ·»åŠ åˆ°å­—æ®µä¸­åï¼Œæ›´æ–°è¦ç´ </span><br><span class="line">    </span><br><span class="line">    &#39;å­—ç¬¦ä¸²</span><br><span class="line">    s &#x3D; s + pFeat.Value(s_id) + Str(pArea.Area) + vbNewLine</span><br><span class="line">    Set pFeat &#x3D; pFeatCur.NextFeature &#39; å¾ªç¯ï¼Œä¸åŠ å°±æ­»å¾ªç¯</span><br><span class="line">    </span><br><span class="line">Loop</span><br><span class="line"></span><br><span class="line">MsgBox s</span><br><span class="line"></span><br><span class="line">End Sub</span><br></pre></td></tr></table></figure>

<h4><span id="ç‰ˆæœ¬äºŒ">ç‰ˆæœ¬äºŒ</span></h4><ul>
<li>æ·»åŠ å­—æ®µæ—¶ï¼Œåˆ¤æ–­å­—æ®µæ˜¯å¦å­˜åœ¨</li>
<li>ä¸å­˜åœ¨åˆ™æ·»åŠ </li>
<li>å­˜åœ¨åˆ™ä¸æ·»åŠ ï¼Œåç»­è®¡ç®—ç»“æœèµ‹å€¼ç»™å­˜åœ¨å­—æ®µ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Private Sub UIButtonControl1_Click()</span><br><span class="line">&#39; åŠŸèƒ½ï¼šè®¡ç®—å®¶ä¹¡å›¾å±‚é¢ç§¯</span><br><span class="line">&#39; ä½œè€…ï¼š1985857412@qq.com</span><br><span class="line">&#39; è¯´æ˜ï¼šä»£ç å®ç°äº†ï¼šå¯¹çŸ¢é‡é¢å›¾å±‚ï¼Œæ–°å»ºä¸€ä¸ªå­—æ®µï¼Œå¹¶è®¡ç®—é¢ç§¯èµ‹å€¼ç»™æ­¤å­—æ®µ</span><br><span class="line">&#39; æ—¥æœŸï¼š2019&#x2F;9&#x2F;16</span><br><span class="line"></span><br><span class="line">&#39;IApplicationå¼€å§‹</span><br><span class="line">Dim pApp As IApplication</span><br><span class="line">Set pApp &#x3D; Application</span><br><span class="line"></span><br><span class="line">&#39;MxDocument è·å–æ–‡æ¡£</span><br><span class="line">Dim pMxDoc As IMxDocument</span><br><span class="line">Set pMxDoc &#x3D; pApp.Document</span><br><span class="line"></span><br><span class="line">&#39;IMap è·å–åœ°å›¾</span><br><span class="line">Dim pMap As IMap</span><br><span class="line">Set pMap &#x3D; pMxDoc.FocusMap &#39;è·å–å½“å‰åœ°å›¾</span><br><span class="line"></span><br><span class="line">&#39;ILayer è·å–å›¾å±‚</span><br><span class="line">Dim pLayer As ILayer</span><br><span class="line">Set pLayer &#x3D; pMap.Layer(0) &#39;ç¬¬ä¸€ä¸ªå›¾å±‚</span><br><span class="line"></span><br><span class="line">&#39;åˆ¤æ–­å›¾å±‚æ˜¯å¦ä¸ºçŸ¢é‡å›¾å±‚</span><br><span class="line">If Not TypeOf pLayer Is IFeatureLayer Then</span><br><span class="line">    MsgBox &quot;ä¸æ˜¯çŸ¢é‡å›¾å±‚&quot;</span><br><span class="line">    Exit Sub</span><br><span class="line">End If</span><br><span class="line"></span><br><span class="line">&#39;IFeatureLayer è·å–çŸ¢é‡å›¾å±‚</span><br><span class="line">Dim pFeatLyr As IFeatureLayer</span><br><span class="line">Set pFeatLyr &#x3D; pLayer</span><br><span class="line"></span><br><span class="line">&#39;IFeatureClass è·å–è¡¨</span><br><span class="line">Dim pFeatCls As IFeatureClass</span><br><span class="line">Set pFeatCls &#x3D; pFeatLyr.FeatureClass</span><br><span class="line"></span><br><span class="line">&#39;åˆ¤æ–­æ˜¯å¦ä¸ºé¢</span><br><span class="line">If pFeatCls.ShapeType &lt;&gt; esriGeometryPolygon Then</span><br><span class="line">    MsgBox &quot;ä¸æ˜¯é¢å…ƒç´ ï¼Œä¸èƒ½è®¡ç®—é¢ç§¯&quot;</span><br><span class="line">    Exit Sub</span><br><span class="line">End If</span><br><span class="line"></span><br><span class="line">&#39;æ·»åŠ ä¸€ä¸ªé¢ç§¯å­—æ®µ</span><br><span class="line">Dim id_area2 As Integer</span><br><span class="line">Dim area2 As String</span><br><span class="line">area2 &#x3D; &quot;AREA2&quot;</span><br><span class="line">id_area2 &#x3D; pFeatCls.FindField(area2) &#39;å­—æ®µç´¢å¼•</span><br><span class="line">&#39;åˆ¤æ–­é¢ç§¯å­—æ®µæ˜¯å¦å­˜åœ¨,ä¸å­˜åœ¨æ—¶ï¼Œarea2&#x3D;-1</span><br><span class="line">If id_area2 &lt;&gt; -1 Then</span><br><span class="line">   MsgBox &quot;å­—æ®µAREA2å·²å­˜åœ¨ï¼Œå°†ä½¿ç”¨å­˜åœ¨å­—æ®µè¿›è¡Œè®¡ç®—&quot;</span><br><span class="line"></span><br><span class="line">Else &#39;å­—æ®µä¸å­˜åœ¨æ—¶ï¼Œæ–°å»º</span><br><span class="line">    </span><br><span class="line">    &#39;å£°æ˜å¯ç¼–è¾‘å­—æ®µç±»å‹</span><br><span class="line">    Dim areaField As IFieldEdit</span><br><span class="line">    Set areaField &#x3D; New Field</span><br><span class="line">    &#39;å­—æ®µåä¸ç±»å‹</span><br><span class="line">    areaField.Name &#x3D; area2</span><br><span class="line">    areaField.Type &#x3D; esriFieldTypeDouble</span><br><span class="line"></span><br><span class="line">    pFeatCls.AddField areaField &#39;æ·»åŠ é¢ç§¯å­—æ®µ</span><br><span class="line">End If</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#39;FeatureCursor è·å–æŒ‡é’ˆ</span><br><span class="line">Dim pFeatCur As IFeatureCursor</span><br><span class="line">Set pFeatCur &#x3D; pFeatCls.Update(Nothing, False)</span><br><span class="line"></span><br><span class="line">Dim pFeat As IFeature</span><br><span class="line">Set pFeat &#x3D; pFeatCur.NextFeature</span><br><span class="line"></span><br><span class="line">Dim plg As IPolygon &#39;é¢</span><br><span class="line">Dim pArea As IArea &#39;é¢ç§¯</span><br><span class="line">Dim s As String &#39;å­—ç¬¦ä¸²å­˜è¡¨ä¸­nameå­—ç¬¦</span><br><span class="line">Dim s_id As Integer &#39;æ•´å‹id</span><br><span class="line">Dim s_area As Integer &#39;é¢ç§¯å­—æ®µçš„ç´¢å¼•</span><br><span class="line"></span><br><span class="line">s_id &#x3D; pFeatCls.FindField(&quot;NAME&quot;)  &#39;NAMEå­—æ®µæ‰€åœ¨çš„ç´¢å¼•å·</span><br><span class="line">s_area &#x3D; pFeatCls.FindField(area2) &#39;é¢ç§¯å­—æ®µçš„ç´¢å¼•</span><br><span class="line">&#39;MsgBox s_area</span><br><span class="line"></span><br><span class="line">&#39;å¾ªç¯ è®¡ç®—é¢ç§¯ å­˜æ”¾åœ¨ç‰¹å®šå­—æ®µ</span><br><span class="line">Do While Not pFeat Is Nothing</span><br><span class="line">    Set plg &#x3D; pFeat.Shape</span><br><span class="line">    &#39;è®¡ç®—é¢ç§¯</span><br><span class="line">    Set pArea &#x3D; plg</span><br><span class="line">    pFeat.Value(s_area) &#x3D; pArea.Area</span><br><span class="line">    pFeatCur.UpdateFeature pFeat &#39;å°†é¢ç§¯æ·»åŠ åˆ°å­—æ®µä¸­åï¼Œæ›´æ–°è¦ç´ </span><br><span class="line">    </span><br><span class="line">    &#39;å­—ç¬¦ä¸²</span><br><span class="line">    s &#x3D; s + pFeat.Value(s_id) + Str(pArea.Area) + vbNewLine</span><br><span class="line">    Set pFeat &#x3D; pFeatCur.NextFeature &#39; å¾ªç¯ï¼Œä¸åŠ å°±æ­»å¾ªç¯</span><br><span class="line">    </span><br><span class="line">Loop</span><br><span class="line"></span><br><span class="line">MsgBox s</span><br><span class="line"></span><br><span class="line">End Sub</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>ArcMapEngine vba</tag>
      </tags>
  </entry>
  <entry>
    <title>jQueryå®ç°å¸¦ä¸‹æ‹‰æ¡†å¯¼èˆªæ </title>
    <url>/2019-08-15-jquery-shi-xian-dai-xia-la-kuang-dao-hang-lan.html</url>
    <content><![CDATA[<h2><span id="jqueryå®ä¾‹1-å¸¦ä¸‹æ‹‰æ¡†å¯¼èˆªæ ">jQueryå®ä¾‹(1)-å¸¦ä¸‹æ‹‰æ¡†å¯¼èˆªæ </span></h2><p>å®ç°åŠŸèƒ½:</p>
<ul>
<li>å½“é¼ æ ‡æ‚¬åœæ—¶è‡ªåŠ¨å‡ºç°ä¸‹æ‹‰æ¡†(hover)</li>
<li>ä¸‹æ‹‰æ¡†çš„æ·¡å…¥æ·¡å‡º(slide)</li>
<li>è®¾ç½®åŠ¨ç”»å»¶æ—¶(setTimeout)</li>
<li>å¯¼èˆªæ éšæ»šè½®æ‚¬æµ®åœ¨é¡¶éƒ¨</li>
</ul>
<p>æ–‡ä»¶ç›®å½•</p>
<ul>
<li>header.html</li>
<li>header.css</li>
<li>header.js  float.js</li>
</ul>
<a id="more"></a>

<h3><span id="1-headerhtmlæ–‡ä»¶">1. header.htmlæ–‡ä»¶</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot; &#x2F;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1&quot;&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;jquery-3.3.1.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;header.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;float.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;link rel&#x3D;&quot;stylesheet&quot; type&#x3D;&quot;text&#x2F;css&quot; href&#x3D;&quot;header.css&quot;&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">        &lt;a href&#x3D;&quot;#&quot;&gt;é¦–é¡µ&lt;&#x2F;a&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;accordion&quot;&gt;</span><br><span class="line">            &lt;a href&#x3D;&quot;#&quot;&gt;æ¸¸æˆ&lt;&#x2F;a&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;accordion-contents&quot;&gt;</span><br><span class="line">                &lt;a href&#x3D;&quot;#&quot;&gt;æš—å¤œåŸºåœ°&lt;&#x2F;a&gt;</span><br><span class="line">                &lt;a href&#x3D;&quot;#&quot;&gt;å›è·¯åŒº&lt;&#x2F;a&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;accordion&quot;&gt;</span><br><span class="line">            &lt;a href&#x3D;&quot;#&quot;&gt;åŠ å…¥&lt;&#x2F;a&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;accordion-contents&quot;&gt;</span><br><span class="line">                &lt;a href&#x3D;&quot;#&quot;&gt;é‡ç‹¼å‰¯æœ¬&lt;&#x2F;a&gt;</span><br><span class="line">                &lt;a href&#x3D;&quot;#&quot;&gt;ç²¾çµç¥­å›&lt;&#x2F;a&gt;</span><br><span class="line">                &lt;a href&#x3D;&quot;#&quot;&gt;è’åŸæ˜Ÿé™…&lt;&#x2F;a&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;accordion&quot;&gt;</span><br><span class="line">            &lt;a href&#x3D;&quot;#&quot;&gt;å…³äº&lt;&#x2F;a&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;accordion-contents&quot;&gt;</span><br><span class="line">                &lt;a href&#x3D;&quot;#&quot;&gt;ä¸–ç•Œè§‚&lt;&#x2F;a&gt;</span><br><span class="line">                &lt;a href&#x3D;&quot;#&quot;&gt;é­”å¯¼çŸ³&lt;&#x2F;a&gt;</span><br><span class="line">                &lt;a href&#x3D;&quot;#&quot;&gt;ç©ºåŸæœ¯&lt;&#x2F;a&gt;</span><br><span class="line">            &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;</span><br><span class="line">    &lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;</span><br><span class="line">    &lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;</span><br><span class="line">    &lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;</span><br><span class="line">    &lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;</span><br><span class="line">    &lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="2-headercss-æ–‡ä»¶">2. header.css æ–‡ä»¶</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">*&#123;  margin: 0;padding: 0;&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;*å®¹å™¨*&#x2F;</span><br><span class="line">.container&#123;</span><br><span class="line">    font-family: &#39;Trebuchet MS&#39;, &#39;Lucida Sans Unicode&#39;, &#39;Lucida Grande&#39;, &#39;Lucida Sans&#39;, Arial, sans-serif;</span><br><span class="line">    font-size: 1em;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 40px;</span><br><span class="line">    background-color: rgba(127,255,212,0.5); &#x2F;*rgba()0.5è®¾ç½®èƒŒæ™¯ä¸é€æ˜åº¦ï¼Œè€Œæ–‡å­—ä¸é€æ˜*&#x2F;</span><br><span class="line">    &#x2F;* overflow: hidden; è¶…å‡ºå®¹å™¨å…ƒç´ ä¼šè¢«éšè— *&#x2F;  &#x2F;*æ­¤å¥åœ¨å¯¼èˆªæ æ‚¬æµ®ä¼šå‡ºç°ä¸‹æ‹‰èœå•æ¶ˆå¤±çš„bug*&#x2F;</span><br><span class="line">    text-align: center;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.container a&#123;</span><br><span class="line">    float: left;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    font-size: 1em;</span><br><span class="line">    color: black;</span><br><span class="line">    line-height: 40px;</span><br><span class="line">    width: 100px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    text-decoration: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.accordion&#123;</span><br><span class="line">    float: left;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;*ä¸‹æ‹‰å…ƒç´ ä¸ä¼šé®ä½æ­¤å¤„*&#x2F;</span><br><span class="line">.accordion a&#123;</span><br><span class="line">    float: none;</span><br><span class="line">    display: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.accordion-contents&#123;</span><br><span class="line">    display: none;</span><br><span class="line">    position: absolute;</span><br><span class="line">    background-color: aliceblue;</span><br><span class="line">    box-shadow: 0 8px 12px 0 rgba(0, 0, 0, 0.2);</span><br><span class="line">    z-index: 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* è®©ä¸‹æ‹‰å…ƒç´ åœ¨ä¸‹éƒ¨ *&#x2F;</span><br><span class="line">.accordion-contents a&#123;</span><br><span class="line">    float: none;</span><br><span class="line">    display: block;</span><br><span class="line">    text-align: center;</span><br><span class="line">    text-decoration: none; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a:hover&#123;</span><br><span class="line">    color: white;</span><br><span class="line">    background-color: midnightblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="3-headerjs-ä½¿ç”¨jqueryå®ç°ä¸‹æ‹‰åŠ¨ç”»">3. header.js ä½¿ç”¨jQueryå®ç°ä¸‹æ‹‰åŠ¨ç”»</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$(document).ready(function()&#123;</span><br><span class="line">    &#x2F;&#x2F; jQueryå®ç°ä¸‹æ‹‰èœå•</span><br><span class="line">    $(&quot;.accordion&quot;).hover(</span><br><span class="line">        function()&#123; &#x2F;&#x2F;æ‚¬åœåœ¨ä¸Š</span><br><span class="line">            var _this &#x3D; $(this); &#x2F;&#x2F;setTimeout()ä¸­ä¸èƒ½ä½¿ç”¨$(this)</span><br><span class="line">            trigger &#x3D; setTimeout(function()&#123;  &#x2F;&#x2F;è®¾ç½®å»¶æ—¶å¤„ç†</span><br><span class="line">                _this.children().slideDown(&quot;fast&quot;);</span><br><span class="line">            &#125;, 300);</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        function()&#123; &#x2F;&#x2F;æ‚¬åœç¦»å¼€</span><br><span class="line">            clearTimeout(trigger); &#x2F;&#x2F;æ¸…é™¤å»¶æ—¶</span><br><span class="line">            $(&quot;.accordion-contents&quot;).slideUp(&quot;fast&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    );</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3><span id="4-floatjs-æ–‡ä»¶å®ç°å¯¼èˆªæ éšæ»šè½®æ‚¬æµ®åœ¨é¡¶éƒ¨">4. float.js æ–‡ä»¶å®ç°å¯¼èˆªæ éšæ»šè½®æ‚¬æµ®åœ¨é¡¶éƒ¨</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$(document).ready(function()&#123;</span><br><span class="line">    &#x2F;&#x2F; jQueryå®ç°å¯¼èˆªæ éšæ»šè½®æ‚¬æµ®</span><br><span class="line">    &#x2F;&#x2F; é¦–å…ˆè·å–å¯¼èˆªæ è·ç¦»é¡¶éƒ¨é«˜åº¦</span><br><span class="line">    var top &#x3D; $(&quot;.container&quot;).offset().top;</span><br><span class="line">    &#x2F;&#x2F; å¼€å§‹ç›‘æ§æ»šåŠ¨æ scroll</span><br><span class="line">    $(document).scroll(function()&#123;</span><br><span class="line">        &#x2F;&#x2F; è·å–å½“å‰æ»šåŠ¨æ é«˜åº¦</span><br><span class="line">        var scrTop &#x3D; $(window).scrollTop();</span><br><span class="line">        &#x2F;&#x2F; åˆ¤æ–­:æ»šåŠ¨æ é«˜åº¦å¤§äºç­‰äºå¯¼èˆªæ è·ç¦»é¡¶éƒ¨çš„é«˜åº¦æ—¶ï¼Œæ‚¬æµ®</span><br><span class="line">        if(scrTop &gt;&#x3D; top)&#123;</span><br><span class="line">            $(&quot;.container&quot;).css(&#123;&#39;position&#39;:&#39;fixed&#39;,&#39;top&#39;:&#39;0&#39;&#125;);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            $(&quot;.container&quot;).css(&#123;&#39;position&#39;:&#39;&#39;,&#39;top&#39;:&#39;&#39;&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>JavaScript jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptåº”ç”¨å®ä¾‹-ä¸‹æ‹‰æ¡†</title>
    <url>/2019-08-06-javascript-ying-yong-shi-li-3-shou-feng-qin-xia-la-kuang.html</url>
    <content><![CDATA[<h2><span id="javascriptåº”ç”¨å®ä¾‹3-æ‰‹é£ç´ä¸‹æ‹‰æ¡†">JavaScriptåº”ç”¨å®ä¾‹(3)-æ‰‹é£ç´ä¸‹æ‹‰æ¡†</span></h2><p>å‚è€ƒï¼š<a href="https://c.runoob.com/codedemo/3158" target="_blank" rel="noopener external nofollow noreferrer"> JS/CSS å¸¦å›¾æ ‡æ‰‹é£ç´åŠ¨ç”»æ•ˆæœ</a></p>
<ul>
<li>html</li>
<li>css</li>
<li>javascript</li>
</ul>
<a id="more"></a>

<h3><span id="1-html-javascript">1. html javascript</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  	&lt;meta charset&#x3D;&quot;utf-8&quot; &#x2F;&gt;</span><br><span class="line">	&lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1&quot;&gt;</span><br><span class="line">	&lt;link type&#x3D;&quot;text&#x2F;css&quot; rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;accordion.css&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;!-- å¸¦å›¾æ ‡æ‰‹é£ç´åŠ¨ç”»æ•ˆæœ --&gt;</span><br><span class="line">&lt;button class&#x3D;&quot;accordion&quot;&gt;é€‰é¡¹ 1&lt;&#x2F;button&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;panel&quot;&gt;</span><br><span class="line">  &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;button class&#x3D;&quot;accordion&quot;&gt;é€‰é¡¹ 2&lt;&#x2F;button&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;panel&quot;&gt;</span><br><span class="line">  &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">	</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var acc &#x3D; document.getElementsByClassName(&quot;accordion&quot;);</span><br><span class="line">var i;</span><br><span class="line"></span><br><span class="line">for (i &#x3D; 0; i &lt; acc.length; i++) &#123;</span><br><span class="line">  acc[i].onclick &#x3D; function() &#123;</span><br><span class="line">    this.classList.toggle(&quot;active&quot;);</span><br><span class="line">    var panel &#x3D; this.nextElementSibling;</span><br><span class="line">    if (panel.style.maxHeight)&#123;</span><br><span class="line">      panel.style.maxHeight &#x3D; null;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      panel.style.maxHeight &#x3D; panel.scrollHeight + &quot;px&quot;;</span><br><span class="line">    &#125; </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="2-css">2. css</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">button.accordion &#123;</span><br><span class="line">    background-color: aqua;</span><br><span class="line">    color: rgb(8, 8, 8);</span><br><span class="line">    cursor: pointer;</span><br><span class="line">    padding: 18px;</span><br><span class="line">    width: 20%;</span><br><span class="line">    border: none;</span><br><span class="line">    text-align: left;</span><br><span class="line">    outline: none;</span><br><span class="line">    font-size: 15px;</span><br><span class="line">    transition: 0.4s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">button.accordion.active, button.accordion:hover &#123;</span><br><span class="line">    background-color: rgb(191, 197, 204);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">button.accordion:after &#123;</span><br><span class="line">    content: &#39;\002B&#39;;</span><br><span class="line">    color: rgb(29, 27, 27);</span><br><span class="line">    font-weight: bold;</span><br><span class="line">    float: right;</span><br><span class="line">    margin-left: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">button.accordion.active:after &#123;</span><br><span class="line">    content: &quot;\2212&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.panel &#123;</span><br><span class="line">    width: 20%;</span><br><span class="line">    padding: 0 18px;</span><br><span class="line">    background-color: aquamarine;</span><br><span class="line">    max-height: 0;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">    transition: max-height 0.2s ease-out;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>Python-ArcGISå­¦ä¹ åŠŸèƒ½ç´¢å¼•</title>
    <url>/2019-08-06-python-arcgis-xue-xi-gong-neng-suo-yin.html</url>
    <content><![CDATA[<h2><span id="python-arcgiså­¦ä¹ åŠŸèƒ½ç´¢å¼•">Python-ArcGISå­¦ä¹ åŠŸèƒ½ç´¢å¼•</span></h2><p>ä¹¦ç±ï¼šåŸºäºArcGISçš„Pythonç¼–ç¨‹ç§˜ç¬ˆ(ç¬¬2ç‰ˆ); </p>
<p><b>åŠŸèƒ½ç´¢å¼•</b></p>
<h3><span id="å­¦ä¹ æ—¥å¿—-1">å­¦ä¹ æ—¥å¿— 1:</span></h3><ul>
<li>arcpyåº“  </li>
<li>å¼•ç”¨mxdæ–‡æ¡£ã€æ•°æ®æ¡†ã€å›¾å±‚  </li>
<li>æ”¹å˜åœ°å›¾èŒƒå›´  </li>
<li>æ·»åŠ å›¾å±‚æ–‡ä»¶åˆ°æ•°æ®æ¡†  </li>
<li>æ’å…¥ä¸€ä¸ªå›¾å±‚åˆ°æŸä¸ªä½ç½®</li>
</ul>
<a id="more"></a>

<h3><span id="å­¦ä¹ æ—¥å¿—-2">å­¦ä¹ æ—¥å¿— 2:</span></h3><ul>
<li>åˆ©ç”¨å›¾å±‚æ›´æ–°å…¶ä»–å›¾å±‚å±æ€§  </li>
<li>æ“ä½œæ•°æ®æ¡†ä¸­å¯ç”¨æ—¶é—´å±æ€§çš„å›¾å±‚  </li>
<li>æŸ¥æ‰¾åœ°å›¾æ–‡æ¡£å’Œå›¾å±‚æ–‡ä»¶ä¸­ä¸¢å¤±çš„æ•°æ®æº  </li>
<li>ä½¿ç”¨MapDocument.findAndReplaceWorkplacePaths()ä¿®å¤ä¸¢å¤±çš„æ•°æ®æº  </li>
<li>ä½¿ç”¨MapDocument.replaceWorkspaces()æ–¹æ³•ä¿®å¤ä¸¢å¤±çš„æ•°æ®æº</li>
</ul>
<h3><span id="å­¦ä¹ æ—¥å¿—-3">å­¦ä¹ æ—¥å¿— 3</span></h3><ul>
<li>ä½¿ç”¨replaceDataSource()ä¿®å¤å•ä¸ªå›¾å±‚å’Œè¡¨å¯¹è±¡  </li>
<li>æŸ¥æ‰¾æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰åœ°å›¾æ–‡æ¡£å†…ä¸¢å¤±æ•°æ®æºçš„å›¾å±‚ </li>
</ul>
<h3><span id="å­¦ä¹ æ—¥å¿—-4">å­¦ä¹ æ—¥å¿— 4</span></h3><ul>
<li>æ‰“å°æ–‡æ¡£ä¸­çš„æ‰€æœ‰å¸ƒå±€å…ƒç´ </li>
<li>æ‰“å°å¸ƒå±€å…ƒç´ ï¼Œé™åˆ¶ä¸ºå›¾ä¾‹å…ƒç´ </li>
<li>æ›´æ–°å¸ƒå±€å…ƒç´ å±æ€§</li>
<li>è·å–å¯ç”¨çš„æ‰“å°æœºåˆ—è¡¨</li>
<li>ä½¿ç”¨PrintMap()æ‰“å°åœ°å›¾</li>
<li>å¯¼å‡ºåœ°å›¾ä¸ºPDFæ–‡ä»¶</li>
<li>å¯¼å‡ºåœ°å›¾ä¸ºå›¾åƒæ–‡ä»¶</li>
<li>å¯¼å‡ºå›¾å±‚æŠ¥è¡¨</li>
<li>ä½¿ç”¨æ•°æ®é©±åŠ¨é¡µé¢å’Œarcpy.mappingæ¨¡å—æ„å»ºåœ°å›¾å†Œ</li>
<li>å°†åœ°å›¾æ–‡æ¡£å‘å¸ƒä¸ºArcGIS ServeræœåŠ¡</li>
</ul>
<h3><span id="å­¦ä¹ æ—¥å¿—-5">å­¦ä¹ æ—¥å¿— 5</span></h3><ul>
<li>ä½¿ç”¨è„šæœ¬æ‰§è¡Œåœ°ç†å¤„ç†å·¥å…·-Clip_analysisä¸ºä¾‹</li>
<li>å°†ä¸€ä¸ªå·¥å…·çš„è¾“å‡ºä½œä¸ºä¸€ä¸ªå·¥å…·çš„è¾“å…¥</li>
</ul>
<h3><span id="å­¦ä¹ æ—¥å¿—-6">å­¦ä¹ æ—¥å¿— 6</span></h3><ul>
<li>åˆ›å»ºè‡ªå®šä¹‰åœ°ç†å¤„ç†å·¥å…·</li>
<li>åˆ›å»ºPythonå·¥å…·ç®±</li>
</ul>
<h3><span id="å­¦ä¹ æ—¥å¿—7-æŸ¥è¯¢å’Œé€‰æ‹©æ•°æ®">å­¦ä¹ æ—¥å¿—7     æŸ¥è¯¢å’Œé€‰æ‹©æ•°æ®</span></h3><ul>
<li>æŸ¥è¯¢å‰ï¼Œåˆ›å»ºè¦ç´ ç±»æˆ–è¡¨è§†å›¾çš„å†…å­˜å‰¯æœ¬</li>
<li>æµ‹è¯• æŒ‰å±æ€§æŸ¥è¯¢</li>
<li>æŒ‰ä½ç½®é€‰æ‹©å›¾å±‚</li>
<li>ç»“åˆ æŒ‰å±æ€§é€‰æ‹©ä¸æŒ‰ä½ç½®é€‰æ‹©</li>
</ul>
<h3><span id="å­¦ä¹ æ—¥å¿—8-åœ¨è¦ç´ ç±»å’Œè¡¨ä¸­ä½¿ç”¨arcpy">å­¦ä¹ æ—¥å¿—8 åœ¨è¦ç´ ç±»å’Œè¡¨ä¸­ä½¿ç”¨Arcpy</span></h3><ul>
<li>ä½¿ç”¨SearchCursoræ£€ç´¢è¦ç´ ç±»ä¸­çš„è¦ç´ </li>
<li>ä½¿ç”¨å‡ ä½•ä»¤ç‰Œå‚æ•°çš„SearchCursor()</li>
<li>ä½¿ç”¨InsertCursor(),ä»æ–‡æœ¬æ–‡ä»¶è¯»å–æ•°æ®ç»™è¦ç´ æ·»åŠ è®°å½•</li>
<li>UpdateCursor()åˆ›å»ºå¯¹è±¡,updateRow()æ–¹æ³•æ›´æ–°è¡¨ä¸­æ¯ä¸€è¡Œ</li>
<li>UpdateCursor()å¯¹è±¡çš„deleteRow(),åˆ é™¤ç‰¹å®šè®°å½•</li>
<li>åœ¨ç¼–è¾‘ä¼šè¯ä¸­æ’å…¥å’Œæ›´æ–°è¡Œ</li>
<li>è¯»å–è¦ç´ ç±»ä¸­çš„å‡ ä½•ä¿¡æ¯</li>
<li>ä½¿ç”¨Walk()éå†ç›®å½•</li>
</ul>
<h3><span id="å­¦ä¹ æ—¥å¿—9-è·å–gisæ•°æ®åˆ—è¡¨å’Œæè¿°">å­¦ä¹ æ—¥å¿—9 è·å–GISæ•°æ®åˆ—è¡¨å’Œæè¿°</span></h3><ul>
<li>è·å–å·¥ä½œç©ºé—´è¦ç´ ç±»åˆ—è¡¨</li>
<li>è·å–è¦ç´ ä¸­çš„å­—æ®µåˆ—è¡¨</li>
<li>ä½¿ç”¨Describe()å‡½æ•°è¿”å›è¦ç´ ç±»çš„æè¿°æ€§ä¿¡æ¯</li>
<li>å®ç”¨Describe()å‡½æ•°è¿”å›æ …æ ¼å›¾åƒçš„æè¿°æ€§ä¿¡æ¯</li>
</ul>
<h3><span id="å­¦ä¹ æ—¥å¿—10-ä½¿ç”¨add-inå®šåˆ¶arcgisç•Œé¢">å­¦ä¹ æ—¥å¿—10 ä½¿ç”¨add-inå®šåˆ¶Arcgisç•Œé¢</span></h3><blockquote>
<p>Python Add-in Wizard ä¸‹è½½,è§£å‹è¿è¡Œ/bin/..exe</p>
</blockquote>
<blockquote>
<p><a href="http://www.arcgis.com/home/item.html?id=5f3aefe77f6b4f61ad3e4c62f30bff3b" target="_blank" rel="noopener external nofollow noreferrer">http://www.arcgis.com/home/item.html?id=5f3aefe77f6b4f61ad3e4c62f30bff3b</a></p>
</blockquote>
<blockquote>
<p>Python Add-in Wizardæ˜¯ä¸€ä¸ªå¯è§†åŒ–ç•Œé¢å·¥å…·,ç”¨äºåˆ›å»ºæ¡Œé¢ArcgisåŠ è½½é¡¹</p>
</blockquote>
<ul>
<li>åˆ›å»ºæŒ‰é’®åŠ è½½é¡¹å’Œä½¿ç”¨PythonåŠ è½½é¡¹</li>
<li>å®‰è£…æµ‹è¯•åŠ è½½é¡¹</li>
<li>åˆ›å»ºå·¥å…·åŠ è½½é¡¹</li>
</ul>
<h3><span id="å­¦ä¹ æ—¥å¿—11-å¼‚å¸¸è¯†åˆ«å’Œé”™è¯¯å¤„ç†">å­¦ä¹ æ—¥å¿—11 å¼‚å¸¸è¯†åˆ«å’Œé”™è¯¯å¤„ç†</span></h3><ul>
<li>Pythonå¼‚å¸¸å¤„ç†ç»“æ„(try/except/else/finally)</li>
<li>ä½¿ç”¨arcpy.GetMessages()æ•è·è¯¦ç»†çš„æ¶ˆæ¯ä¿¡æ¯</li>
<li>æ ¹æ®ä¸¥é‡æ€§çº§åˆ«ç­›é€‰æ¶ˆæ¯</li>
<li>æµ‹è¯•å’Œå“åº”ç‰¹å®šé”™è¯¯æ¶ˆæ¯</li>
</ul>
<h3><span id="å­¦ä¹ æ—¥å¿—12-ä½¿ç”¨pythonå®ç°arcgisçš„é«˜çº§åŠŸèƒ½">å­¦ä¹ æ—¥å¿—12 ä½¿ç”¨Pythonå®ç°ArcGisçš„é«˜çº§åŠŸèƒ½</span></h3><ul>
<li>ä½¿ç”¨Pythonæ„å»ºHTTPå“åº”è¯·æ±‚å¹¶è§£æå“åº”</li>
<li>ä½¿ç”¨ArcGis REST APIå’ŒPythonè·å–å›¾å±‚ä¿¡æ¯</li>
<li>ä½¿ç”¨ArcGis REST APIå’ŒPythonå¯¼å‡ºåœ°å›¾</li>
<li>ä½¿ç”¨ArcGis REST APIå’ŒPythonæŸ¥è¯¢åœ°å›¾æœåŠ¡</li>
<li>ä½¿ç”¨Esri World Geocoding Serviceè¿›è¡Œåœ°ç†ç¼–ç </li>
<li>ä½¿ç”¨FieldMappingså’ŒFieldMap,å®ç°å‡ ä¸ªè¦ç´ ç±»çš„åˆå¹¶(Merge)</li>
<li>ä½¿ç”¨ValueTableè®²å¤šå€¼è¾“å…¥åˆ°å·¥å…·ä¸­ä½œä¸ºå‚æ•°</li>
</ul>
<h3><span id="å­¦ä¹ æ—¥å¿—é™„å½•-gisç¨‹åºå‘˜ä¸å¯ä¸çŸ¥çš„pythonåŠŸèƒ½">å­¦ä¹ æ—¥å¿—(é™„å½•) GISç¨‹åºå‘˜ä¸å¯ä¸çŸ¥çš„PythonåŠŸèƒ½</span></h3><ul>
<li>å‘é€å¸¦é™„ä»¶ç”µå­é‚®ä»¶</li>
<li>è¿æ¥FTPæœåŠ¡å¹¶æ“ä½œæ–‡ä»¶</li>
<li>ä½¿ç”¨zipfileæ¨¡å—å‹ç¼©æ–‡ä»¶</li>
<li>è¯»å–xmlæ–‡æ¡£</li>
</ul>
]]></content>
      <tags>
        <tag>pythonGIS</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptåº”ç”¨å®ä¾‹-è‡ªåŠ¨ã€æ‰‹åŠ¨æ’­æ”¾å›¾ç‰‡</title>
    <url>/2019-08-05-zi-dong-shou-dong-bo-fang-tu-pian-javascript.html</url>
    <content><![CDATA[<h2><span id="javascriptåº”ç”¨å®ä¾‹1">JavaScriptåº”ç”¨å®ä¾‹(1)</span></h2><p>å‚è€ƒï¼š<a href="http://www.runoob.com/js/js-examples.html" target="_blank" rel="noopener external nofollow noreferrer">èœé¸Ÿæ•™ç¨‹</a></p>
<p>ç¯å¢ƒ:</p>
<ul>
<li>html</li>
<li>ä»£ç ä¸ºä¸»è¦éƒ¨åˆ†</li>
</ul>
<p>å†…å®¹åŒ…æ‹¬:</p>
<ul>
<li>è‡ªåŠ¨ã€æ‰‹åŠ¨æ’­æ”¾å›¾ç‰‡</li>
</ul>
<a id="more"></a>

<h3><span id="1-è‡ªåŠ¨-æ‰‹åŠ¨æ’­æ”¾å›¾ç‰‡">1. è‡ªåŠ¨ã€æ‰‹åŠ¨æ’­æ”¾å›¾ç‰‡</span></h3><ul>
<li>html</li>
<li>CSS</li>
<li>javascript</li>
<li>å­˜æ”¾ä¸‰å¼ å›¾ç‰‡</li>
<li>åˆå§‹çŠ¶æ€å›¾ç‰‡ä¸æ˜¾ç¤º</li>
<li>è°ƒç”¨JSæ˜¾ç¤ºå›¾ç‰‡</li>
<li>æ¯éš”4så›¾ç‰‡è‡ªåŠ¨æ»‘åŠ¨</li>
<li>å¯æ‰‹åŠ¨ç‚¹å‡»åˆ‡æ¢å›¾ç‰‡</li>
</ul>
<h4><span id="1-htmlé¡µé¢">1. htmlé¡µé¢</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot; &#x2F;&gt;</span><br><span class="line">    &lt;title&gt;JavaScriptæµ‹è¯•&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;link type&#x3D;&quot;text&#x2F;css&quot; rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;slidePic.css&quot;&gt;</span><br><span class="line">    &lt;script src&#x3D;&quot;slidePic.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;    </span><br><span class="line">    &lt;div class&#x3D;&quot;slideshow-container&quot;&gt;</span><br><span class="line">        &lt;!-- ä¸‰ä¸ª&lt;div&gt;&lt;&#x2F;div&gt;å­˜æ”¾ä¸‰å¼ å›¾ç‰‡ --&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div id&#x3D;&quot;pic&quot; class&#x3D;&quot;mySlides fade&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;numbertext&quot;&gt;1 &#x2F; 3&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;img src&#x3D;&quot;&#x2F;php&#x2F;images&#x2F;1.png&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;text&quot;&gt;æ‰‹ æœº ç«¯ app&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      </span><br><span class="line">        &lt;div id&#x3D;&quot;pic&quot; class&#x3D;&quot;mySlides fade&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;numbertext&quot;&gt;2 &#x2F; 3&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;img src&#x3D;&quot;&#x2F;php&#x2F;images&#x2F;2.png&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;text&quot;&gt;èˆª æ‹ ç³» ç»Ÿ&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      </span><br><span class="line">        &lt;div id&#x3D;&quot;pic&quot; class&#x3D;&quot;mySlides fade&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;numbertext&quot;&gt;3 &#x2F; 3&lt;&#x2F;div&gt;</span><br><span class="line">          &lt;img src&#x3D;&quot;&#x2F;php&#x2F;images&#x2F;3.png&quot;&gt;</span><br><span class="line">          &lt;div class&#x3D;&quot;text&quot;&gt;èˆª çº¿ è®¾ ç½®&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      </span><br><span class="line">        &lt;!-- å›¾ç‰‡å·¦å³æ»‘åŠ¨é“¾æ¥ --&gt;</span><br><span class="line">        &lt;a class&#x3D;&quot;prev&quot; onclick&#x3D;&quot;plusSlides(-1)&quot;&gt;â®&lt;&#x2F;a&gt;</span><br><span class="line">        &lt;a class&#x3D;&quot;next&quot; onclick&#x3D;&quot;plusSlides(1)&quot;&gt;â¯&lt;&#x2F;a&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;br&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;!-- åº•éƒ¨ç¬¦å· --&gt;</span><br><span class="line">      &lt;div style&#x3D;&quot;text-align:center&quot;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;dot&quot; onclick&#x3D;&quot;currentSlide(1)&quot;&gt;&lt;&#x2F;span&gt; </span><br><span class="line">        &lt;span class&#x3D;&quot;dot&quot; onclick&#x3D;&quot;currentSlide(2)&quot;&gt;&lt;&#x2F;span&gt; </span><br><span class="line">        &lt;span class&#x3D;&quot;dot&quot; onclick&#x3D;&quot;currentSlide(3)&quot;&gt;&lt;&#x2F;span&gt; </span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;script&gt;auto_showSlides();&lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h4><span id="2-cssé¡µé¢slidepiccss">2. CSSé¡µé¢ï¼›slidePic.css</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">* &#123;box-sizing:border-box&#125;</span><br><span class="line">body &#123;font-family: Verdana,sans-serif;&#125;</span><br><span class="line">.mySlides &#123;display:none&#125;</span><br><span class="line">&#x2F;* å¹»ç¯ç‰‡å®¹å™¨ *&#x2F;</span><br><span class="line">.slideshow-container &#123;</span><br><span class="line">  max-width: 800px;</span><br><span class="line">  max-height: 400px;</span><br><span class="line">  position: relative;</span><br><span class="line">  margin: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* å›¾ç‰‡å¤§å° *&#x2F;</span><br><span class="line">#pic&#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">    width: 800px;</span><br><span class="line">    height: 400px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">img&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* ä¸‹ä¸€å¼  &amp; ä¸Šä¸€å¼  æŒ‰é’® *&#x2F;</span><br><span class="line">.prev, .next &#123;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 50%;</span><br><span class="line">  width: auto;</span><br><span class="line">  margin-top: -22px;</span><br><span class="line">  padding: 16px;</span><br><span class="line">  color: black;</span><br><span class="line">  font-weight: bold;</span><br><span class="line">  font-size: 18px;</span><br><span class="line">  transition: 0.6s ease;</span><br><span class="line">  border-radius: 0 3px 3px 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* å®šä½ &quot;ä¸‹ä¸€å¼ &quot; æŒ‰é’®é å³ *&#x2F;</span><br><span class="line">.next &#123;</span><br><span class="line">  right: 0;</span><br><span class="line">  border-radius: 3px 0 0 3px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* On hover, add a black background color with a little bit see-through *&#x2F;</span><br><span class="line">.prev:hover, .next:hover &#123;</span><br><span class="line">  background-color: rgba(0,0,0,0.8);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* æ ‡é¢˜æ–‡æœ¬ *&#x2F;</span><br><span class="line">.text &#123;</span><br><span class="line">  color: blue;</span><br><span class="line">  font-size: 1.25em;</span><br><span class="line">  font-weight: bold;</span><br><span class="line">  padding: 8px 12px;</span><br><span class="line">  position: absolute;</span><br><span class="line">  bottom: 8px;</span><br><span class="line">  width: 100%;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* æ•°å­—æ–‡æœ¬ (1&#x2F;3 ç­‰) *&#x2F;</span><br><span class="line">.numbertext &#123;</span><br><span class="line">  color: #302c2c;</span><br><span class="line">  font-size: 1em;</span><br><span class="line">  padding: 8px 12px;</span><br><span class="line">  position: absolute;</span><br><span class="line">  top: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* æ ‡è®°ç¬¦å· *&#x2F;</span><br><span class="line">.dot &#123;</span><br><span class="line">  cursor:pointer;</span><br><span class="line">  height: 13px;</span><br><span class="line">  width: 13px;</span><br><span class="line">  margin: 0 2px;</span><br><span class="line">  background-color: #bbb;</span><br><span class="line">  border-radius: 50%;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  transition: background-color 0.6s ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.active, .dot:hover &#123;</span><br><span class="line">  background-color: #717171;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* æ·¡å‡ºåŠ¨ç”» *&#x2F;</span><br><span class="line">.fade &#123;</span><br><span class="line">  -webkit-animation-name: fade;</span><br><span class="line">  -webkit-animation-duration: 1.5s;</span><br><span class="line">  animation-name: fade;</span><br><span class="line">  animation-duration: 1.5s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@-webkit-keyframes fade &#123;</span><br><span class="line">  from &#123;opacity: .4&#125; </span><br><span class="line">  to &#123;opacity: 1&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes fade &#123;</span><br><span class="line">  from &#123;opacity: .4&#125; </span><br><span class="line">  to &#123;opacity: 1&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4><span id="3-js-slidepicjs">3. JS; slidePic.js</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var slideIndex &#x3D; 1; &#x2F;&#x2F; ç´¢å¼•é¡µç </span><br><span class="line">showSlides(slideIndex);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ§åˆ¶å·¦å³ç¿»é¡µ</span><br><span class="line">function plusSlides(n) &#123;</span><br><span class="line">  showSlides(slideIndex +&#x3D; n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ§åˆ¶ç‚¹ç¿»é¡µ</span><br><span class="line">function currentSlide(n) &#123;</span><br><span class="line">  showSlides(slideIndex &#x3D; n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ‰‹åŠ¨ç¿»é¡µå‡½æ•°</span><br><span class="line">function showSlides(n) &#123;</span><br><span class="line">  var i;</span><br><span class="line">  var slides &#x3D; document.getElementsByClassName(&quot;mySlides&quot;);</span><br><span class="line">  var dots &#x3D; document.getElementsByClassName(&quot;dot&quot;);</span><br><span class="line">  if (n &gt; slides.length) &#123;slideIndex &#x3D; 1&#125; </span><br><span class="line">  if (n &lt; 1) &#123;slideIndex &#x3D; slides.length&#125;</span><br><span class="line">  for (i &#x3D; 0; i &lt; slides.length; i++) &#123;</span><br><span class="line">      slides[i].style.display &#x3D; &quot;none&quot;; </span><br><span class="line">  &#125;</span><br><span class="line">  for (i &#x3D; 0; i &lt; dots.length; i++) &#123;</span><br><span class="line">      dots[i].className &#x3D; dots[i].className.replace(&quot; active&quot;, &quot;&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  slides[slideIndex-1].style.display &#x3D; &quot;block&quot;; </span><br><span class="line">  dots[slideIndex-1].className +&#x3D; &quot; active&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è‡ªåŠ¨ç¿»é¡µå‡½æ•°, åœ¨htmlé¡µé¢è°ƒç”¨äº†</span><br><span class="line">function auto_showSlides() &#123;</span><br><span class="line">  var i;</span><br><span class="line">  var slides &#x3D; document.getElementsByClassName(&quot;mySlides&quot;);</span><br><span class="line">  var dots &#x3D; document.getElementsByClassName(&quot;dot&quot;);</span><br><span class="line">  for (i &#x3D; 0; i &lt; slides.length; i++) &#123;</span><br><span class="line">     slides[i].style.display &#x3D; &quot;none&quot;;  </span><br><span class="line">  &#125;</span><br><span class="line">  slideIndex++;</span><br><span class="line">  if (slideIndex &gt; slides.length) &#123;slideIndex &#x3D; 1&#125;    </span><br><span class="line">  for (i &#x3D; 0; i &lt; dots.length; i++) &#123;</span><br><span class="line">      dots[i].className &#x3D; dots[i].className.replace(&quot; active&quot;, &quot;&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  slides[slideIndex-1].style.display &#x3D; &quot;block&quot;;  </span><br><span class="line">  dots[slideIndex-1].className +&#x3D; &quot; active&quot;;</span><br><span class="line">  setTimeout(auto_showSlides, 4000); &#x2F;&#x2F; åˆ‡æ¢æ—¶é—´ä¸º 4 ç§’</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptå­¦ä¹ å®ä¾‹(3)</title>
    <url>/2019-08-05-javascript-xue-xi-shi-li-3.html</url>
    <content><![CDATA[<h2><span id="é«˜çº§javascriptå®ä¾‹">é«˜çº§JavaScriptå®ä¾‹</span></h2><p>å‚è€ƒï¼š<a href="http://www.runoob.com/js/js-examples.html" target="_blank" rel="noopener external nofollow noreferrer">èœé¸Ÿæ•™ç¨‹</a></p>
<p>ç¯å¢ƒ:</p>
<ul>
<li>html</li>
<li>ä»£ç ä¸ºä¸»è¦éƒ¨åˆ†</li>
</ul>
<p>å†…å®¹åŒ…æ‹¬:</p>
<ul>
<li>Cookieä¿å­˜ç”¨æˆ·ä¿¡æ¯</li>
<li>ç®€å•çš„è®¡æ—¶</li>
<li>æ— é™å¾ªç¯çš„è®¡æ—¶</li>
<li>åˆ›å»ºç”¨äºå¯¹è±¡çš„æ¨¡ç‰ˆ</li>
</ul>
<a id="more"></a>

<h3><span id="1-cookieä¿å­˜ç”¨æˆ·ä¿¡æ¯">1.  Cookieä¿å­˜ç”¨æˆ·ä¿¡æ¯</span></h3><ul>
<li>é¦–æ¬¡åˆ·æ–°ç½‘é¡µæ—¶,prompt()æç¤ºæ¡†è¾“å…¥åå­—</li>
<li>ä¹‹ååˆ·æ–°ç½‘é¡µ, alert()å¼¹å‡ºæ¬¢è¿å­—æ ·</li>
<li>apacheæœ¬åœ°ç¯å¢ƒ</li>
<li><a href="http://www.runoob.com/js/js-cookies.html" target="_blank" rel="noopener external nofollow noreferrer">å‚è€ƒ</a></li>
<li>Cookieæ ¼å¼: document.cookie=â€username=John Doe; expires=Thu, 18 Dec 2043 12:00:00 GMTâ€;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot; &#x2F;&gt;</span><br><span class="line">    &lt;title&gt;JavaScriptæµ‹è¯•&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1&quot;&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">                &#x2F;&#x2F; Cookieä¿å­˜ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">                &#x2F;&#x2F; è®¾ç½®Cookie</span><br><span class="line">                function setcookie(cname, cvalue, exdays)&#123;</span><br><span class="line">                   var d &#x3D; new Date(); &#x2F;&#x2F; å®šä¹‰æ—¶é—´å˜é‡</span><br><span class="line">                    d.setTime(d.getTime() + (exdays*24*60*60*1000));</span><br><span class="line">                    var expires &#x3D; &quot;expires&#x3D;&quot; + d.toGMTString();</span><br><span class="line">                    document.cookie &#x3D; cname + &quot;&#x3D;&quot; + cvalue + &quot;; &quot; + expires;</span><br><span class="line">    </span><br><span class="line">                &#125;</span><br><span class="line">                &#x2F;&#x2F; è·å–Cookie</span><br><span class="line">                function getcookie(cname)&#123;</span><br><span class="line">                    var name &#x3D; cname + &quot;&#x3D;&quot;; &#x2F;&#x2F; name &#x3D; &quot;username&#x3D;&quot;</span><br><span class="line">                    var ca &#x3D; document.cookie.split(&quot;;&quot;) &#x2F;&#x2F; åˆ†å‰²cookie</span><br><span class="line">                    for(var i&#x3D;0; i&lt;ca.length; i++)&#123; &#x2F;&#x2F; éå†åˆ†å‰²çš„æ•°ç»„</span><br><span class="line">                        var c &#x3D; ca[i].trim(); &#x2F;&#x2F; å»é™¤å‰åç©ºæ ¼</span><br><span class="line">                        if(c.indexOf(name)&#x3D;&#x3D;0)&#123; &#x2F;&#x2F; å¦‚æœå­—ä¸²nameç´¢å¼•ä½ç½®ä¸º0</span><br><span class="line">                            return c.substring(name.length, c.length); &#x2F;&#x2F; è¿”å›Cookieçš„usernameçš„å€¼</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    return &quot;&quot;; &#x2F;&#x2F; æ²¡æœ‰Cookieè¿”å›ç©º</span><br><span class="line">                &#125;</span><br><span class="line">                &#x2F;&#x2F; æ£€æŸ¥Cookie</span><br><span class="line">                function checkcookie()&#123;</span><br><span class="line">                    var user &#x3D; getcookie(&quot;username&quot;); &#x2F;&#x2F; userå­˜å‚¨Cookieçš„usernameå€¼</span><br><span class="line">                    if(user !&#x3D; &quot;&quot;)&#123; &#x2F;&#x2F; å­˜åœ¨Cookie</span><br><span class="line">                        alert(&quot;æ¬¢è¿&quot; + user + &quot;å†æ¬¡è®¿é—®&quot;);</span><br><span class="line">                    &#125;else&#123; &#x2F;&#x2F; ä¸å­˜åœ¨cookie</span><br><span class="line">                        user &#x3D; prompt(&quot;ä½ çš„åå­—:&quot;, &quot;&quot;); &#x2F;&#x2F; æç¤ºæ¡†è¾“å…¥åå­—</span><br><span class="line">                        if(user !&#x3D; &quot;&quot; &amp;&amp; user !&#x3D; null)&#123;</span><br><span class="line">                            setcookie(&quot;username&quot;, user, 30); &#x2F;&#x2F; è®¾ç½®ä¿å­˜30å¤©çš„cookie</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body onload&#x3D;&quot;checkcookie()&quot;&gt;    </span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="2-ç®€å•çš„è®¡æ—¶">2. ç®€å•çš„è®¡æ—¶</span></h3><ul>
<li>setTimeout(para , time)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;    </span><br><span class="line">    &lt;button type&#x3D;&quot;button&quot; onclick&#x3D;&quot;fun()&quot;&gt;ç‚¹å‡»2ç§’åæ˜¾ç¤º&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        function fun()&#123;</span><br><span class="line">            setTimeout(function()&#123;alert(&quot;2ç§’è¿‡å»äº†&quot;)&#125;, 2000);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="3-æ— é™å¾ªç¯çš„è®¡æ—¶">3. æ— é™å¾ªç¯çš„è®¡æ—¶</span></h3><ul>
<li>setTimeout(â€œtimer()â€, 1000)</li>
<li>clearTimeout(t)æ¸…é™¤è®¡æ—¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;    </span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var timer_on &#x3D; 0; &#x2F;&#x2F; è®¡æ—¶å™¨çŠ¶æ€</span><br><span class="line">        var t &#x3D; 0; &#x2F;&#x2F; åˆå§‹å€¼</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; è®¡æ—¶å™¨å‡½æ•°</span><br><span class="line">        function timer()&#123;</span><br><span class="line">            t &#x3D; t + 1;</span><br><span class="line">            document.getElementById(&quot;time_text&quot;).value&#x3D;t;</span><br><span class="line">            setTimeout(&quot;timer()&quot;, 1000);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; åˆ¤æ–­è®¡æ—¶å™¨çŠ¶æ€å‡½æ•°</span><br><span class="line">        function timer_status()&#123;</span><br><span class="line">            if(!timer_on)&#123;</span><br><span class="line">                timer_on &#x3D; 1;</span><br><span class="line">                timer();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">    &lt;input type&#x3D;&quot;button&quot; value&#x3D;&quot;ç‚¹å‡»è®¡æ—¶å¼€å§‹&quot; onclick&#x3D;&quot;timer_status()&quot; &#x2F;&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;time_text&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="4-åˆ›å»ºç”¨äºå¯¹è±¡çš„æ¨¡ç‰ˆ">4. åˆ›å»ºç”¨äºå¯¹è±¡çš„æ¨¡ç‰ˆ</span></h3><ul>
<li>å¯¹è±¡:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">person &#123;</span><br><span class="line">    firstname:&quot;xx&quot;,</span><br><span class="line">    lastname:&quot;yy&quot;,</span><br><span class="line">    age:16,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;    </span><br><span class="line">    </span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        function person(firstname, lastname, age)&#123;</span><br><span class="line">            this.firstname &#x3D; firstname;</span><br><span class="line">            this.lastname &#x3D; lastname;</span><br><span class="line">            this.age &#x3D; age;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        the_person &#x3D; new person(&quot;Aye&quot;, &quot;T_T&quot;, &quot;17&quot;);</span><br><span class="line">        document.write(the_person.firstname + &quot; is&quot; + the_person.age)</span><br><span class="line"></span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>CSSå›¾ç‰‡å±…ä¸­</title>
    <url>/2019-08-05-tu-pian-ju-zhong-css.html</url>
    <content><![CDATA[<h2><span id="css-å›¾ç‰‡å±…ä¸­æ–¹å¼">CSS-å›¾ç‰‡å±…ä¸­æ–¹å¼</span></h2><h3><span id="html">html</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;pic&quot;&gt;</span><br><span class="line">    &lt;img src&#x3D;&quot;&#x2F;php&#x2F;images&#x2F;1.png&quot;&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ§åˆ¶çˆ¶çº§å…ƒç´ é«˜ã€å®½;</li>
<li>è®¾ç½®imgå æ»¡çˆ¶çº§å…ƒç´ </li>
</ul>
<a id="more"></a>

<h3><span id="css">css</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#pic&#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">    width: 800px;</span><br><span class="line">    height: 400px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">img&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>CSS</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptåº”ç”¨å®ä¾‹-ä¸‹æ‹‰æ¡†</title>
    <url>/2019-08-05-xia-la-kuang-javascript.html</url>
    <content><![CDATA[<h2><span id="javascriptåº”ç”¨å®ä¾‹2-ä¸‹æ‹‰èœå•">JavaScriptåº”ç”¨å®ä¾‹(2)-ä¸‹æ‹‰èœå•</span></h2><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/u014175572/article/details/50325929" target="_blank" rel="noopener external nofollow noreferrer">jså®ç°ç®€å•çš„ä¸‹æ‹‰èœå•</a></p>
<ul>
<li>html</li>
<li>css</li>
<li>javascript</li>
</ul>
<p>æ•ˆæœ:</p>
<p><img src="/assets/images/blog/subMenu.png" alt="image"></p>
<a id="more"></a>

<h3><span id="html">html</span></h3><ul>
<li>ä½¿ç”¨ç»“æ„</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li&gt;&lt;a&gt;&lt;&#x2F;a&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li&gt;&lt;a&gt;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line">            &lt;li&gt;&lt;a&gt;&lt;&#x2F;a&gt;&lt;li&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">    </span><br><span class="line">        &lt;li&gt;&lt;a&gt;&lt;&#x2F;a&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li&gt;&lt;a&gt;&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line">            &lt;li&gt;&lt;a&gt;&lt;&#x2F;a&gt;&lt;li&gt;</span><br><span class="line">        &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;&#x2F;li&gt;</span><br><span class="line">&lt;&#x2F;ul&gt;</span><br></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  	&lt;meta charset&#x3D;&quot;utf-8&quot; &#x2F;&gt;</span><br><span class="line">  	&lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1&quot;&gt;</span><br><span class="line">  </span><br><span class="line">  	&lt;link type&#x3D;&quot;text&#x2F;css&quot; rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;xiala.css&quot;&gt; </span><br><span class="line">	&lt;script src&#x3D;&quot;xiala.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;nav&quot;&gt;</span><br><span class="line">		&lt;ul&gt;</span><br><span class="line">			&lt;li&gt;</span><br><span class="line">				&lt;a href&#x3D;&quot;#&quot;&gt;ä¸€éƒ¨åˆ†&lt;&#x2F;a&gt;</span><br><span class="line">			&lt;&#x2F;li&gt;</span><br><span class="line"></span><br><span class="line">			&lt;li onmouseover&#x3D;&quot;displaySubMenu(this)&quot; onmouseout&#x3D;&quot;hideSubMenu(this)&quot;&gt;</span><br><span class="line">				&lt;a href&#x3D;&quot;#&quot;&gt;äºŒéƒ¨åˆ†&lt;&#x2F;a&gt;</span><br><span class="line">				&lt;ul&gt;</span><br><span class="line">					&lt;li&gt;&lt;a href&#x3D;&quot;#&quot;&gt;2.1éƒ¨åˆ†&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line">					&lt;li&gt;&lt;a href&#x3D;&quot;#&quot;&gt;2.2éƒ¨åˆ†&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line">				&lt;&#x2F;ul&gt;</span><br><span class="line">			&lt;&#x2F;li&gt;</span><br><span class="line"></span><br><span class="line">			&lt;li onmouseover&#x3D;&quot;displaySubMenu(this)&quot; onmouseout&#x3D;&quot;hideSubMenu(this)&quot;&gt;</span><br><span class="line">				&lt;a href&#x3D;&quot;#&quot;&gt;ä¸‰éƒ¨åˆ†&lt;&#x2F;a&gt;</span><br><span class="line">				&lt;ul&gt;</span><br><span class="line">					&lt;li&gt;&lt;a href&#x3D;&quot;#&quot;&gt;3.1éƒ¨åˆ†&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line">					&lt;li&gt;&lt;a href&#x3D;&quot;#&quot;&gt;3.2éƒ¨åˆ†&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;</span><br><span class="line">				&lt;&#x2F;ul&gt;</span><br><span class="line">			&lt;&#x2F;li&gt;</span><br><span class="line">		&lt;&#x2F;ul&gt;</span><br><span class="line"></span><br><span class="line">	&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="css">css</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">*&#123; margin:0px; padding:0px;&#125;</span><br><span class="line">body&#123;</span><br><span class="line">    font-family: &#39;Gill Sans&#39;, &#39;Gill Sans MT&#39;, Calibri, &#39;Trebuchet MS&#39;, sans-serif;</span><br><span class="line">    font-size: 1em;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#nav&#123;</span><br><span class="line">    width: 600px;</span><br><span class="line">    height: 40px;</span><br><span class="line">    background-color: blanchedalmond;</span><br><span class="line">    text-align: center;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* åˆ—è¡¨å‰çš„ç‚¹æ¶ˆå¤± *&#x2F;</span><br><span class="line">ul&#123;</span><br><span class="line">    list-style: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ul li&#123;</span><br><span class="line">    float: left;</span><br><span class="line">    line-height: 40px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    width: 100px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;* aå»ä¸‹åˆ’çº¿ *&#x2F;</span><br><span class="line">a&#123;</span><br><span class="line">    text-decoration: none;</span><br><span class="line">    color: black;</span><br><span class="line">    display: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a:hover&#123;</span><br><span class="line">    color: aqua;</span><br><span class="line">    background-color: azure;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ul li ul li&#123;</span><br><span class="line">    float: none;</span><br><span class="line">    text-align: center;</span><br><span class="line">    background-color: bisque;</span><br><span class="line">    margin: 2px 0;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ul li ul&#123;</span><br><span class="line">    &#x2F;* ä¸‹æ‹‰éƒ¨åˆ†æ¶ˆå¤± *&#x2F;</span><br><span class="line">    display: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="3-js">3. js</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function displaySubMenu(li)&#123;</span><br><span class="line">    var subMenu &#x3D; li.getElementsByTagName(&quot;ul&quot;)[0];</span><br><span class="line">    subMenu.style.display &#x3D; &quot;block&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function hideSubMenu(li)&#123;</span><br><span class="line">    var subMenu &#x3D; li.getElementsByTagName(&quot;ul&quot;)[0];</span><br><span class="line">    subMenu.style.display &#x3D; &quot;none&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptå­¦ä¹ å®ä¾‹(2)</title>
    <url>/2019-08-04-javascript-xue-xi-shi-li-2.html</url>
    <content><![CDATA[<h2><span id="javascriptå­¦ä¹ å®ä¾‹2">JavaScriptå­¦ä¹ å®ä¾‹(2)</span></h2><p>å‚è€ƒï¼š<a href="http://www.runoob.com/" target="_blank" rel="noopener external nofollow noreferrer">èœé¸Ÿæ•™ç¨‹</a></p>
<p>ç¯å¢ƒ:</p>
<ul>
<li>html</li>
<li>ä»£ç ä¸ºä¸»è¦éƒ¨åˆ†</li>
</ul>
<p>å†…å®¹åŒ…æ‹¬:</p>
<ul>
<li>JSå‡½æ•°ã€é—­åŒ…,è®¡æ•°å™¨</li>
<li>for (â€¦ in â€¦){}éå†</li>
<li>onmouseäº‹ä»¶</li>
<li>try{}catch(err){}æ•è·å¼‚å¸¸</li>
</ul>
<a id="more"></a>

<h3><span id="1-jså‡½æ•°-é—­åŒ…">1. JSå‡½æ•°ã€é—­åŒ…</span></h3><ul>
<li>ç‚¹å‡»æŒ‰é’®ï¼Œè°ƒç”¨è®¡æ•°å™¨</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button type&#x3D;&quot;button&quot; onclick&#x3D;&quot;fun()&quot;&gt;ç‚¹å‡»è®¡æ•°&lt;&#x2F;button&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;p id&#x3D;&quot;text&quot;&gt;0&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var add &#x3D; (function()&#123;</span><br><span class="line">            var counter &#x3D; 0;</span><br><span class="line">            return function () &#123;return counter +&#x3D; 1;&#125;</span><br><span class="line">        &#125;)();</span><br><span class="line"></span><br><span class="line">        function fun()&#123;</span><br><span class="line">            document.getElementById(&quot;text&quot;).innerHTML&#x3D;add();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="2-for-in-éå†">2. for (â€¦ in â€¦){}éå†</span></h3><ul>
<li>éå†ä¸€ä¸ªå¯¹è±¡</li>
<li>è¾“å‡ºå±æ€§</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button type&#x3D;&quot;button&quot; onclick&#x3D;&quot;fun()&quot;&gt;ç‚¹å‡»è¿è¡Œ&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;p id&#x3D;&quot;text&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var txt &#x3D; &quot;&quot;;</span><br><span class="line">        var person &#x3D; &#123;</span><br><span class="line">            fname:&quot;C&quot;,</span><br><span class="line">            lname:&quot;xk&quot;,</span><br><span class="line">            like:&quot;sing, jump, rap and basketaball&quot;,</span><br><span class="line">        &#125;;</span><br><span class="line">        &#x2F;&#x2F; for (... in ...)éå†</span><br><span class="line">        function fun () &#123;</span><br><span class="line">            for (x in person) &#123;</span><br><span class="line">                txt &#x3D; txt + person[x];</span><br><span class="line">            &#125;</span><br><span class="line">            document.getElementById(&quot;text&quot;).innerHTML&#x3D;txt;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">    </span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="3-onmouseäº‹ä»¶">3. onmouseäº‹ä»¶</span></h3><ul>
<li>onmouseover()</li>
<li>onmouseout()</li>
<li>â€¦</li>
<li>é¼ æ ‡ç§»åŠ¨åˆ°æ­¤åŒºåŸŸå’Œç§»å‡ºæ­¤åŒºåŸŸçš„ä¸åŒæ˜¾ç¤º</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot; &#x2F;&gt;</span><br><span class="line">    &lt;title&gt;JavaScriptæµ‹è¯•&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;style&gt;</span><br><span class="line">    #block1&#123;</span><br><span class="line">        width: 50px;</span><br><span class="line">        height: 50px;</span><br><span class="line">        background-color: green;</span><br><span class="line">        color: aliceblue;</span><br><span class="line">        text-align: center;</span><br><span class="line">    &#125;</span><br><span class="line">    #block2&#123;</span><br><span class="line">        </span><br><span class="line">        width: 50px;</span><br><span class="line">        height: 50px;</span><br><span class="line">        background-color: aqua;</span><br><span class="line">        color: black;</span><br><span class="line">        text-align: center;</span><br><span class="line">    &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">    </span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;block1&quot; onmouseover&#x3D;&quot;Mover(this)&quot; onmouseout&#x3D;&quot;Mout(this)&quot;&gt;åŒºåŸŸ1&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">            function Mover (Obj) &#123;</span><br><span class="line">                Obj.innerHTML&#x3D;&quot;é¼ æ ‡åœ¨ä¸Š&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            function Mout (Obj) &#123;</span><br><span class="line">                Obj.innerHTML&#x3D;&quot;é¼ æ ‡ä¸åœ¨ä¸Š&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">    </span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="4-trycatcherræ•è·å¼‚å¸¸">4. try{}catch(err){}æ•è·å¼‚å¸¸</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button id&#x3D;&quot;text&quot; onclick&#x3D;&quot;fun()&quot;&gt;ç‚¹å‡»æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">            function fun()&#123;</span><br><span class="line">                try&#123;</span><br><span class="line">                    allert(&quot;é”™è¯¯è¯­å¥&quot;);</span><br><span class="line">                &#125;catch(err)&#123;</span><br><span class="line">                    alert(err.message);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">    </span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScriptå­¦ä¹ å®ä¾‹(1)</title>
    <url>/2019-08-03-javascript-xue-xi-shi-li-1.html</url>
    <content><![CDATA[<h2><span id="javascriptå­¦ä¹ å®ä¾‹1">JavaScriptå­¦ä¹ å®ä¾‹(1)</span></h2><p>ç¯å¢ƒ:</p>
<ul>
<li>html</li>
<li>ä»£ç ä¸ºä¸»è¦éƒ¨åˆ†</li>
</ul>
<p>å†…å®¹åŒ…æ‹¬:</p>
<ul>
<li>åŸºç¡€JavaScriptå®ä¾‹</li>
</ul>
<ol>
<li>æ–‡æœ¬è¾“å‡º</li>
<li>ç”¨JavaScriptæ”¹å˜HTMLå…ƒç´ </li>
<li>htmlå¼•ç”¨å¤–éƒ¨JavaScript</li>
<li>å®ä¾‹: ç‚¹å‡»æŒ‰é’®æ”¹å˜html</li>
</ol>
<ul>
<li>JavaScriptå˜é‡ ä¸ ifâ€¦else</li>
</ul>
<ol start="5">
<li>å®ä¾‹: ä¸ºhtmlåˆ›å»ºä¸€ä¸ªéšæœºçš„é“¾æ¥</li>
</ol>
<ul>
<li>JavaScript å¼¹å‡ºæ¡†</li>
</ul>
<ol start="6">
<li>è­¦å‘Šæ¡†</li>
<li>ç¡®è®¤æ¡†</li>
<li>æç¤ºæ¡†</li>
</ol>
<a id="more"></a>

<h3><span id="åŸºç¡€javascriptå®ä¾‹">åŸºç¡€JavaScriptå®ä¾‹</span></h3><h4><span id="1-æ–‡æœ¬è¾“å‡º">1. æ–‡æœ¬è¾“å‡º</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        document.write(Date());</span><br><span class="line">        document.write(&quot;æµ‹è¯•&quot;)    </span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h4><span id="2-ç”¨javascriptæ”¹å˜htmlå…ƒç´ ">2. ç”¨JavaScriptæ”¹å˜HTMLå…ƒç´ </span></h4><ul>
<li>è·å– id çš„æ ‡ç­¾</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;h3 id&#x3D;&quot;text&quot;&gt;h3&lt;&#x2F;h3&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">        document.getElementById(&quot;text&quot;).innerHTML&#x3D;&quot;CCC&quot;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h4><span id="3-htmlå¼•ç”¨å¤–éƒ¨javascript">3. htmlå¼•ç”¨å¤–éƒ¨JavaScript</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;file.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h4><span id="4-å®ä¾‹-ç‚¹å‡»æŒ‰é’®æ”¹å˜html">4. å®ä¾‹: ç‚¹å‡»æŒ‰é’®æ”¹å˜html</span></h4><ul>
<li>æ„é€ jså‡½æ•°</li>
<li>buttonä¸­onclick=â€fun()â€è°ƒç”¨</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot; &#x2F;&gt;</span><br><span class="line">    &lt;title&gt;JavaScript&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1&quot;&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        function fun()&#123;</span><br><span class="line">            document.getElementById(&quot;text&quot;).innerHTML&#x3D;&quot;æ”¹å˜&quot;;</span><br><span class="line">            document.write(&quot;&lt;p&gt;&lt;b&gt;åŠ ç²—&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h3 id&#x3D;&quot;text&quot;&gt;æ ‡é¢˜:h3&lt;&#x2F;h3&gt;</span><br><span class="line">    &lt;button type&#x3D;&quot;button&quot; onclick&#x3D;&quot;fun()&quot;&gt;ç‚¹å‡»æ”¹å˜&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="javascriptå˜é‡-ä¸-ifelse">JavaScriptå˜é‡ ä¸ ifâ€¦else</span></h3><h4><span id="5-å®ä¾‹-ä¸ºhtmlåˆ›å»ºä¸€ä¸ªéšæœºçš„é“¾æ¥">5. å®ä¾‹: ä¸ºhtmlåˆ›å»ºä¸€ä¸ªéšæœºçš„é“¾æ¥</span></h4><ul>
<li>var x = Math.random();å®šä¹‰éšæœºæ•°å˜é‡ </li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot; &#x2F;&gt;</span><br><span class="line">    &lt;title&gt;JavaScript&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1&quot;&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;p id&#x3D;&quot;text&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var x &#x3D; Math.random();</span><br><span class="line">        var r &#x3D; document.getElementById(&quot;text&quot;);</span><br><span class="line">        if (x &gt; 0.5) &#123;</span><br><span class="line">            r.innerHTML&#x3D;&quot;&lt;a href&#x3D;&#39;http:&#x2F;&#x2F;www.baidu.com&#39;&gt;ç™¾åº¦&lt;&#x2F;a&gt;&quot;;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            r.innerHTML&#x3D;&quot;&lt;a href&#x3D;&#39;http:&#x2F;&#x2F;www.google.com&#39;&gt;è°·æ­Œ&lt;&#x2F;a&gt;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="javascript-å¼¹å‡ºæ¡†">JavaScript å¼¹å‡ºæ¡†</span></h3><h4><span id="6-è­¦å‘Šæ¡†">6. è­¦å‘Šæ¡†</span></h4><ul>
<li>alert()</li>
<li>\n æ¢è¡Œ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;button onclick&#x3D;&quot;fun()&quot;&gt;ç‚¹å‡»&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        function fun()&#123;</span><br><span class="line">            alert(&quot;è­¦å‘Šæ¡†\næ¢è¡Œ&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h4><span id="7-ç¡®è®¤æ¡†">7. ç¡®è®¤æ¡†</span></h4><ul>
<li>confirm()</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button onclick&#x3D;&quot;fun()&quot;&gt;ç‚¹å‡»&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;p id&#x3D;&quot;text&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        function fun()&#123;</span><br><span class="line">            var x &#x3D; confirm(&quot;ç‚¹å‡»ç¡®è®¤&quot;);</span><br><span class="line">            if (x&#x3D;&#x3D;true) &#123;</span><br><span class="line">                document.getElementById(&quot;text&quot;).innerHTML&#x3D;&quot;ç‚¹å‡»äº†ç¡®è®¤&quot;;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                document.getElementById(&quot;text&quot;).innerHTML&#x3D;&quot;ç‚¹å‡»äº†å–æ¶ˆ&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>

<h4><span id="8-æç¤ºæ¡†">8. æç¤ºæ¡†</span></h4><ul>
<li>prompt()</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button onclick&#x3D;&quot;fun()&quot;&gt;ç‚¹å‡»&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;p id&#x3D;&quot;text&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var t;</span><br><span class="line">        function fun()&#123;</span><br><span class="line">            var x &#x3D; prompt(&quot;è¾“å…¥åå­—&quot;, &quot;inno&quot;);</span><br><span class="line">            if (x !&#x3D; null &amp;&amp; x !&#x3D; &quot;&quot;) &#123;</span><br><span class="line">                t &#x3D; &quot;ä½ å¥½&quot; + x;</span><br><span class="line">            &#125;</span><br><span class="line">            document.getElementById(&quot;text&quot;).innerHTML&#x3D;t;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;&#x2F;script&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>php+Apache+mysqlç”¨æˆ·ç™»å½•ç³»ç»Ÿ(1)</title>
    <url>/2019-08-01-php-apache-mysql-uls-1-yong-hu-deng-lu-xi-tong.html</url>
    <content><![CDATA[<p>php+Apache+mysqlç”¨æˆ·ç™»å½•ç³»ç»Ÿ</p>
<p>è¯´æ˜:</p>
<ul>
<li>php7.0</li>
<li>apache2</li>
<li>æ•°æ®åº“è®¾è®¡ä¸»é”®idä¸ºè‡ªåŠ¨é€’å¢ï¼Œæ’å…¥æ•°æ®æ—¶æ‰èƒ½ä¸æ‰‹åŠ¨æ’å…¥idä¸»é”®</li>
</ul>
<p>æ–‡ä»¶æ ‘:</p>
<ul>
<li>register.htmlæ³¨å†Œ</li>
<li>register.php</li>
<li>login.htmlç™»é™†</li>
<li>login.php</li>
</ul>
<p>ä¸‹ç¯‡æ–‡ç« :</p>
<p><a href="https://inno-hua.xyz/2019/07/31/php-password_hash().html" target="_blank" rel="noopener external nofollow noreferrer">PHPä¸­password_hash()å¯†ç åŠ å¯†</a></p>
<a id="more"></a>

<h3><span id="ç®€å•ç‰ˆç”¨æˆ·ç™»é™†ç³»ç»Ÿ">ç®€å•ç‰ˆç”¨æˆ·ç™»é™†ç³»ç»Ÿ</span></h3><p>å®ç°:</p>
<ul>
<li>ç®€å•æ³¨å†Œç™»é™†</li>
</ul>
<p>æœªè€ƒè™‘:</p>
<ul>
<li>éªŒè¯æ–¹å¼</li>
<li>å®‰å…¨æ€§ç­‰ç­‰</li>
</ul>
<h3><span id="1åˆ›å»ºæ•°æ®åº“åŠæ·»åŠ è¡¨">1.åˆ›å»ºæ•°æ®åº“åŠæ·»åŠ è¡¨</span></h3><p>ä»¥å‰æ–‡ç« ï¼š</p>
<p><a href="https://inno-hua.xyz/2019-07-31-ubuntu-php-mysql.html" target="_blank" rel="noopener external nofollow noreferrer">PHPæ–°å»ºç”¨æˆ·æ•°æ®åº“å’Œè¡¨</a></p>
<h3><span id="2æ³¨å†Œé¡µé¢registerhtml">2.æ³¨å†Œé¡µé¢register.html</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;ç”¨æˆ·æ³¨å†Œé¡µé¢&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;p&gt;---------^-^æ³¨å†Œå•¦^_^----------&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;form action&#x3D;&quot;register.php&quot; method&#x3D;&quot;post&quot;&gt;</span><br><span class="line">            &lt;p&gt;ç”¨æˆ·å:&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;name&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;p&gt;å¯†  ç : &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;password&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;p&gt;&lt;input type&#x3D;&quot;submit&quot; name&#x3D;&quot;submit&quot; value&#x3D;&quot;æ³¨å†Œ&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;&#x2F;form&gt;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="3æ³¨å†Œregisterphp">3.æ³¨å†Œregister.php</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">	header(&quot;Content-Type: text&#x2F;html; charset&#x3D;utf8&quot;);</span><br><span class="line">	&#x2F;&#x2F; åˆ¤æ–­æ˜¯å¦æœ‰submitæ“ä½œ</span><br><span class="line">	if(!isset($_POST[&#39;submit&#39;]))&#123;</span><br><span class="line">		exit(&quot;é”™è¯¯&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	$servername &#x3D; &quot;localhost&quot;;</span><br><span class="line">	$user &#x3D; &quot;root&quot;;</span><br><span class="line">	$password &#x3D; &quot;&quot;;</span><br><span class="line">	$dbname &#x3D; &quot;users&quot;;</span><br><span class="line">	&#x2F;&#x2F; è¿æ¥</span><br><span class="line">	$conn &#x3D; new mysqli($servername, $user, $password, $dbname);</span><br><span class="line">	if($conn-&gt;connect_error)&#123;</span><br><span class="line">		die(&quot;è¿æ¥å¤±è´¥&quot; . $conn-&gt;connect_error);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	&#x2F;&#x2F; æ³¨æ„varcharå‹å˜é‡åŠ å¼•å·</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; è·å–æ³¨å†Œçš„nameå’Œpassword</span><br><span class="line">	$name &#x3D; $_POST[&#39;name&#39;];</span><br><span class="line">	$pwd &#x3D; $_POST[&#39;password&#39;];</span><br><span class="line"></span><br><span class="line">	if($name &amp;&amp; $pwd)&#123;&#x2F;&#x2F; å¦‚æœç”¨æˆ·åå’Œå¯†ç éƒ½ä¸ä¸ºç©º</span><br><span class="line">		$sql &#x3D; &quot;INSERT INTO user(username, password) VALUES(&#39;$name&#39;, $pwd)&quot;;</span><br><span class="line">		$result &#x3D; $conn-&gt;query($sql);</span><br><span class="line">		if($result &#x3D;&#x3D;&#x3D; TRUE)&#123;</span><br><span class="line">			&#x2F;&#x2F;echo &quot;æ–°çºªå½•æ’å…¥æˆåŠŸ&quot;;</span><br><span class="line">			echo &quot;æ³¨å†ŒæˆåŠŸ&quot;;</span><br><span class="line">			&#x2F;&#x2F; è·³å»ç™»å½•é¡µé¢</span><br><span class="line">			&#x2F;&#x2F; ä½¿ç”¨çš„æ˜¯url</span><br><span class="line">			header(&quot;refresh:0;url&#x3D;&#39;login.html&#39;&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">		else&#123;</span><br><span class="line">			echo &quot;æ³¨å†Œå¤±è´¥&quot; . &quot;&lt;br&gt;&quot; . $conn-&gt;error;</span><br><span class="line">			&#x2F;&#x2F; æ³¨å†Œå¤±è´¥å›åˆ°æ³¨å†Œé¡µé¢</span><br><span class="line">			echo &quot;&lt;script&gt;</span><br><span class="line">				window.location.href&#x3D;&#39;register.html&#39;</span><br><span class="line">			&lt;&#x2F;script&gt;&quot;;</span><br><span class="line">		&#125;</span><br><span class="line">	$conn-&gt;close();</span><br><span class="line">	&#125;else&#123;&#x2F;&#x2F; ç”¨æˆ·åæˆ–å¯†ç æœ‰ç©º</span><br><span class="line">		echo &quot;&lt;script&gt;</span><br><span class="line">			alert(&#39;ç”¨æˆ·åæˆ–å¯†ç ä¸èƒ½ä¸ºç©º&#39;)</span><br><span class="line">			window.location.href&#x3D;&#39;register.html&#39;</span><br><span class="line">		&lt;&#x2F;script&gt;&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="4ç™»é™†é¡µé¢login">4.ç™»é™†é¡µé¢login</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;ç”¨æˆ·ç™»å½•é¡µé¢&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;p&gt;-------:)ç™»å½•å§(:-------&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;form action&#x3D;&quot;login.php&quot; method&#x3D;&quot;post&quot;&gt;</span><br><span class="line">            &lt;p&gt;ç”¨æˆ·å:&lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;name&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;p&gt;å¯†  ç : &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;password&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">            &lt;p&gt;&lt;input type&#x3D;&quot;submit&quot; name&#x3D;&quot;submit&quot; value&#x3D;&quot;ç™»å½•&quot;&gt;&lt;&#x2F;p&gt;</span><br><span class="line">        &lt;&#x2F;form&gt;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="5ç™»é™†loginphp">5.ç™»é™†login.php</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; åˆ¤æ–­æ˜¯å¦æäº¤submit</span><br><span class="line">	if(!isset($_POST[&#39;submit&#39;]))&#123;</span><br><span class="line">		exit(&quot;é”™è¯¯ï¼Œæœªæäº¤ç™»å½•ä¿¡æ¯&quot;);</span><br><span class="line">	&#125; </span><br><span class="line">	$server &#x3D; &quot;localhost&quot;;</span><br><span class="line">	$user &#x3D; &quot;root&quot;;</span><br><span class="line">	$password &#x3D; &quot;&quot;;</span><br><span class="line">	$dbname &#x3D; &quot;users&quot;;</span><br><span class="line">	&#x2F;&#x2F; è¿æ¥æ•°æ®åº“</span><br><span class="line">	$con &#x3D; new mysqli($server, $user, $password, $dbname);</span><br><span class="line">	if($con-&gt;connect_error)&#123;</span><br><span class="line">		die(&quot;è¿æ¥æ•°æ®åº“å¤±è´¥&quot; . $con-&gt;connect_error);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F; åˆ¤æ–­æ•°æ®åº“ä¸­æ˜¯å¦å­˜åœ¨ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">	$username &#x3D; $_POST[&#39;name&#39;];</span><br><span class="line">	$pwd &#x3D; $_POST[&#39;password&#39;];</span><br><span class="line">	</span><br><span class="line">	&#x2F;&#x2F; åˆ¤æ–­æäº¤æ•°æ®ä¹¦å¦ä¸ºç©º</span><br><span class="line">	if($username &amp;&amp; $pwd)&#123; &#x2F;&#x2F;å¦‚æœç”¨æˆ·åå’Œå¯†ç éƒ½ä¸ä¸ºç©º</span><br><span class="line">		&#x2F;&#x2F; æŸ¥è¯¢è¯­å¥</span><br><span class="line">		$sql &#x3D; &quot;SELECT * FROM user where username&#x3D;&#39;$username&#39; and password&#x3D;&#39;$pwd&#39;&quot;;</span><br><span class="line">		&#x2F;&#x2F; æ‰§è¡Œè¯­å¥</span><br><span class="line">		$result &#x3D; $con-&gt;query($sql);</span><br><span class="line">		&#x2F;&#x2F; è·å–è¿”å›çš„è¡Œæ•°</span><br><span class="line">		$num_row &#x3D; $result-&gt;num_rows;</span><br><span class="line">		</span><br><span class="line">		if($num_row &#x3D;&#x3D; 1)&#123;&#x2F;&#x2F; å¦‚æœè¿”å›äº†ä¸€æ¡æ•°æ®</span><br><span class="line">			echo &quot;ç™»å½•æˆåŠŸ&quot;;</span><br><span class="line">			&#x2F;&#x2F; è·³è½¬é¡µé¢åˆ°wekcome.html</span><br><span class="line">			header(&quot;refresh:0; url&#x3D;welcome.html&quot;);</span><br><span class="line">		&#125;else &#123;</span><br><span class="line">			</span><br><span class="line">			echo &quot;&lt;script&gt;</span><br><span class="line">				alert(&#39;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯&#39;)</span><br><span class="line">				window.location.href &#x3D; &#39;login.html&#39;</span><br><span class="line">			&lt;&#x2F;script&gt;&quot;;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;else&#123;&#x2F;&#x2F; ç”¨æˆ·åæˆ–å¯†ç æœ‰ç©º</span><br><span class="line">		echo &quot;&lt;script&gt;</span><br><span class="line">			alert(&#39;ç”¨æˆ·åæˆ–å¯†ç ä¸èƒ½ä¸ºç©º&#39;)</span><br><span class="line">			window.location.href&#x3D;&#39;login.html&#39;</span><br><span class="line">		&lt;&#x2F;script&gt;&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>php apache mysql ç”¨æˆ·ç™»é™†ç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>ubuntu16.04, Apache+PHP+Mysqlå®‰è£…ä¸å¸è½½</title>
    <url>/2019-07-31-ubuntu-php-mysql.html</url>
    <content><![CDATA[<p>ubuntu16.04, Apache+PHP+Mysqlçš„å®‰è£…ä¸å¸è½½</p>
<p>è¯´æ˜:</p>
<ul>
<li>Apache2</li>
<li>php7.0</li>
<li>å‚è€ƒ<a href="https://blog.csdn.net/wy_97/article/details/78045541" target="_blank" rel="noopener external nofollow noreferrer">é˜¿é‡Œäº‘ubuntu16.04å®æµ‹é…ç½®ã€php+mysql+apacheã€‘</a></li>
<li>å‚è€ƒ<a href="https://blog.csdn.net/heijinkuiba/article/details/78212728" target="_blank" rel="noopener external nofollow noreferrer">Ubuntu 16.04 ä¸‹å¸è½½ lnmp/lamp æ–¹æ³•</a></li>
</ul>
<p>æ³¨æ„äº‹é¡¹:</p>
<ul>
<li>é¿å…å‡ºç°phpinfo();æ²¡æœ‰mysqliæ‰©å±•</li>
</ul>
<a id="more"></a>

<h3><span id="å®‰è£…">å®‰è£…</span></h3><ol>
<li>æ›´æ–°apt</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt-get update</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>å®‰è£…apache</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt install apache2</span><br></pre></td></tr></table></figure>
<p>æµè§ˆå™¨ä¸Šè¾“å…¥localhostæˆ–æœåŠ¡å™¨ip</p>
<p>å‡ºç°apacheé¦–é¡µ</p>
<ol start="3">
<li>å®‰è£…php7</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt install php7.0</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>æ•´åˆä¸€ä¸‹phpå’Œapacheï¼Œå®‰è£…æ’ä»¶</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt install libapache2-mod-php7.0</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>å®‰è£…MySQL</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt-get install mysql-server</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ£€æŸ¥ç«¯å£æ˜¯å¦ä¸ºç›‘å¬çŠ¶æ€</span><br><span class="line">&#x2F;&#x2F; mysql çš„socketå¤„äº listen çŠ¶æ€åˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸ</span><br><span class="line">etstat -tap | grep mysql</span><br></pre></td></tr></table></figure>


<ol start="6">
<li><b>æ•´åˆä¸€ä¸‹phpå’Œmysql</b></li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt-get install php7.0-mysql</span><br></pre></td></tr></table></figure>

<h3><span id="å¸è½½">å¸è½½</span></h3><ol>
<li>å¸è½½apache2<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get --purge remove apache2*</span><br><span class="line">sudo apt-get autoremove apache2</span><br><span class="line">(--purge æ˜¯å®Œå…¨åˆ é™¤å¹¶ä¸”ä¸ä¿ç•™é…ç½®æ–‡ä»¶ï¼‰</span><br></pre></td></tr></table></figure></li>
<li>å¸è½½php7.0</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">apt-get --purge remove php7.0*</span><br><span class="line">sudo apt-get autoremove php7.0*</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å¸è½½mysql</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get --purge remove mysql*</span><br><span class="line">sudo apt-get autoremove mysql*</span><br><span class="line"> </span><br><span class="line">## æœ€åæ¸…ç†æ®‹ç•™æ–‡ä»¶ï¼š</span><br><span class="line">dpkg -l |grep ^rc|awk â€™&#123;print $2&#125;â€™ |sudo xargs dpkg -P</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>ubuntu-php-mysql ubuntu php mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>PHPä¸­password_hash()å¯†ç åŠ å¯†</title>
    <url>/2019-07-31-php-password-hash.html</url>
    <content><![CDATA[<h2><span id="phpå¯¹ç™»é™†å¯†ç åŠ å¯†çš„æ–¹æ³•">PHPå¯¹ç™»é™†å¯†ç åŠ å¯†çš„æ–¹æ³•</span></h2><p>ç¯å¢ƒè¯´æ˜ï¼š</p>
<ul>
<li>php7.0</li>
<li>apache2</li>
<li><?php ä»£ç  ?>

</li>
</ul>
<p>åŠ å¯†æ–¹æ³•:</p>
<blockquote>
<ul>
<li>password_hash ($password, PASSWORD_BCRYPT, $options)</li>
<li>$password éœ€è¦åŠ å¯†çš„å¯†ç </li>
<li>PASSWORD_BCRYPT åŠ å¯†æ–¹å¼</li>
<li>$options å¯ç”¨äºè®¾ç½®costå€¼å’Œ saltå€¼</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;ä¾‹:</span><br><span class="line">$options &#x3D; [</span><br><span class="line">        &#39;cost&#39; &#x3D;&gt; 11,</span><br><span class="line">    ];</span><br></pre></td></tr></table></figure>

<p>éªŒè¯å“ˆå¸Œå€¼ä¸å¯†ç æ˜¯å¦åŒ¹é…</p>
<ul>
<li>password_verify($password, $hash)</li>
<li>å‚æ•°ä¸ºå¯†ç å’ŒåŠ å¯†åçš„å“ˆå¸Œå€¼</li>
</ul>
<a id="more"></a>

<h3><span id="1-æŸ¥çœ‹æœåŠ¡å™¨åœ¨ä¸æ‹–æ…¢é€Ÿåº¦çš„æœ€é«˜costå€¼">1. æŸ¥çœ‹æœåŠ¡å™¨åœ¨ä¸æ‹–æ…¢é€Ÿåº¦çš„æœ€é«˜costå€¼</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;æµ‹è¯•æœºå™¨èƒ½å¤Ÿè¾¾åˆ°çš„æœ€é«˜cost</span><br><span class="line">	$time &#x3D; 0.1; &#x2F;&#x2F; 100æ¯«ç§’</span><br><span class="line">	$cost &#x3D; 8;</span><br><span class="line">	do&#123;</span><br><span class="line">		$cost++;</span><br><span class="line">		$start &#x3D; microtime(true);</span><br><span class="line">		password_hash($password, PASSWORD_BCRYPT, [&#39;cost&#39; &#x3D;&gt; $cost]);</span><br><span class="line">		$end &#x3D; microtime(true);</span><br><span class="line"></span><br><span class="line">	&#125;while(($end - $start) &lt; $time);</span><br></pre></td></tr></table></figure>
<h3><span id="2-åŠ å¯†ä¸éªŒè¯åŠ å¯†åçš„å“ˆå¸Œå€¼ä¸å¯†ç æ˜¯å¦åŒ¹é…">2. åŠ å¯†ä¸éªŒè¯åŠ å¯†åçš„å“ˆå¸Œå€¼ä¸å¯†ç æ˜¯å¦åŒ¹é…</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">   &#x2F;&#x2F; åŠ å¯†</span><br><span class="line">$hash &#x3D; password_hash($password, PASSWORD_BCRYPT, [&quot;cost&quot; &#x3D;&gt; 11]);</span><br><span class="line"></span><br><span class="line">echo &quot;$hash&quot; . &quot;&lt;br&#x2F;&gt;&quot;;</span><br><span class="line">&#x2F;&#x2F; éªŒè¯</span><br><span class="line">if(password_verify($password, $hash))&#123;</span><br><span class="line">	echo &quot;åŒ¹é…&quot;;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">	echo &quot;ä¸åŒ¹é…&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>php phpå¯†ç åŠ å¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>PHPæ–°å»ºç”¨æˆ·æ•°æ®åº“å’Œè¡¨</title>
    <url>/2019-07-31-php-mysql-create.html</url>
    <content><![CDATA[<p>ç¯å¢ƒè¯´æ˜: </p>
<ul>
<li>php7.0</li>
<li>apache2</li>
<li>ä»¥ä¸‹ä»£ç å‡åœ¨<?php ?>æ ‡ç­¾ä¸­</li>
</ul>
<p>å»ºåº“æ³¨æ„äº‹é¡¹:</p>
<ul>
<li>æ•°æ®åº“ç¼–ç çš„è®¾ç½®</li>
<li>å»ºè¡¨æ—¶å¼•æ“çš„è®¾ç½®</li>
</ul>
<a id="more"></a>

<h2><span id="1è¿æ¥æ•°æ®åº“">1.è¿æ¥æ•°æ®åº“</span></h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$server &#x3D; &quot;xxx.xx.xxx.xxx&quot;;</span><br><span class="line">	$user &#x3D; &quot;xx&quot;;</span><br><span class="line">	$password &#x3D; &quot;xxxxxxx&quot;;</span><br><span class="line">	&#x2F;&#x2F; è¿æ¥æ•°æ®åº“æœåŠ¡</span><br><span class="line">	$con &#x3D; new mysqli($server, $user, $password);</span><br><span class="line">	&#x2F;&#x2F; åˆ¤æ–­è¿æ¥çŠ¶æ€</span><br><span class="line">	if($con-&gt;connect_error)&#123;</span><br><span class="line">		die(&quot;æ•°æ®åº“è¿æ¥æœåŠ¡å¤±è´¥&quot; . $con-&gt;connect_error);</span><br><span class="line">	&#125;else&#123;</span><br><span class="line">		echo &quot;æ•°æ®åº“è¿æ¥æœåŠ¡æˆåŠŸ&quot;;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2><span id="2phpæ–°å»ºæ•°æ®åº“ä¸è¡¨æ—¶è®¾ç½®ç¼–ç ">2.PHPæ–°å»ºæ•°æ®åº“ä¸è¡¨æ—¶è®¾ç½®ç¼–ç </span></h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">   &#x2F;&#x2F; åˆ›å»ºæ•°æ®åº“</span><br><span class="line">$sqlCdb &#x3D; &quot;CREATE DATABASE users CHARACTER SET &#39;utf8&#39; COLLATE &#39;utf8_general_ci&#39;&quot;;</span><br><span class="line">&#x2F;&#x2F; åˆ¤æ–­åˆ›å»ºç»“æœ</span><br><span class="line">$resultCdb &#x3D;  $con-&gt;query($sqlCdb);</span><br><span class="line">if($resultCdb &#x3D;&#x3D;&#x3D; TRUE)&#123;</span><br><span class="line">	echo &quot;æ•°æ®åº“åˆ›å»ºæˆåŠŸ&quot;;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">	echo &quot;æ•°æ®åº“åˆ›å»ºå¤±è´¥&quot; . $con-&gt;error;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è¿æ¥æ–°å»ºæ•°æ®åº“</span><br><span class="line">$con-&gt;select_db(&#39;users&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; åˆ›å»ºè¡¨</span><br><span class="line">$sqlCt &#x3D; &quot;CREATE TABLE user(</span><br><span class="line">	id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,</span><br><span class="line">	username VARCHAR(30) NOT NULL,</span><br><span class="line">	password VARCHAR(60) NOT NULL) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8&quot;;</span><br><span class="line">&#x2F;&#x2F; åˆ¤æ–­å»ºè¡¨ç»“æœ</span><br><span class="line">$resultCt &#x3D; $con-&gt;query($sqlCt);</span><br><span class="line">if($resultCt &#x3D;&#x3D;&#x3D; TRUE)&#123;</span><br><span class="line">	echo &quot;&lt;br&gt;&quot; . &quot;å»ºè¡¨æˆåŠŸ&quot;;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">	echo &quot;å»ºè¡¨å¤±è´¥&quot; . $con-&gt;error;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>phpè¿æ¥mysql php mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>Arcgisä¸­çš„pythonç¼–ç¨‹(é™„å½•)</title>
    <url>/2019-07-26-arcgis-python-13.html</url>
    <content><![CDATA[<p>å­¦ä¹ æ—¥å¿—(é™„å½•) GISç¨‹åºå‘˜ä¸å¯ä¸çŸ¥çš„PythonåŠŸèƒ½</p>
<p>ä¹¦ç±ï¼šåŸºäºArcGISçš„Pythonç¼–ç¨‹ç§˜ç¬ˆ(ç¬¬2ç‰ˆ); </p>
<p>å­¦ä¹ <b>é™„å½•</b></p>
<ul>
<li>å‘é€å¸¦é™„ä»¶ç”µå­é‚®ä»¶</li>
<li>è¿æ¥FTPæœåŠ¡å¹¶æ“ä½œæ–‡ä»¶</li>
<li>ä½¿ç”¨zipfileæ¨¡å—å‹ç¼©æ–‡ä»¶</li>
<li>è¯»å–xmlæ–‡æ¡£</li>
</ul>
<a id="more"></a>

<h3><span id="1å‘é€å¸¦é™„ä»¶ç”µå­é‚®ä»¶">1.å‘é€å¸¦é™„ä»¶ç”µå­é‚®ä»¶</span></h3><ul>
<li>smtplib</li>
<li>MIMEMultipart</li>
<li>MIMEText</li>
<li>MIMEApplication</li>
<li>qqé‚®ç®±éœ€è¦è®¾ç½®æ‰“å¼€SMTPï¼Œåˆ›å»ºæˆæƒç </li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">ä½¿ç”¨qqmailå‘é€å¸¦é™„ä»¶é‚®ä»¶</span><br><span class="line">å®šä¹‰å‡½æ•°å®ç°</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">from smtplib import SMTP_SSL</span><br><span class="line">from email.mime.multipart import MIMEMultipart</span><br><span class="line">from email.mime.text import MIMEText</span><br><span class="line">from email.mime.application import MIMEApplication</span><br><span class="line">import os</span><br><span class="line"></span><br><span class="line"># å‘é€é‚®ä»¶çš„å‡½æ•°</span><br><span class="line">def mail(host_server, frm, pwd, to, subject, text, attach):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    host_server: é‚®ç®±ä¸»æœº</span><br><span class="line">    Frm: å‘é€è€…é‚®ç®±</span><br><span class="line">    pwd: å¯†ç </span><br><span class="line">    To: æ¥æ”¶é‚®ç®±</span><br><span class="line">    subject: é‚®ä»¶ä¸»é¢˜</span><br><span class="line">    text: é‚®ä»¶å†…å®¹</span><br><span class="line">    attach: é™„ä»¶</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    # multipartå¤šä¸ªéƒ¨åˆ†çš„é‚®ä»¶</span><br><span class="line">    msg &#x3D; MIMEMultipart()</span><br><span class="line">    msg[&#39;Subject&#39;] &#x3D; subject</span><br><span class="line">    msg[&#39;From&#39;] &#x3D; frm</span><br><span class="line">    msg[&#39;To&#39;] &#x3D; to</span><br><span class="line"></span><br><span class="line">    # æ–‡æœ¬éƒ¨åˆ†</span><br><span class="line">    part &#x3D; MIMEText(text)</span><br><span class="line">    msg.attach(part)</span><br><span class="line"></span><br><span class="line">    # é™„ä»¶éƒ¨åˆ†</span><br><span class="line">    part &#x3D; MIMEApplication(open(attach, &#39;rb&#39;).read())</span><br><span class="line">    part.add_header(&#39;Content-Disposition&#39;, &#39;attachment&#39;, filename&#x3D;os.path.basename(attach))</span><br><span class="line">    msg.attach(part)</span><br><span class="line"></span><br><span class="line">    # ä½¿ç”¨sslè¿æ¥é‚®ç®±æœåŠ¡å™¨</span><br><span class="line">    print(&quot;è¿æ¥æœåŠ¡å™¨...&quot;)</span><br><span class="line">    smtp &#x3D; SMTP_SSL(host_server)</span><br><span class="line">    #set_debuglevel()æ˜¯ç”¨æ¥è°ƒè¯•çš„ã€‚å‚æ•°å€¼ä¸º1è¡¨ç¤ºå¼€å¯è°ƒè¯•æ¨¡å¼ï¼Œå‚æ•°å€¼ä¸º0å…³é—­è°ƒè¯•æ¨¡å¼</span><br><span class="line">    #smtp.set_debuglevel(1)</span><br><span class="line">    smtp.ehlo(host_server)</span><br><span class="line">    # ç™»é™†</span><br><span class="line">    #print(&quot;ç™»é™†...&quot;)</span><br><span class="line">    smtp.login(frm, pwd)</span><br><span class="line">    # å‘é€</span><br><span class="line">    smtp.sendmail(frm, to, msg.as_string())</span><br><span class="line">    print(&quot;å‘é€æˆåŠŸ&quot;)</span><br><span class="line">    smtp.close()</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"># -----------å‚æ•°-------------</span><br><span class="line"># å‘é€è€…é‚®ç®±ã€æˆæƒç </span><br><span class="line">user_send &#x3D; &#39;xxxxx@qq.com&#39;</span><br><span class="line">user_pwd &#x3D; &#39;xxxxxg&#39;</span><br><span class="line"></span><br><span class="line"># æ¥æ”¶é‚®ç®±</span><br><span class="line">receive &#x3D; &#39;1xxxxxx12@qq.com&#39;</span><br><span class="line"></span><br><span class="line"># é‚®ç®±ä¸»æœº</span><br><span class="line">HOST &#x3D; &#39;smtp.qq.com&#39;</span><br><span class="line"># ä¸»é¢˜</span><br><span class="line">sub &#x3D; &quot;Just a text&quot;</span><br><span class="line"># å†…å®¹</span><br><span class="line">txt &#x3D; &quot;Hello, This just a text with python SMTP&quot;</span><br><span class="line"># é™„ä»¶</span><br><span class="line">_attach &#x3D; &quot;H:&#x2F;upUpStudy&#x2F;pythonGis&#x2F;text&#x2F;BrokenDataList.txt&quot;</span><br><span class="line"></span><br><span class="line">mail(HOST, user_send, user_pwd, receive, sub, txt, _attach)</span><br></pre></td></tr></table></figure>
<h3><span id="2-è¿æ¥ftpæœåŠ¡å¹¶æ“ä½œæ–‡ä»¶">2. è¿æ¥FTPæœåŠ¡å¹¶æ“ä½œæ–‡ä»¶</span></h3><ul>
<li>ftplibæ¨¡å—</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">è¿æ¥FTPæœåŠ¡å¹¶ä¸‹è½½æ–‡ä»¶</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">import ftplib</span><br><span class="line">from ftplib import FTP</span><br><span class="line">import socket</span><br><span class="line">import os</span><br><span class="line"></span><br><span class="line">ftp &#x3D; FTP()</span><br><span class="line">buffer_size &#x3D; 10000</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># è¿æ¥å‡½æ•°</span><br><span class="line">def connect_ftp(host, port, username, password):</span><br><span class="line">    try:</span><br><span class="line">        ftp.connect(host&#x3D;host, port&#x3D;port)</span><br><span class="line">        #ftp.set_pasv(False)</span><br><span class="line">        print((&quot;å·²è¿æ¥åˆ°%s FTPæœåŠ¡&quot;).decode(&#39;utf-8&#39;) % host)</span><br><span class="line">        print(ftp.welcome)</span><br><span class="line">    except (socket.error, socket.gaierror), e:</span><br><span class="line">        print((&quot;æ— æ³•è®¿é—®%s FTPæœåŠ¡å™¨&quot;).decode(&#39;utf-8&#39;) % host)</span><br><span class="line">        print(e)</span><br><span class="line">    </span><br><span class="line">    try:</span><br><span class="line">        # ç™»é™†</span><br><span class="line">        ftp.login(user&#x3D;username, passwd&#x3D;password)</span><br><span class="line">        print((&quot;ç™»é™†æˆåŠŸ&quot;).decode(&#39;utf-8&#39;))</span><br><span class="line">    except (ftplib.error_perm), e:</span><br><span class="line">        print((&quot;ç™»é™†å¤±è´¥,%s&quot;).decode(&#39;utf-8&#39;) % e)</span><br><span class="line"></span><br><span class="line"># ä¸­æ–­è¿æ¥</span><br><span class="line">def disconnect(ftp):</span><br><span class="line">    ftp.quit()</span><br><span class="line">    print(&quot;ä¸­æ–­è¿æ¥&quot;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># è·å–ç›®å½•</span><br><span class="line">def dir(ftp):</span><br><span class="line">    print((&quot;è·å–ç›®å½•:&quot;).decode(&#39;utf-8&#39;))</span><br><span class="line">    ftp.dir()</span><br><span class="line"></span><br><span class="line"># æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨æŒ‡å®šæ–‡ä»¶</span><br><span class="line">def find(ftp, filename):</span><br><span class="line">    print(&quot;æŸ¥æ‰¾...&quot;)</span><br><span class="line">    flist &#x3D; ftp.nlst()</span><br><span class="line">    if filename in flist:</span><br><span class="line">        return True</span><br><span class="line">    else:</span><br><span class="line">        return &quot;æ— æ­¤æ–‡ä»¶&quot;</span><br><span class="line"></span><br><span class="line">#ä¸Šä¼ æ–‡ä»¶</span><br><span class="line">def upload(ftp, filepath):</span><br><span class="line">    f &#x3D; open(filepath, &quot;rb&quot;)</span><br><span class="line">    file_name &#x3D; os.path.basename(filepath)</span><br><span class="line">    try:</span><br><span class="line">        ftp.storbinary(&#39;upload %s&#39; % file_name, f, buffer_size)</span><br><span class="line">        print(&#39;æˆåŠŸä¸Šä¼ æ–‡ä»¶ï¼š &quot;%s&quot;&#39; % file_name)</span><br><span class="line">    except ftplib.error_perm:</span><br><span class="line">        return False</span><br><span class="line">    return True</span><br><span class="line"></span><br><span class="line"># ä¸‹è½½æ–‡ä»¶</span><br><span class="line">def download(ftp, filepath):</span><br><span class="line">    f &#x3D; open(filepath, &#39;wb&#39;).write</span><br><span class="line">    try:</span><br><span class="line">        ftp.retrbinary(&quot;RETR %s&quot; % filepath, f, buffer_size)</span><br><span class="line">        print(&quot;æˆåŠŸä¸‹è½½%s&quot; % filepath)</span><br><span class="line">    except ftp.error_perm:</span><br><span class="line">        return False</span><br><span class="line">    return True</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    host &#x3D; &#39;xxx.xxx.xxx.239&#39;</span><br><span class="line">    port &#x3D; &#39;21&#39;</span><br><span class="line">    username &#x3D; &#39;xxxr&#39;</span><br><span class="line">    ftp_pwd &#x3D; &#39;xxxxx&#39;</span><br><span class="line">    filepath &#x3D; &quot;www&#x2F;htmx&#x2F;&quot;</span><br><span class="line">    # è¿æ¥ç™»é™†</span><br><span class="line">    connect_ftp(host, port, username, ftp_pwd)</span><br><span class="line"></span><br><span class="line">    #dir(ftp)</span><br><span class="line">    #find(ftp, &quot;www&#x2F;html&#x2F;zuahua&#x2F;index.html&quot;)</span><br><span class="line"></span><br><span class="line">    # ä¸­æ–­</span><br><span class="line">    disconnect(ftp)</span><br></pre></td></tr></table></figure>
<h3><span id="3ä½¿ç”¨zipfileæ¨¡å—å‹ç¼©æ–‡ä»¶">3.ä½¿ç”¨zipfileæ¨¡å—å‹ç¼©æ–‡ä»¶</span></h3><ul>
<li>zipfileæ¨¡å—</li>
<li>zipfile.ZIPFile()ç±»</li>
<li>zipfile.ZIPFile().namelist()è·å–æ·»åŠ çš„æ–‡ä»¶</li>
<li>lst = os.listdir(path)è·å–è·¯å¾„ä¸‹æ‰€æœ‰æ–‡ä»¶</li>
<li>string.endswith(â€˜xxxâ€™) ä»¥xxxç»“å°¾çš„string</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">ä½¿ç”¨zipfileæ¨¡å—å‹ç¼©æ–‡ä»¶</span><br><span class="line">å°†è·¯å¾„ä¸‹çš„ä»¥shpã€dbfã€shxç»“å°¾çš„æ–‡ä»¶æ·»åŠ åˆ°å‹ç¼©æ–‡ä»¶</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">import zipfile</span><br><span class="line">import os</span><br><span class="line"></span><br><span class="line"># å‹ç¼©æ–‡ä»¶æ‰€åœ¨è·¯å¾„</span><br><span class="line">path &#x3D; &quot;H:&#x2F;ArcpyBook&#x2F;data&quot;</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºå‹ç¼©æ–‡ä»¶</span><br><span class="line">zfile &#x3D; zipfile.ZipFile(r&quot;H:\ArcpyBook\data\yasuo.zip&quot;, </span><br><span class="line">            &quot;w&quot;, zipfile.ZIP_DEFLATED)</span><br><span class="line"></span><br><span class="line"># è·å–è·¯å¾„ä¸‹æ‰€æœ‰æ–‡ä»¶</span><br><span class="line">files &#x3D; os.listdir(path)</span><br><span class="line"></span><br><span class="line"># å°†ä»¥shpã€dbfã€shxç»“å°¾çš„æ–‡ä»¶å†™å…¥å‹ç¼©æ–‡ä»¶</span><br><span class="line">for f in files:</span><br><span class="line">    if f.endswith(&#39;shp&#39;) or f.endswith(&#39;dbf&#39;) or f.endswith(&#39;shx&#39;):</span><br><span class="line">        zfile.write(path + &quot;&#x2F;&quot; + f)</span><br><span class="line">    </span><br><span class="line"># æ‰“å°å†™å…¥çš„æ–‡ä»¶</span><br><span class="line">for f in zfile.namelist():</span><br><span class="line">    print(&quot;added &quot; + f)</span><br><span class="line"></span><br><span class="line"># å…³é—­</span><br><span class="line">zfile.close()</span><br></pre></td></tr></table></figure>
<h3><span id="4è¯»å–xmlæ–‡æ¡£">4.è¯»å–xmlæ–‡æ¡£</span></h3><ul>
<li>from xml.dom import minidom</li>
<li>minidom.parse() è¯»å–è§£æmxlæ–‡æ¡£</li>
<li>xmldoc.childNodes è·å–æ‰€æœ‰å­èŠ‚ç‚¹</li>
<li>getElementsByTagName()</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">è¯»å–xmlæ–‡æ¡£</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">from xml.dom import minidom</span><br><span class="line"></span><br><span class="line"># è¯»å–è§£æmxlæ–‡æ¡£</span><br><span class="line">xmldoc &#x3D; minidom.parse(r&quot;H:\ArcpyBook\Appendix2\WitchFireResidenceDestroyed.xml&quot;)</span><br><span class="line"></span><br><span class="line"># è·å–æ‰€æœ‰å­èŠ‚ç‚¹</span><br><span class="line">childNodes &#x3D; xmldoc.childNodes</span><br><span class="line"></span><br><span class="line"># fireèŠ‚ç‚¹åˆ—è¡¨</span><br><span class="line">eList &#x3D; childNodes[0].getElementsByTagName(&quot;fire&quot;)</span><br><span class="line"></span><br><span class="line"># éå†ï¼Œåˆ¤æ–­&lt;fire&gt;èŠ‚ç‚¹ä¸­æ˜¯å¦æœ‰addresså±æ€§ï¼Œè¾“å‡º</span><br><span class="line">for e in eList:</span><br><span class="line">    if e.hasAttribute(&quot;address&quot;):</span><br><span class="line">        print(e.getAttribute(&quot;address&quot;))</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>pythonGIS</tag>
      </tags>
  </entry>
  <entry>
    <title>Arcgisä¸­çš„pythonç¼–ç¨‹(12)</title>
    <url>/2019-07-24-arcgis-python-12.html</url>
    <content><![CDATA[<p>å­¦ä¹ æ—¥å¿—12 ä½¿ç”¨Pythonå®ç°ArcGisçš„é«˜çº§åŠŸèƒ½</p>
<p>ä¹¦ç±ï¼šåŸºäºArcGISçš„Pythonç¼–ç¨‹ç§˜ç¬ˆ(ç¬¬2ç‰ˆ); </p>
<p>å­¦ä¹ <b>ç¬¬åäºŒç« </b></p>
<ul>
<li>ä½¿ç”¨Pythonæ„å»ºHTTPå“åº”è¯·æ±‚å¹¶è§£æå“åº”</li>
<li>ä½¿ç”¨ArcGis REST APIå’ŒPythonè·å–å›¾å±‚ä¿¡æ¯</li>
<li>ä½¿ç”¨ArcGis REST APIå’ŒPythonå¯¼å‡ºåœ°å›¾</li>
<li>ä½¿ç”¨ArcGis REST APIå’ŒPythonæŸ¥è¯¢åœ°å›¾æœåŠ¡</li>
<li>ä½¿ç”¨Esri World Geocoding Serviceè¿›è¡Œåœ°ç†ç¼–ç </li>
<li>ä½¿ç”¨FieldMappingså’ŒFieldMap,å®ç°å‡ ä¸ªè¦ç´ ç±»çš„åˆå¹¶(Merge)</li>
<li>ä½¿ç”¨ValueTableè®²å¤šå€¼è¾“å…¥åˆ°å·¥å…·ä¸­ä½œä¸ºå‚æ•°</li>
</ul>
<a id="more"></a>

<h3><span id="1-ä½¿ç”¨pythonæ„å»ºhttpå“åº”è¯·æ±‚å¹¶è§£æå“åº”">1. ä½¿ç”¨Pythonæ„å»ºHTTPå“åº”è¯·æ±‚å¹¶è§£æå“åº”</span></h3><ul>
<li>requestsåº“</li>
<li>jsonåº“</li>
<li>requests.get(url)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- conding:utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">requests</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import requests</span><br><span class="line">import json</span><br><span class="line"></span><br><span class="line">gisurl &#x3D; &quot;http:&#x2F;&#x2F;server.arcgisonline.com&#x2F;arcgis&#x2F;rest&#x2F;services?f&#x3D;pjson&quot;</span><br><span class="line">#gisurl &#x3D; &quot;http:&#x2F;&#x2F;sampleserver1.arcgisonline.com&#x2F;ArcGIS&#x2F;rest&#x2F;services&#x2F;Demographics&#x2F;ESRI_Census_USA&#x2F;MapServer&#x2F;3&#x2F;query?text&#x3D;&amp;geometry&#x3D;&amp;geometryType&#x3D;esriGeometryPoint&amp;inSR&#x3D;&amp;spatialRel&#x3D;esriSpatialRelIntersects&amp;relationParam&#x3D;&amp;objectIds&#x3D;&amp;where&#x3D;STATE_FIPS%3D%2748%27+AND+CNTY_FIPS%3D%27021%27&amp;time&#x3D;&amp;returnCountOnly&#x3D;false&amp;returnIdsOnly&#x3D;false&amp;returnGeometry&#x3D;false&amp;maxAllowableOffset&#x3D;&amp;outSR&#x3D;&amp;outFields&#x3D;POP2000%2CPOP2007%2CBLKGRP&amp;f&#x3D;pjson&quot;</span><br><span class="line">r &#x3D; requests.get(gisurl)</span><br><span class="line">#print(r.text)</span><br><span class="line">decoded &#x3D; json.loads(r.text)</span><br><span class="line">print(decoded)</span><br></pre></td></tr></table></figure>
<h3><span id="2-ä½¿ç”¨arcgis-rest-apiå’Œpythonè·å–å›¾å±‚ä¿¡æ¯">2. ä½¿ç”¨ArcGis REST APIå’ŒPythonè·å–å›¾å±‚ä¿¡æ¯</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">ä½¿ç”¨ArcGis REST APIå’ŒPythonè·å–å›¾å±‚ä¿¡æ¯</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">import requests</span><br><span class="line">import json</span><br><span class="line"></span><br><span class="line">agisurl &#x3D; &quot;http:&#x2F;&#x2F;sampleserver1.arcgisonline.com&#x2F;ArcGIS&#x2F;rest&#x2F;services&#x2F;Demographics&#x2F;ESRI_Census_USA&#x2F;MapServer&#x2F;1&quot;</span><br><span class="line"># å‚æ•°</span><br><span class="line">payload &#x3D; &#123;&#39;where&#39;: &#39;STATE_FIPS &#x3D; \&#39;48\&#39; and CNTY_FIPS &#x3D; \&#39;021\&#39;&#39;, </span><br><span class="line">        &#39;returnCountyOnly&#39;: &#39;false&#39;, &#39;returnIdsOnly&#39;: &#39;false&#39;, &#39;returnGeometry&#39;: &#39;false&#39;, &#39;f&#39;: &#39;pjson&#39;&#125;</span><br><span class="line">r &#x3D; requests.get(agisurl, params&#x3D;payload)</span><br><span class="line"># r.textè½¬ä¸ºå­—å…¸</span><br><span class="line">decoded &#x3D; json.loads(r.text)</span><br><span class="line"># æ‰“å°å›¾å±‚ä¿¡æ¯</span><br><span class="line">print(&quot;layer name is: &quot; + decoded[&#39;name&#39;])</span><br><span class="line">print(&quot;extent xmin: &quot; + str(decoded[&#39;extent&#39;][&#39;xmin&#39;]))</span><br><span class="line">print(&quot;extent ymin: &quot; + str(decoded[&#39;extent&#39;][&#39;ymin&#39;]))</span><br><span class="line">print(&quot;extent xmax: &quot; + str(decoded[&#39;extent&#39;][&#39;xmax&#39;]))</span><br><span class="line">print(&quot;extent ymax: &quot; + str(decoded[&#39;extent&#39;][&#39;ymax&#39;]))</span><br><span class="line">print(&quot;layer fields: &quot;)</span><br><span class="line">for field in decoded[&#39;fields&#39;]:</span><br><span class="line">    print(field[&#39;name&#39;])</span><br></pre></td></tr></table></figure>
<h3><span id="3ä½¿ç”¨arcgis-rest-apiå’Œpythonå¯¼å‡ºåœ°å›¾">3.ä½¿ç”¨ArcGis REST APIå’ŒPythonå¯¼å‡ºåœ°å›¾</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">ä½¿ç”¨ArcGis REST APIå’ŒPythonå¯¼å‡ºåœ°å›¾</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">import requests</span><br><span class="line">import json</span><br><span class="line"></span><br><span class="line">gisurl &#x3D; &quot;http:&#x2F;&#x2F;sampleserver1.arcgisonline.com&#x2F;ArcGIS&#x2F;rest&#x2F;services&#x2F;Demographics&#x2F;ESRI_Census_USA&#x2F;MapServer&#x2F;export&quot;</span><br><span class="line"># å‚æ•°</span><br><span class="line">payload &#x3D; &#123;&#39;bbox&#39;: &#39;-115.8,30.4, 85.5,50.5&#39;,</span><br><span class="line">            &#39;size&#39;: &#39;800, 600&#39;,</span><br><span class="line">            &#39;imageSR&#39;: &#39;102004&#39;,</span><br><span class="line">            &#39;format&#39;: &#39;gif&#39;,</span><br><span class="line">            &#39;transparent&#39;: &#39;false&#39;,</span><br><span class="line">                &#39;f&#39;: &#39;pjson&#39;&#125;</span><br><span class="line">r &#x3D; requests.get(gisurl, params&#x3D;payload)</span><br><span class="line">print(r.text)</span><br><span class="line">print(json.loads(r.text))</span><br></pre></td></tr></table></figure>
<p>æ ¹æ®æ‰“å°å‡ºçš„ç»“æœé“¾æ¥åˆ°æµè§ˆå™¨ä¸­æŸ¥çœ‹:</p>
<p><a href="http://sampleserver1b.arcgisonline.com/arcgisoutput/_ags_map0c93dc4727ad40e7b384668fd8a6c1bd.gif" target="_blank" rel="noopener external nofollow noreferrer">http://sampleserver1b.arcgisonline.com/arcgisoutput/_ags_map0c93dc4727ad40e7b384668fd8a6c1bd.gif</a></p>
<p><img src="/assets/images/blog/requests1.png" alt="image"></p>
<h3><span id="4-ä½¿ç”¨arcgis-rest-apiå’ŒpythonæŸ¥è¯¢åœ°å›¾æœåŠ¡">4. ä½¿ç”¨ArcGis REST APIå’ŒPythonæŸ¥è¯¢åœ°å›¾æœåŠ¡</span></h3><ul>
<li><a href="http://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Demographics/ESRI_Census_USA/MapServer/1/query" target="_blank" rel="noopener external nofollow noreferrer">http://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Demographics/ESRI_Census_USA/MapServer/1/query</a><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- codng:utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">ä½¿ç”¨ArcGis REST APIå’ŒPythonæŸ¥è¯¢åœ°å›¾æœåŠ¡</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">import requests</span><br><span class="line">import json</span><br><span class="line"></span><br><span class="line">gisurl &#x3D; &quot;http:&#x2F;&#x2F;sampleserver1.arcgisonline.com&#x2F;ArcGIS&#x2F;rest&#x2F;services&#x2F;Demographics&#x2F;ESRI_Census_USA&#x2F;MapServer&#x2F;1&#x2F;query&quot;</span><br><span class="line"># å‚æ•°</span><br><span class="line">payload &#x3D; &#123;&#39;where&#39; : &#39;STATE_FIPS &#x3D; \&#39;48\&#39; and CNTY_FIPS &#x3D; \&#39;021\&#39;&#39;,</span><br><span class="line">            &#39;returnCountOnly&#39; : &#39;false&#39;,</span><br><span class="line">            &#39;returnIdsOnly&#39; : &#39;false&#39;,</span><br><span class="line">            &#39;returnGeometry&#39; : &#39;false&#39;,</span><br><span class="line">            &#39;outFields&#39; : &#39;POP2000, POP2007, BLKGRP&#39;,</span><br><span class="line">            &#39;f&#39; : &#39;pjson&#39;&#125;</span><br><span class="line">r &#x3D; requests.get(gisurl, params&#x3D;payload)</span><br><span class="line">print(r.text)</span><br><span class="line"># jsonè½¬Pythonå­—å…¸</span><br><span class="line">decoded &#x3D; json.loads(r.text)</span><br><span class="line"></span><br><span class="line"># æ‰“å°éƒ¨åˆ†ä¿¡æ¯</span><br><span class="line">for rlst in decoded[&#39;features&#39;]:</span><br><span class="line">    print(&quot;Block Group: &quot; + str(rlst[&#39;attributes&#39;][&#39;BLKGRP&#39;]))</span><br><span class="line">    print(&quot;pop2000: &quot; + str(rlst[&#39;attributes&#39;][&#39;POP2000&#39;]))</span><br><span class="line">    print(&quot;pop2007: &quot; + str(rlst[&#39;attributes&#39;][&#39;POP2007&#39;]))</span><br></pre></td></tr></table></figure>
<h3><span id="5-ä½¿ç”¨esri-world-geocoding-serviceè¿›è¡Œåœ°ç†ç¼–ç ">5. ä½¿ç”¨Esri World Geocoding Serviceè¿›è¡Œåœ°ç†ç¼–ç </span></h3></li>
<li><a href="http://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find" target="_blank" rel="noopener external nofollow noreferrer">http://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">ä½¿ç”¨Esri World Geocoding Serviceè¿›è¡Œåœ°ç†ç¼–ç </span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import requests</span><br><span class="line">import json</span><br><span class="line"></span><br><span class="line">gisurl &#x3D; &quot;http:&#x2F;&#x2F;geocode.arcgis.com&#x2F;arcgis&#x2F;rest&#x2F;services&#x2F;World&#x2F;GeocodeServer&#x2F;find&quot;</span><br><span class="line">payload &#x3D; &#123;&#39;text&#39;: &#39;1202 Sand Wedge, San Antonio, TX, 78258&#39;,</span><br><span class="line">            &#39;f&#39;: &#39;pjson&#39;&#125;</span><br><span class="line">r &#x3D; requests.get(gisurl, params&#x3D;payload)</span><br><span class="line">print(r.text)</span><br><span class="line">decoded &#x3D; json.loads(r.text)</span><br><span class="line">print(&quot;the geocoded address: &quot; + decoded[&#39;locations&#39;][0][&#39;name&#39;])</span><br><span class="line">print(&quot;the longtitude: &quot; + str(decoded[&#39;locations&#39;][0][&#39;feature&#39;][&#39;geometry&#39;][&#39;x&#39;]))</span><br><span class="line">print(&quot;the longtitude: &quot; + str(decoded[&#39;locations&#39;][0][&#39;feature&#39;][&#39;geometry&#39;][&#39;y&#39;]))</span><br></pre></td></tr></table></figure>
<h3><span id="6-ä½¿ç”¨fieldmappingså’Œfieldmapå®ç°å‡ ä¸ªè¦ç´ ç±»çš„åˆå¹¶merge">6. ä½¿ç”¨FieldMappingså’ŒFieldMap,å®ç°å‡ ä¸ªè¦ç´ ç±»çš„åˆå¹¶(Merge)</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">ä½¿ç”¨FieldMappingså’ŒFieldMap</span><br><span class="line">å®ç°å‡ ä¸ªè¦ç´ ç±»çš„åˆå¹¶(Merge)</span><br><span class="line">å¹¶å°†å…¶ä¸­ä¸€ä¸ªå­—æ®µä¸­çš„å­—ç¬¦åˆ†å‰²æˆä¸‰éƒ¨åˆ†åˆ†åˆ«å†åˆ›å»ºå­—æ®µå­˜å‚¨ä¿å­˜</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">import arcpy</span><br><span class="line">arcpy.env.workspace &#x3D; r&quot;H:\ArcpyBook\data&quot;</span><br><span class="line">try:</span><br><span class="line">    # è¾“å‡ºè¦ç´ ç±»</span><br><span class="line">    outFeatureClass &#x3D; r&quot;H:\ArcpyBook\data\allTracts.shp&quot;</span><br><span class="line"></span><br><span class="line">    # åˆ›å»ºFieldMappingså’ŒFieldMapå¯¹è±¡,FieldMapå¯¹è±¡å°†ç”¨äºå­˜å‚¨å·FIPSç¼–ç ã€å¿FIPSç¼–ç ã€äººå£æ™®æŸ¥åŒºåŸŸå­—æ®µçš„å¼•ç”¨</span><br><span class="line">    fieldmappings &#x3D; arcpy.FieldMappings()</span><br><span class="line">    fldmap_STFIPS &#x3D; arcpy.FieldMap()</span><br><span class="line">    fldmap_CONFIPS &#x3D; arcpy.FieldMap()</span><br><span class="line">    fldmap_TRACT &#x3D; arcpy.FieldMap()</span><br><span class="line"></span><br><span class="line">    # è·å–å·¥ä½œç©ºé—´ä¸­å¿å¤šè¾¹å½¢è¦ç´ åˆ—è¡¨</span><br><span class="line">    fclss &#x3D; arcpy.ListFeatureClasses(&quot;County*&quot;, &quot;Polygon&quot;)</span><br><span class="line"></span><br><span class="line">    # åˆ›å»ºValueTableå¯¹è±¡æ¥å­˜å‚¨éœ€è¦åˆå¹¶çš„è¦ç´ ç±»,åˆ›å»ºFieldMapè¾“å…¥å­—æ®µï¼Œ&quot;STFID&quot;åŒ…å«å·ã€å¿ã€äººå£æ™®æŸ¥</span><br><span class="line">    vTab &#x3D; arcpy.ValueTable()</span><br><span class="line">    for fc in fclss:</span><br><span class="line">        fieldmappings.addTable(fc) # æ·»åŠ æ¯ä¸ªå¿çš„è¡¨</span><br><span class="line">        fldmap_STFIPS.addInputField(fc, &quot;STFID&quot;)</span><br><span class="line">        fldmap_CONFIPS.addInputField(fc, &quot;STFID&quot;)</span><br><span class="line">        fldmap_TRACT.addInputField(fc, &quot;STFID&quot;)</span><br><span class="line">        vTab.addRow(fc) # æ·»åŠ è¡Œ</span><br><span class="line"></span><br><span class="line">    # å¤„ç†è¾“å…¥çš„&quot;STFID&quot;å­—æ®µï¼Œæ•°å­—å‰ä¸¤ä½æ˜¯å·FIPSç¼–ç ï¼Œ3-5ä¸ªå­—ç¬¦æ˜¯å¿FIPSç¼–ç ï¼Œ6-13ä¸ªå­—ç¬¦æ˜¯äººå£æ™®æŸ¥</span><br><span class="line">    for x in range(0, fldmap_STFIPS.inputFieldCount):</span><br><span class="line">        fldmap_STFIPS.setStartTextPosition(x, 0)</span><br><span class="line">        fldmap_STFIPS.setEndTextPosition(x, 1)</span><br><span class="line"></span><br><span class="line">    # è¾“å‡ºå­—æ®µï¼Œå¹¶ä¸ºnameå­—æ®µèµ‹å€¼</span><br><span class="line">    fld_STFIDS &#x3D; fldmap_STFIPS.outputField</span><br><span class="line">    fld_STFIDS.name &#x3D; &quot;STFIDS&quot;</span><br><span class="line">    fldmap_STFIPS.outputField &#x3D; fld_STFIDS</span><br><span class="line"></span><br><span class="line">    # COFIPSå­—æ®µ</span><br><span class="line">    for x in range(0, fldmap_CONFIPS.inputFieldCount):</span><br><span class="line">        fldmap_CONFIPS.setStartTextPosition(x, 2)</span><br><span class="line">        fldmap_CONFIPS.setEndTextPosition(x, 4)</span><br><span class="line">    fld_COFIDS &#x3D; fldmap_CONFIPS.outputField</span><br><span class="line">    fld_COFIDS.name &#x3D; &quot;COFIDS&quot;</span><br><span class="line">    fldmap_CONFIPS.outputField &#x3D; fld_COFIDS</span><br><span class="line"></span><br><span class="line">    # TRACTå­—æ®µ</span><br><span class="line">    for x in range(0, fldmap_TRACT.inputFieldCount):</span><br><span class="line">        fldmap_TRACT.setStartTextPosition(x, 5)</span><br><span class="line">        fldmap_TRACT.setEndTextPosition(x, 12)</span><br><span class="line">    fld_TRACT &#x3D; fldmap_TRACT.outputField</span><br><span class="line">    fld_TRACT.name &#x3D; &quot;TRACT&quot;</span><br><span class="line">    fldmap_TRACT.outputField &#x3D; fld_TRACT</span><br><span class="line"></span><br><span class="line">    # å°†FieldMapå¯¹è±¡æ·»åŠ åˆ°FieldMappingå¯¹è±¡ä¸­</span><br><span class="line">    fieldmappings.addFieldMap(fldmap_STFIPS)</span><br><span class="line">    fieldmappings.addFieldMap(fldmap_CONFIPS)</span><br><span class="line">    fieldmappings.addFieldMap(fldmap_TRACT)</span><br><span class="line"></span><br><span class="line">    # è¿è¡ŒMergeå·¥å…·ï¼Œä¼ å…¥vTabã€è¾“å‡ºè¦ç´ ç±»å’ŒFieldMappingså‚æ•°</span><br><span class="line">    arcpy.Merge_management(vTab, outFeatureClass, fieldmappings)</span><br><span class="line">    print(&quot;Merge completed&quot;)</span><br><span class="line">except Exception as e:</span><br><span class="line">    print(e.message)</span><br></pre></td></tr></table></figure>
<h3><span id="7-ä½¿ç”¨valuetableè®²å¤šå€¼è¾“å…¥åˆ°å·¥å…·ä¸­ä½œä¸ºå‚æ•°">7. ä½¿ç”¨ValueTableè®²å¤šå€¼è¾“å…¥åˆ°å·¥å…·ä¸­ä½œä¸ºå‚æ•°</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*-coding:utf-8-*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">ä½¿ç”¨ValueTableè®²å¤šå€¼è¾“å…¥åˆ°å·¥å…·ä¸­</span><br><span class="line">è¿™é‡Œä»¥å¤šç¯ç¼“å†²åŒºå·¥å…·ä¸ºä¾‹</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">import arcpy</span><br><span class="line"></span><br><span class="line">arcpy.env.workspace &#x3D; r&quot;H:\ArcpyBook\data&quot;</span><br><span class="line"># åˆ›å»ºValueTableå¯¹è±¡</span><br><span class="line">vTab &#x3D; arcpy.ValueTable()</span><br><span class="line"></span><br><span class="line"># è®¾ç½®ä¸‰è¡Œï¼Œå‚æ•°10,20,30</span><br><span class="line">vTab.setRow(0, &quot;10&quot;)</span><br><span class="line">vTab.setRow(1, &quot;20&quot;)</span><br><span class="line">vTab.setRow(2, &quot;30&quot;)</span><br><span class="line"></span><br><span class="line"># å•ä½</span><br><span class="line">bufferUnit &#x3D; &quot;meters&quot;</span><br><span class="line"></span><br><span class="line"># è¾“å…¥è¦ç´ ä¸è¾“å‡ºè¦ç´ </span><br><span class="line">inFeature &#x3D; &quot;Hospitals.shp&quot;</span><br><span class="line">outFeature &#x3D; &quot;Hospitals_mulBuffer.shp&quot;</span><br><span class="line"></span><br><span class="line"># è·ç¦»å‚æ•°ValueTable</span><br><span class="line">dist &#x3D; vTab</span><br><span class="line"></span><br><span class="line"># è°ƒç”¨å¤šç¯ç¼“å†²åŒºå·¥å…·</span><br><span class="line">arcpy.MultipleRingBuffer_analysis(inFeature, outFeature, dist, bufferUnit, &#39;&#39;, &#39;ALL&#39;)</span><br><span class="line">print(&quot;multiple buffer completed&quot;)</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>pythonGIS</tag>
      </tags>
  </entry>
  <entry>
    <title>Arcgisä¸­çš„pythonç¼–ç¨‹(11)</title>
    <url>/2019-07-21-arcgis-python-11.html</url>
    <content><![CDATA[<p>å­¦ä¹ æ—¥å¿—11 å¼‚å¸¸è¯†åˆ«å’Œé”™è¯¯å¤„ç†</p>
<p>ä¹¦ç±ï¼šåŸºäºArcGISçš„Pythonç¼–ç¨‹ç§˜ç¬ˆ(ç¬¬2ç‰ˆ); </p>
<p>å­¦ä¹ <b>ç¬¬åä¸€ç« </b></p>
<ul>
<li>Pythonå¼‚å¸¸å¤„ç†ç»“æ„(try/except/else/finally)</li>
<li>ä½¿ç”¨arcpy.GetMessages()æ•è·è¯¦ç»†çš„æ¶ˆæ¯ä¿¡æ¯</li>
<li>æ ¹æ®ä¸¥é‡æ€§çº§åˆ«ç­›é€‰æ¶ˆæ¯</li>
<li>æµ‹è¯•å’Œå“åº”ç‰¹å®šé”™è¯¯æ¶ˆæ¯</li>
</ul>
<a id="more"></a>

<h3><span id="1-pythonå¼‚å¸¸å¤„ç†ç»“æ„tryexceptelsefinally">1. Pythonå¼‚å¸¸å¤„ç†ç»“æ„(try/except/else/finally)</span></h3><ul>
<li>tryè¯­å¥ä¸­æœ‰é”™è¯¯æ—¶å¯åœ¨exceptè¯­å¥ä¸­æ•è·å…·ä½“çš„é”™è¯¯ä¿¡æ¯</li>
<li>elseè¯­å¥æ˜¯åœ¨tryè¯­å¥æ²¡æœ‰é”™è¯¯æ—¶æ‰§è¡Œ</li>
<li>finallyè¯­å¥æ— è®ºtryè¯­å¥æ˜¯å¦æœ‰é”™éƒ½ä¼šæ‰§è¡Œ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">try&#x2F;exceptæ•è·é”™è¯¯ä¿¡æ¯</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import arcpy</span><br><span class="line">arcpy.env.workspace &#x3D; r&quot;H:\ArcpyBook\data&quot;</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    # æ„å»ºä¸€ä¸ªé”™è¯¯,ç¼ºå°‘è·ç¦»å‚æ•°</span><br><span class="line">    arcpy.Buffer_analysis(&#39;Streams.shp&#39;, &#39;Streams_bf.shp&#39;)</span><br><span class="line">except Exception as e:</span><br><span class="line">    print(e.message)</span><br><span class="line"></span><br><span class="line"># è¿”å›: ERROR 000735: è·ç¦» [å€¼æˆ–å­—æ®µ]: å€¼æ˜¯å¿…éœ€çš„</span><br></pre></td></tr></table></figure>
<h3><span id="2-ä½¿ç”¨arcpygetmessagesæ•è·è¯¦ç»†çš„æ¶ˆæ¯ä¿¡æ¯">2. ä½¿ç”¨arcpy.GetMessages()æ•è·è¯¦ç»†çš„æ¶ˆæ¯ä¿¡æ¯</span></h3><ul>
<li>the function canâ€™t really run in my PC.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">try&#x2F;exceptæ•è·é”™è¯¯ä¿¡æ¯</span><br><span class="line">ä½¿ç”¨arcpy.GetMessages()æ•è·è¯¦ç»†çš„æ¶ˆæ¯ä¿¡æ¯</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import arcpy</span><br><span class="line">try:</span><br><span class="line">    arcpy.env.workspace &#x3D; r&quot;H:\ArcpyBook\data&quot;</span><br><span class="line">    arcpy.Buffer_analysis(&quot;Streams.shp&quot;, &quot;streams_buffer.shp&quot;)</span><br><span class="line">except:</span><br><span class="line">    </span><br><span class="line">    print(arcpy.GetMessages())</span><br></pre></td></tr></table></figure>
<h3><span id="3-æ ¹æ®ä¸¥é‡æ€§çº§åˆ«ç­›é€‰æ¶ˆæ¯">3. æ ¹æ®ä¸¥é‡æ€§çº§åˆ«ç­›é€‰æ¶ˆæ¯</span></h3><ul>
<li>arcpy.GetMessages(0/1/2)</li>
<li>0 :ä¸€èˆ¬çš„æ¶ˆæ¯</li>
<li>1 :è­¦å‘Š</li>
<li>2 :é”™è¯¯</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy</span><br><span class="line">try:</span><br><span class="line">    arcpy.env.workspace &#x3D; &quot;c:&#x2F;ArcpyBook&#x2F;data&quot;</span><br><span class="line">    arcpy.Buffer_analysis(&quot;Streams.shp&quot;,&quot;Streams_Buff.shp&quot;)</span><br><span class="line">except:</span><br><span class="line">    print(arcpy.GetMessages(2))</span><br></pre></td></tr></table></figure>
<h3><span id="4-æµ‹è¯•å’Œå“åº”ç‰¹å®šé”™è¯¯æ¶ˆæ¯">4. æµ‹è¯•å’Œå“åº”ç‰¹å®šé”™è¯¯æ¶ˆæ¯</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy</span><br><span class="line">try:</span><br><span class="line">    arcpy.env.workspace &#x3D; &quot;c:&#x2F;ArcpyBook&#x2F;data&quot;</span><br><span class="line">    arcpy.Buffer_analysis(&quot;Streams.shp&quot;, &quot;Streams_Buff.shp&quot;)</span><br><span class="line">except:</span><br><span class="line">    print(&quot;Error found in Buffer tool \n&quot;)</span><br><span class="line">    errCode &#x3D; arcpy.GetReturnCode(3)</span><br><span class="line">    if str(errCode) &#x3D;&#x3D; &quot;735&quot;:</span><br><span class="line">        print(&quot;Distance value not provided \n&quot;)</span><br><span class="line">        print(&quot;Running the buffer again with a default value \n&quot;)</span><br><span class="line">        defaultDistance &#x3D; &quot;100 Feet&quot;</span><br><span class="line">        arcpy.Buffer_analysis(&quot;Streams.shp&quot;, &quot;Streams_Buff&quot;, defaultDistance)</span><br><span class="line">        print(&quot;Buffer complete&quot;)</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>pythonGIS</tag>
      </tags>
  </entry>
  <entry>
    <title>Arcgisä¸­çš„pythonç¼–ç¨‹(10)</title>
    <url>/2019-07-21-arcgis-python-10.html</url>
    <content><![CDATA[<p>å­¦ä¹ æ—¥å¿—10 ä½¿ç”¨add-inå®šåˆ¶Arcgisç•Œé¢</p>
<p>ä¹¦ç±ï¼šåŸºäºArcGISçš„Pythonç¼–ç¨‹ç§˜ç¬ˆ(ç¬¬2ç‰ˆ); </p>
<p>å­¦ä¹ <b>ç¬¬åç« </b></p>
<blockquote>
<p>Python Add-in Wizard ä¸‹è½½,è§£å‹è¿è¡Œ/bin/..exe</p>
</blockquote>
<blockquote>
<p><a href="http://www.arcgis.com/home/item.html?id=5f3aefe77f6b4f61ad3e4c62f30bff3b" target="_blank" rel="noopener external nofollow noreferrer">http://www.arcgis.com/home/item.html?id=5f3aefe77f6b4f61ad3e4c62f30bff3b</a></p>
</blockquote>
<blockquote>
<p>Python Add-in Wizardæ˜¯ä¸€ä¸ªå¯è§†åŒ–ç•Œé¢å·¥å…·,ç”¨äºåˆ›å»ºæ¡Œé¢ArcgisåŠ è½½é¡¹</p>
</blockquote>
<ul>
<li>åˆ›å»ºæŒ‰é’®åŠ è½½é¡¹å’Œä½¿ç”¨PythonåŠ è½½é¡¹</li>
<li>å®‰è£…æµ‹è¯•åŠ è½½é¡¹</li>
<li>åˆ›å»ºå·¥å…·åŠ è½½é¡¹</li>
</ul>
<a id="more"></a>

<h3><span id="1åˆ›å»ºæŒ‰é’®åŠ è½½é¡¹å’Œä½¿ç”¨pythonåŠ è½½é¡¹">1.åˆ›å»ºæŒ‰é’®åŠ è½½é¡¹å’Œä½¿ç”¨PythonåŠ è½½é¡¹</span></h3><p>æœ¬ä¾‹åˆ›å»ºä¸€ä¸ªæŒ‰é’®åŠ è½½é¡¹,æ·»åŠ ä¸€äº›æ•°æ®åˆ°æ•°æ®æ¡†</p>
<ul>
<li>è¿è¡Œaddin_assistant.exe</li>
</ul>
<p><img src="/assets/images/blog/pythonAddin1.png" alt="image"></p>
<p><img src="/assets/images/blog/pythonAddin2.png" alt="image"></p>
<p>æ·»åŠ æŒ‰é’®<br><img src="/assets/images/blog/pythonAddin3.png" alt="image"></p>
<p>ä¿å­˜æ–‡ä»¶/installä¸­ç¼–è¾‘addin-rootfile_addin.py</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy</span><br><span class="line">import pythonaddins</span><br><span class="line"></span><br><span class="line">class ButtonClassImportWildfires(object):</span><br><span class="line">    &quot;&quot;&quot;Implementation for addin-rootfile_addin.button (Button)&quot;&quot;&quot;</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.enabled &#x3D; True</span><br><span class="line">        self.checked &#x3D; False</span><br><span class="line">    def onClick(self):</span><br><span class="line">        layer_files &#x3D; pythonaddins.OpenDialog(&quot;Select layer to add&quot;, True, </span><br><span class="line">                r&quot;H:\ArcpyBook\data\Wildfires&quot;, &quot;Add&quot;)</span><br><span class="line">        mxd &#x3D; arcpy.mapping.MapDocument(&quot;current&quot;) # è·å–mxdæ–‡æ¡£</span><br><span class="line">        df &#x3D; pythonaddins.GetSelectedTOCLayerOrDataFrame() # è·å–æ•°æ®æ¡†</span><br><span class="line">        if not isinstance(df, layer_files): # åˆ¤æ–­ç±»å‹æ˜¯å¦ç›¸åŒ</span><br><span class="line">            for layer_file in layer_files:</span><br><span class="line">                layer &#x3D; arcpy.mapping.Layer(layer_file)</span><br><span class="line">                # å¾€æ•°æ®æ¡†æ·»åŠ layer</span><br><span class="line">                arcpy.mapping.AddLayer(df, layer)</span><br><span class="line">            else:</span><br><span class="line">                pythonaddins.MessageBox(&#39;Select a dataframe&#39;, &#39;info&#39;, 0)</span><br></pre></td></tr></table></figure>
<h3><span id="2-å®‰è£…æµ‹è¯•åŠ è½½é¡¹">2. å®‰è£…æµ‹è¯•åŠ è½½é¡¹</span></h3><ol>
<li>æ‰“å¼€åŠ è½½é¡¹å·¥ä½œç›®å½•</li>
</ol>
<p><img src="/assets/images/blog/pythonAddin4.png" alt="image"></p>
<ol start="2">
<li>åŒå‡»makeaddin.pyä»¥åˆ›å»ºaddin-rootfile.esriaddin</li>
<li>åŒå‡»addin-rootfile.esriaddin</li>
</ol>
<p><img src="/assets/images/blog/pythonAddin5.png" alt="image"></p>
<p><img src="/assets/images/blog/pythonAddin6.png" alt="image"></p>
<p><img src="/assets/images/blog/pythonAddin7.png" alt="image"></p>
<ol start="4">
<li><b>æ³¨æ„</b><br>å·¥å…·æ¡å‡ºç°<b>ç¼ºå¤±</b>é—®é¢˜</li>
</ol>
<p><b>è§£å†³:å°†ç”Ÿæˆçš„xxxx.esriaddinæ–‡ä»¶æ”¾åˆ°C:\Users\username\Documents\ArcGIS\AddIns\Desktop10.6(å¯¹åº”ç‰ˆæœ¬ä¸‹)</b></p>
<h3><span id="3-åˆ›å»ºå·¥å…·åŠ è½½é¡¹">3. åˆ›å»ºå·¥å…·åŠ è½½é¡¹</span></h3><ul>
<li>åŠŸèƒ½: åœ¨ä¸€ä¸ªé¢è¦ç´ å†…éƒ¨åˆ›å»ºéšæœºç‚¹</li>
</ul>
<ol>
<li>åŒæ ·ä½¿ç”¨Python Add-inå·¥å…·</li>
<li>å³å‡»æ·»åŠ å·¥å…·</li>
</ol>
<p><img src="/assets/images/blog/pythonAddin8.png" alt="image"></p>
<ol start="3">
<li>/install/ä¸‹ç¼–è¾‘Generate Random Point_addin.pyæ–‡ä»¶ï¼Œæ›´æ”¹ä»¥ä¸‹éƒ¨åˆ†</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy</span><br><span class="line">import pythonaddins</span><br><span class="line"></span><br><span class="line">def __init__(self):</span><br><span class="line">  self.enabled &#x3D; True</span><br><span class="line">  self.cursor &#x3D; 3</span><br><span class="line">  self.shape &#x3D; &#39;Rectangle&#39;</span><br><span class="line"></span><br><span class="line">def onRectangle(self, rectangle_geometry):</span><br><span class="line">    extent &#x3D; rectangle_geometry</span><br><span class="line">    arcpy.env.workspace &#x3D; r&#39;c:\ArcpyBook\Ch10&#39;</span><br><span class="line">    if arcpy.Exists(&#39;randompts.shp&#39;):</span><br><span class="line">        arcpy.Delete_management(&#39;randompts.shp&#39;)</span><br><span class="line">        randompts &#x3D; arcpy.CreateRandomPoints_management(arcpy.env.workspace,&#39;randompts.shp&#39;,&quot;&quot;,rectangle_geometry)</span><br><span class="line">        arcpy.RefreshActiveView()</span><br><span class="line">    return randompts</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>è¿è¡Œmakeaddin.pyç”ŸæˆGenerate Random Point.esriaddin</li>
<li>å°†Generate Random Point.esriaddinå¤åˆ¶åˆ°C:\Users\username\Documents\ArcGIS\AddIns\Desktop10.6(å¯¹åº”ç‰ˆæœ¬ä¸‹)</li>
<li>æ‰“å¼€ArcMap10.6æµ‹è¯•</li>
</ol>
]]></content>
      <tags>
        <tag>pythonGIS</tag>
      </tags>
  </entry>
  <entry>
    <title>Arcgisä¸­çš„pythonç¼–ç¨‹(9)</title>
    <url>/2019-07-19-arcgis-python-9.html</url>
    <content><![CDATA[<p>å­¦ä¹ æ—¥å¿—9 è·å–GISæ•°æ®åˆ—è¡¨å’Œæè¿°</p>
<p>ä¹¦ç±ï¼šåŸºäºArcGISçš„Pythonç¼–ç¨‹ç§˜ç¬ˆ(ç¬¬2ç‰ˆ); </p>
<p>å­¦ä¹ <b>ç¬¬ä¹ç« </b></p>
<ul>
<li>è·å–å·¥ä½œç©ºé—´è¦ç´ ç±»åˆ—è¡¨</li>
<li>è·å–è¦ç´ ä¸­çš„å­—æ®µåˆ—è¡¨</li>
<li>ä½¿ç”¨Describe()å‡½æ•°è¿”å›è¦ç´ ç±»çš„æè¿°æ€§ä¿¡æ¯</li>
<li>å®ç”¨Describe()å‡½æ•°è¿”å›æ …æ ¼å›¾åƒçš„æè¿°æ€§ä¿¡æ¯</li>
</ul>
<a id="more"></a>

<h3><span id="1-è·å–å·¥ä½œç©ºé—´è¦ç´ ç±»åˆ—è¡¨">1. è·å–å·¥ä½œç©ºé—´è¦ç´ ç±»åˆ—è¡¨</span></h3><ul>
<li>arcpy.ListFeatureClasses({wild_card}, {feature_type}, {feature_dataset})</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">è·å–å·¥ä½œç©ºé—´è¦ç´ ç±»åˆ—è¡¨</span><br><span class="line">arcpy.ListFeatureClasses(&#123;wild_card&#125;, &#123;feature_type&#125;, &#123;feature_dataset&#125;)</span><br><span class="line">ä¸‰ä¸ªå¯é€‰å‚æ•°,1:é€šé…ç¬¦,2:è¦ç´ ç±»å‹(ç‚¹çº¿é¢),3:æ•°æ®é›†</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import arcpy</span><br><span class="line"></span><br><span class="line">arcpy.env.workspace &#x3D; r&quot;H:\ArcpyBook\data\CityOfSanAntonio.gdb&quot;</span><br><span class="line">#ã€€è·å–æ–‡ä»¶åœ°ç†æ•°æ®åº“ä¸­çš„è¦ç´ ç±»åˆ—è¡¨ï¼Œé™åˆ¶ä»¥ï¼‚Cï¼‚å¼€å¤´</span><br><span class="line">fclist &#x3D; arcpy.ListFeatureClasses(&quot;C*&quot;)</span><br><span class="line"># éå†è¾“å‡º</span><br><span class="line">for fc in fclist:</span><br><span class="line">    print(&quot;feature name:&#123;0&#125;&quot;.format(fc))</span><br></pre></td></tr></table></figure>
<h3><span id="2-è·å–è¦ç´ ä¸­çš„å­—æ®µåˆ—è¡¨">2. è·å–è¦ç´ ä¸­çš„å­—æ®µåˆ—è¡¨</span></h3><ul>
<li>arcpy.ListFields(dataset, {wild_card}, {field_type})</li>
<li>å¿…é€‰å‚æ•°: è¾“å…¥è¦ç´ </li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">è·å–è¦ç´ ä¸­çš„å­—æ®µåˆ—è¡¨</span><br><span class="line">arcpy.ListFields(dataset, &#123;wild_card&#125;, &#123;field_type&#125;)</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">import arcpy</span><br><span class="line">arcpy.env.workspace &#x3D; r&quot;H:\ArcpyBook\data\CityOfSanAntonio.gdb&quot;</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    # è·å–è¦ç´ çš„å­—æ®µåˆ—è¡¨</span><br><span class="line">    fdlist &#x3D; arcpy.ListFields(&quot;BexarCountyBoundaries&quot;)</span><br><span class="line">    for fd in fdlist:</span><br><span class="line">        print(&quot;%s data type %s, data length: %i&quot; % (fd.name,</span><br><span class="line">                fd.type, fd.length))</span><br><span class="line">except Exception as e:</span><br><span class="line">    print(e.message)</span><br></pre></td></tr></table></figure>
<h3><span id="3-ä½¿ç”¨describeå‡½æ•°è¿”å›è¦ç´ ç±»çš„æè¿°æ€§ä¿¡æ¯">3. ä½¿ç”¨Describe()å‡½æ•°è¿”å›è¦ç´ ç±»çš„æè¿°æ€§ä¿¡æ¯</span></h3><ul>
<li>descFC = arcpy.Describe(â€œBurglaryâ€)</li>
<li>Describeå¯¹è±¡çš„å±æ€§å¾ˆå¤šï¼Œä¾‹:descFC.ShapeType, descFC.fields</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">ä½¿ç”¨Describe()å‡½æ•°è¿”å›è¦ç´ ç±»çš„æè¿°æ€§ä¿¡æ¯</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import arcpy</span><br><span class="line"></span><br><span class="line">arcpy.env.workspace &#x3D; r&quot;H:\ArcpyBook\data\CityOfSanAntonio.gdb&quot;</span><br><span class="line"># åˆ›å»ºDescribe()è¦ç´ æè¿°å¯¹è±¡</span><br><span class="line">descFC &#x3D; arcpy.Describe(&quot;Burglary&quot;)</span><br><span class="line"># æ‰“å°å¯¹è±¡ä¿¡æ¯</span><br><span class="line">print(&quot;the feature&#39;s shape type is &quot; + descFC.ShapeType)</span><br><span class="line"></span><br><span class="line"># è·å–è¦ç´ å¯¹è±¡å­—æ®µ</span><br><span class="line">fcFields &#x3D; descFC.fields</span><br><span class="line">for field in fcFields:</span><br><span class="line">    print(&quot;name:&#123;0&#125;,datatype:&#123;1&#125;,length:&#123;2&#125;&quot;.format(field.name, field.type, str(field.length)))</span><br><span class="line"># è·å–è¦ç´ èŒƒå›´</span><br><span class="line">ext &#x3D; descFC.extent</span><br><span class="line">print(&quot;xmin:%s&quot; % ext.XMin)</span><br><span class="line">print(&quot;ymin:%s&quot; % ext.YMin)</span><br><span class="line">print(&quot;xmax:%s&quot; % ext.XMax)</span><br><span class="line">print(&quot;ymax:%s&quot; % ext.YMax)</span><br></pre></td></tr></table></figure>
<h3><span id="4-å®ç”¨describeå‡½æ•°è¿”å›æ …æ ¼å›¾åƒçš„æè¿°æ€§ä¿¡æ¯">4. å®ç”¨Describe()å‡½æ•°è¿”å›æ …æ ¼å›¾åƒçš„æè¿°æ€§ä¿¡æ¯</span></h3><ul>
<li>descRaster = arcpy.Describe(â€œAUSTIN_EAST_NW.sidâ€)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- conding:uft-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">å®ç”¨Describe()å‡½æ•°è¿”å›æ …æ ¼å›¾åƒçš„æè¿°æ€§ä¿¡æ¯</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import arcpy</span><br><span class="line"></span><br><span class="line">arcpy.env.workspace &#x3D; r&quot;H:\ArcpyBook\data&quot;</span><br><span class="line">try:</span><br><span class="line">    # åˆ›å»ºæè¿°æ€§å¯¹è±¡</span><br><span class="line">    descRaster &#x3D; arcpy.Describe(&quot;AUSTIN_EAST_NW.sid&quot;)</span><br><span class="line">    # è·å–æ …æ ¼å¯¹è±¡çš„èŒƒå›´</span><br><span class="line">    ext &#x3D; descRaster.extent</span><br><span class="line">    print(&quot;xmin %f&quot; % ext.XMin)</span><br><span class="line">    print(&quot;ymin %f&quot; % ext.YMin)</span><br><span class="line">    print(&quot;xmax %f&quot; % ext.XMax)</span><br><span class="line">    print(&quot;ymax %f&quot; % ext.YMax)</span><br><span class="line">    # è·å–æ …æ ¼å¯¹è±¡ç©ºé—´å‚è€ƒ</span><br><span class="line">    sr &#x3D; descRaster.SpatialReference</span><br><span class="line">    print(sr.name) # æ‰“å°ç©ºé—´å‚è€ƒå</span><br><span class="line">    print(sr.type) # æ‰“å°ç©ºé—´ç±»å‹å</span><br><span class="line">except Exception as e:</span><br><span class="line">    print(e.message)</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>pythonGIS</tag>
      </tags>
  </entry>
  <entry>
    <title>Arcgisä¸­çš„pythonç¼–ç¨‹(8)</title>
    <url>/2019-07-18-arcgis-python-8.html</url>
    <content><![CDATA[<p>å­¦ä¹ æ—¥å¿—8     æŸ¥è¯¢å’Œé€‰æ‹©æ•°æ®</p>
<p>ä¹¦ç±ï¼šåŸºäºArcGISçš„Pythonç¼–ç¨‹ç§˜ç¬ˆ(ç¬¬2ç‰ˆ); </p>
<p>å­¦ä¹ <b>ç¬¬å…«ç« </b></p>
<ul>
<li>ä½¿ç”¨SearchCursoræ£€ç´¢è¦ç´ ç±»ä¸­çš„è¦ç´ </li>
<li>ä½¿ç”¨å‡ ä½•ä»¤ç‰Œå‚æ•°çš„SearchCursor()</li>
<li>ä½¿ç”¨InsertCursor(),ä»æ–‡æœ¬æ–‡ä»¶è¯»å–æ•°æ®ç»™è¦ç´ æ·»åŠ è®°å½•</li>
<li>UpdateCursor()åˆ›å»ºå¯¹è±¡,updateRow()æ–¹æ³•æ›´æ–°è¡¨ä¸­æ¯ä¸€è¡Œ</li>
<li>UpdateCursor()å¯¹è±¡çš„deleteRow(),åˆ é™¤ç‰¹å®šè®°å½•</li>
<li>åœ¨ç¼–è¾‘ä¼šè¯ä¸­æ’å…¥å’Œæ›´æ–°è¡Œ</li>
<li>è¯»å–è¦ç´ ç±»ä¸­çš„å‡ ä½•ä¿¡æ¯</li>
<li>ä½¿ç”¨Walk()éå†ç›®å½•</li>
</ul>
<a id="more"></a>

<h3><span id="1-ä½¿ç”¨searchcursoræ£€ç´¢è¦ç´ ç±»ä¸­çš„è¦ç´ ">1. ä½¿ç”¨SearchCursoræ£€ç´¢è¦ç´ ç±»ä¸­çš„è¦ç´ </span></h3><ul>
<li>arcpy.da.SearchCursor(â€œSchools.shpâ€, (â€œFACILITYâ€, â€œNAMEâ€), â€˜â€œFACILITYâ€ = &#39;HIGH SCHOOL&#39;â€˜)</li>
</ul>
<p>å‚æ•°1: è¦ç´ ,è¡¨ </p>
<p>å‚æ•°2: è¿”å›å“ªäº›å€¼å­—æ®µ</p>
<p>å‚æ•°3: whereå­å¥,å³é™åˆ¶æ¡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">arcpy.da.SearchCursor()</span><br><span class="line">æŸ¥è¯¢è¦ç´ ç±»ä¸­çš„è¦ç´ </span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import arcpy.da</span><br><span class="line">arcpy.env.workspace &#x3D; r&quot;H:\ArcpyBook\Ch8&quot;</span><br><span class="line"># åˆ›å»ºSearchCursor()</span><br><span class="line"></span><br><span class="line"># with arcpy.da.SearchCursor(&quot;Schools.shp&quot;, (&quot;FACILITY&quot;, &quot;NAME&quot;)) as cursor:</span><br><span class="line">#     for row in sorted(cursor):</span><br><span class="line"></span><br><span class="line">#         print(&quot;School facility and name:&quot; + row[0] + &quot; &quot; + row[1])</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºSearchCursor() å¹¶æ·»åŠ whereå­å¥</span><br><span class="line">with arcpy.da.SearchCursor(&quot;Schools.shp&quot;, (&quot;FACILITY&quot;, &quot;NAME&quot;), </span><br><span class="line">        &#39;&quot;FACILITY&quot; &#x3D; \&#39;HIGH SCHOOL\&#39;&#39;) as cursor:</span><br><span class="line">     for row in sorted(cursor):</span><br><span class="line">         print(&quot;name:&#123;0&#125;, facility:&#123;1&#125;&quot;.format(row[1], row[0]))</span><br></pre></td></tr></table></figure>
<h3><span id="2-ä½¿ç”¨å‡ ä½•ä»¤ç‰Œå‚æ•°çš„searchcursor">2. ä½¿ç”¨å‡ ä½•ä»¤ç‰Œå‚æ•°çš„SearchCursor()</span></h3><ul>
<li>arcpy.da.SearchCursor(â€œcoa_parcels.shpâ€, (â€œPY_FULL_OWâ€, â€œSHAPE@XYâ€))</li>
</ul>
<p>SHAPE@XY è¿”å› ä¸€ç»„è¦ç´ çš„è´¨å¿ƒ x,y åæ ‡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">ä½¿ç”¨å‡ ä½•ä»¤ç‰Œ</span><br><span class="line">SearchCursor()</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import arcpy.da</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line">arcpy.env.workspace &#x3D; r&quot;H:\ArcpyBook\Ch8&quot;</span><br><span class="line">start &#x3D; time.clock() #ã€€è®°å½•æ—¶é—´</span><br><span class="line"># ä½¿ç”¨å‡ ä½•ä»¤ç‰Œè¿›è¡Œæ¸¸æ ‡æœç´¢æ“ä½œ</span><br><span class="line"># SHAPE@XY è¿”å› ä¸€ç»„è¦ç´ çš„è´¨å¿ƒ x,y åæ ‡ã€‚</span><br><span class="line"></span><br><span class="line">with arcpy.da.SearchCursor(&quot;coa_parcels.shp&quot;, (&quot;PY_FULL_OW&quot;, &quot;SHAPE@XY&quot;)) as cursor:</span><br><span class="line">    for row in cursor:</span><br><span class="line">        print(&quot;PY_FULL_OW: &#123;0&#125;, Location: &#123;1&#125;&quot;.format(row[0], row[1]))</span><br><span class="line"></span><br><span class="line">elasped &#x3D; time.clock() - start</span><br><span class="line">print(&quot;\nç”¨æ—¶: &quot; + str(elasped))</span><br></pre></td></tr></table></figure>
<h3><span id="3ä½¿ç”¨insertcursorä»æ–‡æœ¬æ–‡ä»¶è¯»å–æ•°æ®ç»™è¦ç´ æ·»åŠ è®°å½•">3.ä½¿ç”¨InsertCursor(),ä»æ–‡æœ¬æ–‡ä»¶è¯»å–æ•°æ®ç»™è¦ç´ æ·»åŠ è®°å½•</span></h3><ul>
<li>arcpy.da.InsertCursor(â€œFireIncidentsâ€, (â€œSHAPE@XYâ€, â€œCONFIDENCEVALUEâ€))</li>
<li>å‚æ•°1ï¼šè¦ç´ ,è¡¨</li>
<li>å‚æ•°2ï¼šFieldå­—æ®µ, SHAPE@XYå‡ ä½•x,yåæ ‡ï¼Œâ€CONFIDENCEVALUEâ€å­—æ®µå</li>
<li>cursor.insertRow([(latitude, longitude), confid]) ç»™InsertCursorå¯¹è±¡æ’å…¥è¡Œ </li>
<li>[(latitude, longitude), confid]å¯¹åº”(â€œSHAPE@XYâ€, â€œCONFIDENCEVALUEâ€)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">ä½¿ç”¨InsertCursor()</span><br><span class="line">ä»æ–‡æœ¬æ–‡ä»¶è¯»å–æ•°æ®ç»™è¦ç´ æ·»åŠ è®°å½•</span><br><span class="line">æ–‡æœ¬æ–‡ä»¶ä¸ºåŒ—ç¾æŸåœ°åŒºè’åœ°å¤§ç«äº‹ä»¶</span><br><span class="line">æ¯è¡Œä¸ºçº¬åº¦,ç»åº¦,ç½®ä¿¡åº¦</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import arcpy</span><br><span class="line">import arcpy.da</span><br><span class="line">arcpy.env.workspace &#x3D; r&quot;H:\ArcpyBook\Ch8\WildfireData\WildlandFires.mdb&quot;</span><br><span class="line"># è¯»å–txtæ–‡ä»¶</span><br><span class="line">f &#x3D; open(r&quot;H:\ArcpyBook\Ch8\WildfireData\NorthAmericaWildfires_2007275.txt&quot;, &quot;r&quot;)</span><br><span class="line">lstfires &#x3D; f.readlines()</span><br><span class="line"># åˆ›å»ºInsertCursor()å˜é‡</span><br><span class="line">try:</span><br><span class="line">    with arcpy.da.InsertCursor(&quot;FireIncidents&quot;, (&quot;SHAPE@XY&quot;, &quot;CONFIDENCEVALUE&quot;)) as cursor:</span><br><span class="line">        cnt &#x3D; 1 # è®¡æ•°</span><br><span class="line">        for lstRow in lstfires: # éå†æ–‡ä»¶æ¯ä¸€è¡Œ</span><br><span class="line">            if &#39;Latitude&#39; in lstRow:</span><br><span class="line">                continue</span><br><span class="line">            vals &#x3D; lstRow.split(&#39;,&#39;) # ä»¥ , åˆ†å‰²</span><br><span class="line">            latitude &#x3D; float(vals[0]) # çº¬åº¦</span><br><span class="line">            longitude &#x3D; float(vals[1]) # ç»åº¦</span><br><span class="line">            confid &#x3D; int(vals[2]) # ç½®ä¿¡åº¦</span><br><span class="line">            # å°†è¦ç´ æ¯ä¸€è¡Œçš„æ’å…¥æ•°æ®ä¿å­˜</span><br><span class="line">            rowFire &#x3D; [(latitude, longitude), confid]</span><br><span class="line">            # æ’å…¥è¦ç´ </span><br><span class="line">            cursor.insertRow(rowFire)</span><br><span class="line">            print(&quot;æ’å…¥&#123;0&#125; æ¡è®°å½•&quot;.format(str(cnt)))</span><br><span class="line">            cnt &#x3D; cnt + 1</span><br><span class="line">except Exception as e:</span><br><span class="line">    print(e.message)</span><br><span class="line">finally:</span><br><span class="line">    f.close() # å…³é—­æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<h3><span id="4updatecursoråˆ›å»ºå¯¹è±¡updaterowæ–¹æ³•æ›´æ–°è¡¨ä¸­æ¯ä¸€è¡Œ">4.UpdateCursor()åˆ›å»ºå¯¹è±¡,updateRow()æ–¹æ³•æ›´æ–°è¡¨ä¸­æ¯ä¸€è¡Œ</span></h3><ul>
<li>arcpy.da.UpdateCursor(â€œFireIncidentsâ€, (â€œCONFIDENCEVALUEâ€, â€œCONFID_RATINGâ€))</li>
<li>å‚æ•°1ï¼šè¦ç´ ,è¡¨</li>
<li>å‚æ•°2ï¼šField</li>
<li>AddField_management()  ç»™è¡¨ä¸­æ·»åŠ å­—æ®µ:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">ä½¿ç”¨UpdateCursor()åˆ›å»ºå¯¹è±¡</span><br><span class="line">updateRow()æ–¹æ³•æ›´æ–°è¡¨ä¸­æ¯ä¸€è¡Œ</span><br><span class="line">ç»™è¡¨ä¸­æ·»åŠ å­—æ®µ: AddField_management()</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import arcpy</span><br><span class="line">arcpy.env.workspace &#x3D; r&quot;H:\ArcpyBook\Ch8\WildfireData\WildlandFires.mdb&quot;</span><br><span class="line"># æ·»åŠ å­—æ®µ</span><br><span class="line">arcpy.AddField_management(&quot;FireIncidents&quot;, &quot;CONFID_RATING&quot;, &quot;TEXT&quot;, &quot;10&quot;)</span><br><span class="line">print(&quot;æ·»åŠ å­—æ®µCONFID_RATINGæˆåŠŸ&quot;)</span><br><span class="line">try:</span><br><span class="line">    # åˆ›å»ºUpdateCurSor()å¯¹è±¡</span><br><span class="line">    with arcpy.da.UpdateCursor(&quot;FireIncidents&quot;, </span><br><span class="line">            (&quot;CONFIDENCEVALUE&quot;, &quot;CONFID_RATING&quot;)) as cursor:</span><br><span class="line">        cnt &#x3D; 1 # è®¡æ•°</span><br><span class="line">        for row in cursor: # éå†æ¯ä¸€è¡Œ</span><br><span class="line">            # ç»™æ–°å»ºå­—æ®µCONFID_RATINGèµ‹å€¼</span><br><span class="line">            if row[0] &lt;&#x3D; 40:</span><br><span class="line">                row[1] &#x3D; &#39;Poor&#39;</span><br><span class="line">            elif row[0] &gt; 40 and row[0] &lt;&#x3D; 60:</span><br><span class="line">                row[1] &#x3D; &#39;Fair&#39;</span><br><span class="line">            elif row[0] &gt; 60 and row[0] &lt;&#x3D; 85:</span><br><span class="line">                row[1] &#x3D; &#39;Good&#39;</span><br><span class="line">            else:</span><br><span class="line">                row[1] &#x3D; &#39;Excellent&#39;</span><br><span class="line">            # è°ƒç”¨updateRow()æ–¹æ³•æ›´æ–°æ¯ä¸€è¡Œ</span><br><span class="line">            cursor.updateRow(row)</span><br><span class="line">            print(&quot;æ›´æ–°äº†&#123;0&#125;æ¡è®°å½•&quot;.format(str(cnt)))</span><br><span class="line">            cnt &#x3D; cnt + 1</span><br><span class="line">except Exception as e:</span><br><span class="line">    print(e.message)</span><br></pre></td></tr></table></figure>
<h3><span id="5-updatecursorå¯¹è±¡çš„deleterowåˆ é™¤ç‰¹å®šè®°å½•">5. UpdateCursor()å¯¹è±¡çš„deleteRow(),åˆ é™¤ç‰¹å®šè®°å½•</span></h3><ul>
<li>rcpy.da.UpdateCursor(â€œFireIncidentsâ€, (â€œCONFID_RATINGâ€), â€œ[CONFID_RATING] = &#39;Poor&#39;â€œ)</li>
<li>æ³¨æ„ï¼šä¸ªäººåœ°ç†æ•°æ®åº“æ„å»ºæŸ¥è¯¢è¯­å¥å­—æ®µåä½¿ç”¨[]æ‹¬èµ·æ¥è€Œä¸æ˜¯â€â€<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">UpdateCursor()å¯¹è±¡çš„deleteRow()</span><br><span class="line">åˆ é™¤ç‰¹å®šè®°å½•</span><br><span class="line">æ³¨æ„ï¼šä¸ªäººåœ°ç†æ•°æ®åº“æ„å»ºæŸ¥è¯¢è¯­å¥å­—æ®µåä½¿ç”¨[]æ‹¬èµ·æ¥è€Œä¸æ˜¯&quot;&quot;</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import arcpy</span><br><span class="line"></span><br><span class="line">arcpy.env.workspace &#x3D; r&quot;H:\ArcpyBook\Ch8\WildfireData\WildlandFires.mdb&quot;</span><br><span class="line">try:</span><br><span class="line">    cnt &#x3D; 1 # è®¡æ•°</span><br><span class="line">    # æ„å»ºUpdateCursor()å¯¹è±¡</span><br><span class="line">    with arcpy.da.UpdateCursor(&quot;FireIncidents&quot;, (&quot;CONFID_RATING&quot;), </span><br><span class="line">            &quot;[CONFID_RATING] &#x3D; \&#39;Poor\&#39;&quot;) as cursor:</span><br><span class="line">        # éå†è¿”å›çš„å¯¹è±¡</span><br><span class="line">        for row in cursor:</span><br><span class="line">            cursor.deleteRow() # åˆ é™¤å½“å‰è¡Œ</span><br><span class="line">            print(&quot;åˆ é™¤&#123;0&#125;æ¡è®°å½•&quot;.format(str(cnt)))</span><br><span class="line">            cnt &#x3D; cnt + 1</span><br><span class="line">except Exception as e:</span><br><span class="line">    print(e.message)</span><br></pre></td></tr></table></figure>
<h3><span id="6åœ¨ç¼–è¾‘ä¼šè¯ä¸­æ’å…¥å’Œæ›´æ–°è¡Œ">6.åœ¨ç¼–è¾‘ä¼šè¯ä¸­æ’å…¥å’Œæ›´æ–°è¡Œ</span></h3></li>
<li>åœ¨ç¼–è¾‘ä¼šè¯å¤–çš„æ’å…¥æ›´æ–°æ“ä½œæ˜¯ä¸å¯æ›´æ”¹çš„</li>
<li>åœ¨ç¼–è¾‘ä¼šè¯ä¸­çš„æ“ä½œæ˜¯å¯ä»¥æ’¤é”€çš„</li>
<li>edit = arcpy.da.Editor(râ€H:\ArcpyBook\Ch8\WildfireData\WildlandFires.mdbâ€)</li>
<li>edit.startEditing(True)</li>
<li>edit.stopEditing(True) åœæ­¢ç¼–è¾‘,Trueè¡¨ç¤ºä¿å­˜æ“ä½œ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">åœ¨ç¼–è¾‘ä¼šè¯ä¸­ä½¿ç”¨æ’å…¥å’Œæ›´æ–°æ“ä½œ</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import arcpy</span><br><span class="line"></span><br><span class="line">arcpy.env.workspace &#x3D; r&quot;H:\ArcpyBook\Ch8\WildfireData\WildlandFires.mdb&quot;</span><br><span class="line">try:</span><br><span class="line">    cnt &#x3D; 1 # è®¡æ•°</span><br><span class="line">    # æ„å»ºç¼–è¾‘ä¼šè¯å¯¹è±¡</span><br><span class="line">    edit &#x3D; arcpy.da.Editor(r&quot;H:\ArcpyBook\Ch8\WildfireData\WildlandFires.mdb&quot;)</span><br><span class="line">    edit.startEditing(True) # å¼€å§‹ç¼–è¾‘</span><br><span class="line">    with arcpy.da.UpdateCursor(&quot;FireIncidents&quot;, </span><br><span class="line">            (&quot;CONFIDENCEVALUE&quot;, &quot;CONFID_RATING&quot;)) as cursor:</span><br><span class="line">        for row in cursor: # éå†</span><br><span class="line">            if row[0] &gt; 40 and row[0] &lt;&#x3D; 60:</span><br><span class="line">                row[1] &#x3D; &quot;GOOD&quot;</span><br><span class="line">            elif row[0] &gt; 60 and row[0] &lt;&#x3D; 80:</span><br><span class="line">                row[1] &#x3D; &quot;BETTER&quot;</span><br><span class="line">            else:</span><br><span class="line">                row[1] &#x3D; &quot;BEST&quot;</span><br><span class="line">            cursor.updateRow(row) # æ›´æ–°æ“ä½œ</span><br><span class="line">            print(&quot;æ›´æ–°äº†&#123;0&#125;æ¡è®°å½•&quot;.format(str(cnt)))</span><br><span class="line">            cnt &#x3D; cnt + 1</span><br><span class="line">    edit.stopEditing(True) # åœæ­¢ç¼–è¾‘,Trueè¡¨ç¤ºä¿å­˜æ“ä½œ</span><br><span class="line">except Exception as e:</span><br><span class="line">    print(e.message)</span><br></pre></td></tr></table></figure>
<h3><span id="7è¯»å–è¦ç´ ç±»ä¸­çš„å‡ ä½•ä¿¡æ¯">7.è¯»å–è¦ç´ ç±»ä¸­çš„å‡ ä½•ä¿¡æ¯</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">è¯»å–è¦ç´ ç±»çš„å‡ ä½•ä¿¡æ¯</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import arcpy</span><br><span class="line"># è¾“å…¥é¢è¦ç´ </span><br><span class="line">infc &#x3D; r&quot;H:\ArcpyBook\data\CityOfSanAntonio.gdb\SchoolDistricts&quot;</span><br><span class="line"># éå†è¦ç´ çš„SearchCursorå¯¹è±¡</span><br><span class="line">for row in arcpy.da.SearchCursor(infc, [&quot;OID@&quot;, &quot;SHAPE@&quot;]):</span><br><span class="line">    print(&quot;Object ID:&#123;0&#125;&quot;.format(row[0])) # æ‰“å°OID</span><br><span class="line">    partnum &#x3D; 0 # è®¡æ•°</span><br><span class="line">    for part in row[1]: # éå†å‡ ä½•ä¿¡æ¯çš„æ¯ä¸€éƒ¨åˆ†</span><br><span class="line">        print(&quot;partnum:&#123;0&#125;&quot;.format(partnum))</span><br><span class="line">        for pnt in part: # éå†ç‚¹</span><br><span class="line">            if pnt:</span><br><span class="line">                print(&quot;&#123;0&#125;,&#123;1&#125;&quot;.format(pnt.X, pnt.Y))</span><br><span class="line">            else:</span><br><span class="line">                print(&quot;Interior Ring&quot;)</span><br><span class="line">        partnum &#x3D; partnum + 1</span><br></pre></td></tr></table></figure>
<h3><span id="8ä½¿ç”¨walkéå†ç›®å½•">8.ä½¿ç”¨Walk()éå†ç›®å½•</span></h3><ul>
<li>os.walk()è¿”å›æ–‡ä»¶ç›®å½•æ ‘</li>
<li>arcpy.da.Walk()å¯ä»¥é™åˆ¶è¿”å›åœ°ç†æ•°æ®æ–‡ä»¶ç±»å‹</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">arcpy.da.Walk()éå†ç›®å½•æ ‘</span><br><span class="line">os.walk()è¿”å›ä¸€ä¸ªä¸‰å…ƒç»„</span><br><span class="line">ä½¿ç”¨da.Walk()éå†ç›®å½•æ ‘ï¼Œé™åˆ¶è¾“å‡ºè¦ç´ ç±»å</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import arcpy.da as da</span><br><span class="line">import os</span><br><span class="line"></span><br><span class="line">f &#x3D; r&quot;H:\ArcpyBook\data&quot; </span><br><span class="line">print(&quot;os walk&quot;)</span><br><span class="line"># ä½¿ç”¨os.walk()éå†ç›®å½•æ ‘</span><br><span class="line">for root, dirs, names in os.walk(f):</span><br><span class="line">    for fname in names:</span><br><span class="line">        print(fname)</span><br><span class="line"></span><br><span class="line">print(&quot;&quot;)</span><br><span class="line">print(&quot;arcpy.da.Walk()&quot;)</span><br><span class="line"># ä½¿ç”¨da.Walk()éå†ç›®å½•æ ‘ï¼Œé™åˆ¶è¾“å‡ºè¦ç´ ç±»å</span><br><span class="line">for root, dirs, names in da.Walk(f, datatype&#x3D;&quot;FeatureClass&quot;):</span><br><span class="line">    for name in names:</span><br><span class="line">        fname &#x3D; os.path.join(root, name)</span><br><span class="line">        print(fname)</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>pythonGIS</tag>
      </tags>
  </entry>
  <entry>
    <title>Arcgisä¸­çš„pythonç¼–ç¨‹(7)</title>
    <url>/2019-07-16-arcgis-python-7.html</url>
    <content><![CDATA[<p>å­¦ä¹ æ—¥å¿—7     æŸ¥è¯¢å’Œé€‰æ‹©æ•°æ®</p>
<p>ä¹¦ç±ï¼šåŸºäºArcGISçš„Pythonç¼–ç¨‹ç§˜ç¬ˆ(ç¬¬2ç‰ˆ); </p>
<p>å­¦ä¹ <b>ç¬¬ä¸ƒç« </b></p>
<ul>
<li>æŸ¥è¯¢å‰ï¼Œåˆ›å»ºè¦ç´ ç±»æˆ–è¡¨è§†å›¾çš„å†…å­˜å‰¯æœ¬</li>
<li>æµ‹è¯• æŒ‰å±æ€§æŸ¥è¯¢</li>
<li>æŒ‰ä½ç½®é€‰æ‹©å›¾å±‚</li>
<li>ç»“åˆ æŒ‰å±æ€§é€‰æ‹©ä¸æŒ‰ä½ç½®é€‰æ‹©</li>
</ul>
<a id="more"></a>

<h3><span id="1-æŸ¥è¯¢å‰åˆ›å»ºè¦ç´ ç±»æˆ–è¡¨è§†å›¾çš„å†…å­˜å‰¯æœ¬">1. æŸ¥è¯¢å‰ï¼Œåˆ›å»ºè¦ç´ ç±»æˆ–è¡¨è§†å›¾çš„å†…å­˜å‰¯æœ¬</span></h3><ul>
<li>arcpy.MakeFeatureLayer()</li>
<li>arcpy.MakeTableView()</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy</span><br><span class="line"># è®¾ç½®å·¥ä½œç©ºé—´</span><br><span class="line">arcpy.env.workspace &#x3D; &quot;H:&#x2F;ArcpyBook&#x2F;data&#x2F;CityOfSanAntonio.gdb&quot;</span><br><span class="line">try:</span><br><span class="line">    # è°ƒç”¨åˆ›å»ºè¦ç´ å›¾å±‚å·¥å…·</span><br><span class="line">    #flayer &#x3D; arcpy.MakeFeatureLayer_management(&quot;Burglary&quot;, &quot;Burglary_layer&quot;)</span><br><span class="line"></span><br><span class="line">    # åˆ›å»ºè¡¨è§†å›¾</span><br><span class="line">    fview &#x3D; arcpy.MakeTableView_management(&quot;Crime2009Table&quot;, &quot;Crime2009_Table&quot;)</span><br><span class="line">except Exception as e:</span><br><span class="line">    print(e.message)</span><br></pre></td></tr></table></figure>
<h3><span id="2æµ‹è¯•-æŒ‰å±æ€§æŸ¥è¯¢">2.æµ‹è¯• æŒ‰å±æ€§æŸ¥è¯¢</span></h3><ul>
<li>arcpy.SelectLayerByAttribute_management()</li>
<li>arcpy.GetCount_management()  è·å–è®¡æ•°</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">æµ‹è¯• æŒ‰å±æ€§æŸ¥è¯¢</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import arcpy</span><br><span class="line">arcpy.env.workspace &#x3D; &quot;H:&#x2F;ArcpyBook&#x2F;data&#x2F;CityOfSanAntonio.gdb&quot;</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    # æŸ¥è¯¢è¯­å¥</span><br><span class="line">    qry &#x3D; &#39;&quot;SVCAREA&quot; &#x3D; \&#39;North\&#39;&#39;</span><br><span class="line">    # åˆ›å»ºè¦ç´ ç±»çš„å†…å­˜å‰¯æœ¬</span><br><span class="line">    flayer &#x3D; arcpy.MakeFeatureLayer_management(&quot;Burglary&quot;, &quot;Burglary_layer&quot;)</span><br><span class="line">    # æŒ‰å±æ€§æŸ¥è¯¢</span><br><span class="line">    arcpy.SelectLayerByAttribute_management(flayer,&quot;NEW_SELECTION&quot;, qry)</span><br><span class="line">    # è·å–ç»“æœæ•°é‡</span><br><span class="line">    cnt &#x3D; arcpy.GetCount_management(flayer)</span><br><span class="line">    print(&quot;æŸ¥è¯¢äº†&quot; + str(cnt) + &quot;æ¡è®°å½•&quot;)</span><br><span class="line">except Exception as e:</span><br><span class="line">    print(e.message)</span><br></pre></td></tr></table></figure>
<h3><span id="3æŒ‰ä½ç½®é€‰æ‹©å›¾å±‚">3.æŒ‰ä½ç½®é€‰æ‹©å›¾å±‚</span></h3><ul>
<li>arcpy.SeletLayerByLocation()</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">æŒ‰ä½ç½®é€‰æ‹©å›¾å±‚</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import arcpy</span><br><span class="line">arcpy.env.workspace &#x3D; &quot;H:\\ArcpyBook\\data\\CityOfSanAntonio.gdb&quot;</span><br><span class="line">try:</span><br><span class="line">    # åˆ›å»ºBurglaryçš„å†…å­˜å‰¯æœ¬</span><br><span class="line">    flayer &#x3D; arcpy.MakeFeatureLayer_management(&quot;Burglary&quot;, &quot;Burglary_layer&quot;)</span><br><span class="line">    # é€‰æ‹©å®Œå…¨ä½äºè¾“å…¥å›¾å±‚çš„Burglaryå…ƒç´ </span><br><span class="line">    # arcpy.SelectLayerByLocation_management(flayer,&quot;COMPLETELY_WITHIN&quot;,</span><br><span class="line">    #     &quot;H:\\ArcpyBook\\Ch7\\EdgewoodSD.shp&quot;)</span><br><span class="line">    </span><br><span class="line">    # æŒ‰è·ç¦»é€‰æ‹©</span><br><span class="line">    arcpy.SelectLayerByLocation_management(flayer, &quot;WITHIN_A_DISTANCE&quot;,</span><br><span class="line">        &quot;H:\\ArcpyBook\\Ch7\\EdgewoodSD.shp&quot;, &quot;1 MILES&quot;)</span><br><span class="line"></span><br><span class="line">    # æ‰“å°å‡ºé€‰æ‹©çš„æ•°é‡</span><br><span class="line">    cnt &#x3D; arcpy.GetCount_management(flayer) # è·å–è®¡æ•°</span><br><span class="line">    print(&quot;é€‰æ‹©äº†&quot; + str(cnt) + &quot;ä¸ªå…ƒç´ &quot;)</span><br><span class="line">except Exception as e:</span><br><span class="line">    print(e.message)</span><br></pre></td></tr></table></figure>
<h3><span id="4-ç»“åˆ-æŒ‰å±æ€§é€‰æ‹©ä¸æŒ‰ä½ç½®é€‰æ‹©">4. ç»“åˆ æŒ‰å±æ€§é€‰æ‹©ä¸æŒ‰ä½ç½®é€‰æ‹©</span></h3><p>ç»“åˆ æŒ‰å±æ€§é€‰æ‹©ä¸æŒ‰ä½ç½®é€‰æ‹©</p>
<p><b>é€‰å‡ºåœ¨EdgewoodèŒƒå›´å†…çš„æ˜ŸæœŸä¸€çš„çŠ¯ç½ªè®°å½•</b></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy</span><br><span class="line"># è®¾ç½®å·¥ä½œç©ºé—´</span><br><span class="line">arcpy.env.workspace &#x3D; &quot;H:\\ArcpyBook\\data\\CityOfSanAntonio.gdb&quot;</span><br><span class="line">try:</span><br><span class="line">    # åˆ›å»ºçŠ¯ç½ªè®°å½•å›¾å±‚å‰¯æœ¬</span><br><span class="line">    flayer &#x3D; arcpy.MakeFeatureLayer_management(&quot;Burglary&quot;,&quot;Burglary_layer&quot;)</span><br><span class="line">    # æŒ‰ä½ç½®é€‰æ‹©</span><br><span class="line">    arcpy.SelectLayerByLocation_management(flayer, &quot;COMPLETELY_WITHIN&quot;, </span><br><span class="line">        r&quot;H:\ArcpyBook\Ch7\EdgewoodSD.shp&quot;)</span><br><span class="line">    # æŒ‰å±æ€§é€‰æ‹©</span><br><span class="line">    qry &#x3D; &#39;&quot;DOW&quot; &#x3D; \&#39;Mon\&#39;&#39;</span><br><span class="line">    arcpy.SelectLayerByAttribute_management(flayer, &quot;SUBSET_SELECTION&quot;, qry)</span><br><span class="line">    # æ‰“å°å‡ºé€‰æ‹©å‡ºçš„æ•°é‡</span><br><span class="line">    cnt &#x3D; arcpy.GetCount_management(flayer)</span><br><span class="line">    print(&quot;é€‰æ‹©å‡ºäº†&quot; + str(cnt) + &quot;æ¡è®°å½•&quot;)</span><br><span class="line"></span><br><span class="line">except Exception as e:</span><br><span class="line">    print(e.message)</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>pythonGIS</tag>
      </tags>
  </entry>
  <entry>
    <title>Arcgisä¸­çš„pythonç¼–ç¨‹(6)</title>
    <url>/2019-06-30-arcgis-python-6.html</url>
    <content><![CDATA[<p>å­¦ä¹ æ—¥å¿— 6    </p>
<p>ä¹¦ç±ï¼šåŸºäºArcGISçš„Pythonç¼–ç¨‹ç§˜ç¬ˆ(ç¬¬2ç‰ˆ); </p>
<p>å­¦ä¹ ==ç¬¬å…­ç« ==</p>
<ul>
<li>åˆ›å»ºè‡ªå®šä¹‰åœ°ç†å¤„ç†å·¥å…·</li>
<li>åˆ›å»ºPythonå·¥å…·ç®±</li>
</ul>
<p><strong>æ­¤ç« å†…å®¹æˆ‘æœªæµ‹è¯•é€šè¿‡ï¼Œå‘ç°å°±ç®—ä½¿ç”¨ä¹¦ä¸­æ‰€æä¾›çš„ä»£ç ä¹Ÿå‡ºç°é—®é¢˜ï¼Œæœ‰å¾…è§£å†³</strong></p>
<a id="more"></a>

<h3><span id="1-åˆ›å»ºè‡ªå®šä¹‰åœ°ç†å¤„ç†å·¥å…·">1. åˆ›å»ºè‡ªå®šä¹‰åœ°ç†å¤„ç†å·¥å…·</span></h3><p>æè¿°ï¼šä»æ–‡æœ¬æ–‡ä»¶è¯»å–æ•°æ®ï¼ŒåŒ…æ‹¬ç»åº¦ã€çº¬åº¦ã€å±æ€§å€¼ï¼Œæ–‡æœ¬æ–‡ä»¶ä»¥é€—å·åˆ†éš”,å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Latitude,Longitude,Confidence</span><br><span class="line">18.102,-94.353,72</span><br><span class="line">19.3,-89.925,82</span><br><span class="line">19.31,-89.927,68</span><br></pre></td></tr></table></figure>
<p>å°†å…¶è¯»å–å‡ºæ¥ä¿å­˜ä¸ºç‚¹è¦ç´ ç±»</p>
<p>æ–°å»ºå·¥å…·ç®±æ­¥éª¤çœç•¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#Script to Import data to a feature class within a geodatabase</span><br><span class="line">import arcpy, os</span><br><span class="line">try:</span><br><span class="line">    outputFC &#x3D; arcpy.GetParameterAsText(0)</span><br><span class="line">    fClassTemplate &#x3D; arcpy.GetParameterAsText(1)</span><br><span class="line">    f &#x3D; open(arcpy.GetParameterAsText(2),&#39;r&#39;)</span><br><span class="line">    arcpy.CreateFeatureclass_management(os.path.dirname(outputFC), os.path.basename(outputFC),&quot;point&quot;,fClassTemplate)   </span><br><span class="line">    lstFires &#x3D; f.readlines()</span><br><span class="line">    with arcpy.da.InsertCursor(outputFC) as cur:</span><br><span class="line">        cntr &#x3D; 1</span><br><span class="line">        for fire in lstFires:</span><br><span class="line">            if &#39;Latitude&#39; in fire:</span><br><span class="line">                continue</span><br><span class="line">            vals &#x3D; fire.split(&quot;,&quot;)</span><br><span class="line">            latitude &#x3D; float(vals[0])</span><br><span class="line">            longitude &#x3D; float(vals[1])</span><br><span class="line">            confid &#x3D; int(vals[2])</span><br><span class="line">            pnt &#x3D; arcpy.Point(longitude, latitude)</span><br><span class="line">            feat &#x3D; cur.newRow()</span><br><span class="line">            feat.shape &#x3D; pnt</span><br><span class="line">            feat.setValue(&quot;CONFIDENCEVALUE&quot;, confid)</span><br><span class="line">            cur.insertRow(feat)</span><br><span class="line">            arcpy.AddMessage(&quot;Record number&quot; + str(cntr) + &quot;written to feature class&quot;)</span><br><span class="line">            cntr &#x3D; cntr + 1</span><br><span class="line">except:</span><br><span class="line">    print arcpy.GetMessages()</span><br><span class="line">finally:</span><br><span class="line">    f.close()</span><br></pre></td></tr></table></figure>

<h3><span id="2-åˆ›å»ºpythonå·¥å…·ç®±">2. åˆ›å»ºPythonå·¥å…·ç®±</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy</span><br><span class="line">import requests</span><br><span class="line">import json</span><br><span class="line"></span><br><span class="line">class Toolbox(object):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        &quot;&quot;&quot;Define the toolbox (the name of the toolbox is the name of the</span><br><span class="line">        .pyt file).&quot;&quot;&quot;</span><br><span class="line">        self.label &#x3D; &quot;Toolbox&quot;</span><br><span class="line">        self.alias &#x3D; &quot;&quot;</span><br><span class="line"></span><br><span class="line">        # List of tool classes associated with this toolbox</span><br><span class="line">        self.tools &#x3D; [USGSDownload]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class USGSDownload(object):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        &quot;&quot;&quot;Define the tool (tool name is the name of the class).&quot;&quot;&quot;</span><br><span class="line">        self.label &#x3D; &quot;USGS Download&quot;</span><br><span class="line">        self.description &#x3D; &quot;Download from USGS ArcGIS Server instance&quot;</span><br><span class="line">        self.canRunInBackground &#x3D; False</span><br><span class="line"></span><br><span class="line">    def getParameterInfo(self):</span><br><span class="line"></span><br><span class="line">        &quot;&quot;&quot;Define parameter definitions&quot;&quot;&quot;</span><br><span class="line">        # First parameter</span><br><span class="line">        param0 &#x3D; arcpy.Parameter(</span><br><span class="line">            displayName&#x3D;&quot;ArcGIS Server Wildfire URL&quot;,</span><br><span class="line">            name&#x3D;&quot;url&quot;,</span><br><span class="line">            datatype&#x3D;&quot;GPString&quot;,</span><br><span class="line">            parameterType&#x3D;&quot;Required&quot;,</span><br><span class="line">            direction&#x3D;&quot;Input&quot;)</span><br><span class="line">        param0.value &#x3D; &quot;http:&#x2F;&#x2F;wildfire.cr.usgs.gov&#x2F;arcgis&#x2F;rest&#x2F;services&#x2F;geomac_dyn&#x2F;MapServer&#x2F;0&#x2F;query&quot;</span><br><span class="line"></span><br><span class="line">        # Second parameter</span><br><span class="line">        param1 &#x3D; arcpy.Parameter(</span><br><span class="line">            displayName&#x3D;&quot;Output Feature Class&quot;,</span><br><span class="line">            name&#x3D;&quot;out_fc&quot;,</span><br><span class="line">            datatype&#x3D;&quot;DEFeatureClass&quot;,</span><br><span class="line">            parameterType&#x3D;&quot;Required&quot;,</span><br><span class="line">            direction&#x3D;&quot;Input&quot;)</span><br><span class="line"></span><br><span class="line">        params &#x3D; [param0, param1]</span><br><span class="line">        return params</span><br><span class="line"></span><br><span class="line">    def isLicensed(self):</span><br><span class="line">        &quot;&quot;&quot;Set whether tool is licensed to execute.&quot;&quot;&quot;</span><br><span class="line">        return True</span><br><span class="line"></span><br><span class="line">    def updateParameters(self, parameters):</span><br><span class="line">        &quot;&quot;&quot;Modify the values and properties of parameters before internal</span><br><span class="line">        validation is performed.  This method is called whenever a parameter</span><br><span class="line">        has been changed.&quot;&quot;&quot;</span><br><span class="line">        return</span><br><span class="line"></span><br><span class="line">    def updateMessages(self, parameters):</span><br><span class="line">        &quot;&quot;&quot;Modify the messages created by internal validation for each tool</span><br><span class="line">        parameter.  This method is called after internal validation.&quot;&quot;&quot;</span><br><span class="line">        return</span><br><span class="line"></span><br><span class="line">    def execute(self, parameters, messages):</span><br><span class="line">        inFeatures &#x3D; parameters[0].valueAsText</span><br><span class="line">        outFeatureClass &#x3D; parameters[1].valueAsText</span><br><span class="line"></span><br><span class="line">        agisurl &#x3D; inFeatures</span><br><span class="line"></span><br><span class="line">        payload &#x3D; &#123; &#39;where&#39;: &#39;acres &gt; 5&#39;,&#39;f&#39;: &#39;pjson&#39;, &#39;outFields&#39;: &#39;latitude,longitude,fire_name,acres&#39;&#125;</span><br><span class="line"></span><br><span class="line">        r &#x3D; requests.get(inFeatures, params&#x3D;payload)</span><br><span class="line">        decoded &#x3D; json.loads(r.text)</span><br><span class="line"></span><br><span class="line">        with arcpy.da.InsertCursor(outFeatureClass, (&quot;SHAPE@XY&quot;, &quot;NAME&quot;, &quot;ACRES&quot;)) as cur:</span><br><span class="line">            cntr &#x3D; 1</span><br><span class="line">            for rslt in decoded[&#39;features&#39;]:</span><br><span class="line">                fireName &#x3D; rslt[&#39;attributes&#39;][&#39;fire_name&#39;]</span><br><span class="line">                latitude &#x3D; rslt[&#39;attributes&#39;][&#39;latitude&#39;]</span><br><span class="line">                longitude &#x3D; rslt[&#39;attributes&#39;][&#39;longitude&#39;]</span><br><span class="line">                acres &#x3D; rslt[&#39;attributes&#39;][&#39;acres&#39;]</span><br><span class="line">                cur.insertRow([(longitude,latitude),fireName, acres])</span><br><span class="line">                arcpy.AddMessage(&quot;Record number: &quot; + str(cntr) + &quot; written to feature class&quot;)</span><br><span class="line">                cntr &#x3D; cntr + 1</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>pythonGIS</tag>
      </tags>
  </entry>
  <entry>
    <title>Arcgisä¸­çš„pythonç¼–ç¨‹(5)</title>
    <url>/2019-06-23-arcgis-python-5.html</url>
    <content><![CDATA[<p>å­¦ä¹ æ—¥å¿— 5    </p>
<p>ä¹¦ç±ï¼šåŸºäºArcGISçš„Pythonç¼–ç¨‹ç§˜ç¬ˆ(ç¬¬2ç‰ˆ); </p>
<p>å­¦ä¹ ==ç¬¬äº”ç« ==   </p>
<ul>
<li>ä½¿ç”¨è„šæœ¬æ‰§è¡Œåœ°ç†å¤„ç†å·¥å…·-Clip_analysisä¸ºä¾‹</li>
<li>å°†ä¸€ä¸ªå·¥å…·çš„è¾“å‡ºä½œä¸ºä¸€ä¸ªå·¥å…·çš„è¾“å…¥</li>
</ul>
<a id="more"></a>

<h3><span id="1-ä½¿ç”¨è„šæœ¬æ‰§è¡Œåœ°ç†å¤„ç†å·¥å…·-clip_analysisä¸ºä¾‹">1. ä½¿ç”¨è„šæœ¬æ‰§è¡Œåœ°ç†å¤„ç†å·¥å…·-Clip_analysisä¸ºä¾‹</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ä½¿ç”¨å·¥å…·ç®±å·¥å…·</span><br><span class="line">import arcpy</span><br><span class="line"># è£å‰ªå­¦åŒº</span><br><span class="line"># è¾“å…¥è¦ç´ </span><br><span class="line">in_features &#x3D; r&quot;H:\ArcpyBook\data\CityOfSanAntonio.gdb\Burglary&quot;</span><br><span class="line"># è£å‰ªè¦ç´ </span><br><span class="line">clip_features &#x3D; r&quot;H:\ArcpyBook\Ch5\EdgewoodSD.shp&quot;</span><br><span class="line"># è¾“å‡ºè¦ç´ </span><br><span class="line">out_featuresClass &#x3D; r&quot;H:\ArcpyBook\Ch5\ClpBurglary&quot;</span><br><span class="line">arcpy.Clip_analysis(in_features, clip_features, out_featuresClass)</span><br></pre></td></tr></table></figure>
<h3><span id="2-å°†ä¸€ä¸ªå·¥å…·çš„è¾“å‡ºä½œä¸ºä¸€ä¸ªå·¥å…·çš„è¾“å…¥">2. å°†ä¸€ä¸ªå·¥å…·çš„è¾“å‡ºä½œä¸ºä¸€ä¸ªå·¥å…·çš„è¾“å…¥</span></h3><p>æ€è·¯: é€šè¿‡bufferå·¥å…·è¾“å‡ºè·æºªæµåŠè‹±é‡Œçš„ç¼“å†²åŒº</p>
<p>å†ä½¿ç”¨SelectLayerByLocation_management()å·¥å…·é€‰å‡ºåœ¨ç¼“å†²åŒºä¸­çš„å­¦æ ¡ç‚¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy</span><br><span class="line"># è®¾ç½®å·¥ä½œç©ºé—´</span><br><span class="line">arcpy.env.workspace &#x3D; r&quot;H:\ArcpyBook\data\TravisCounty&quot;</span><br><span class="line"># ä½¿ç”¨tryè¯­å¥æ·»åŠ æºªæµã€æºªæµç¼“å†²åŒºã€è·ç¦»ã€å­¦æ ¡ç­‰å˜é‡</span><br><span class="line">try:</span><br><span class="line">    streams &#x3D; &quot;Streams.shp&quot; # æºªæµ</span><br><span class="line">    streamsBuffer &#x3D; &quot;StreamsBuffer.shp&quot; # æºªæµç¼“å†²åŒºå˜é‡</span><br><span class="line">    distance &#x3D; &quot;2640 feet&quot; # è·ç¦»</span><br><span class="line">    schools &#x3D; &quot;Schools.shp&quot; # å­¦æ ¡</span><br><span class="line">    schoolsLyrFile &#x3D; &quot;SchoolsLyr&quot; # ç”¨æ¥å­˜æ”¾ä¸´æ—¶å­¦æ ¡å›¾å±‚</span><br><span class="line">    arcpy.Buffer_analysis(streams, streamsBuffer, distance, &quot;FULL&quot;, &quot;ROUND&quot;, &quot;ALL&quot;)</span><br><span class="line">    # åˆ›å»ºä¸€ä¸ªä¸´æ—¶å›¾å±‚</span><br><span class="line">    arcpy.MakeFeatureLayer_management(schools, schoolsLyrFile)</span><br><span class="line">    # æŒ‰ä½ç½®é€‰æ‹©å›¾å±‚</span><br><span class="line">    arcpy.SelectLayerByLocation_management(schoolsLyrFile, &quot;INTERSECT&quot;, streamsBuffer)</span><br><span class="line">except Exception as e:</span><br><span class="line">    print(e.message)</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>pythonGIS</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆæ‹-ç‰ç½®æµ©äºŒ</title>
    <url>/2019-06-22-chu-lian-yu-zhi-hao-er.html</url>
    <content><![CDATA[<ul>
<li>æ­Œå: åˆæ‹</li>
<li>å”±: ç‰ç½®æµ©äºŒ</li>
<li><a href="https://www.xiami.com/song/1773641047" target="_blank" rel="noopener external nofollow noreferrer">è¯æº</a></li>
</ul>
<a id="more"></a>


<ul>
<li>äº”æœˆé›¨ã¯ç·‘è‰² <blockquote>
<p>Sa mi da re wa mi do ri i ro</p>
<p>æ¢…é›¨æŸ“ä¸Šäº†ç»¿è‰²</p>
</blockquote>
</li>
<li>æ‚²ã—ãã•ã‚ŒãŸã‚ˆ<blockquote>
<p>Ka na shi ku sa re ta yo</p>
<p>æ›´å¹³æ·»äº†ä¸€ä»½æ„Ÿä¼¤</p>
</blockquote>
</li>
<li>ä¸€äººã®åˆå¾Œã¯ <blockquote>
<p>hi to ri no go go wa</p>
<p>ä¸€ä¸ªäººçš„åˆå</p>
</blockquote>
</li>
<li>æ‹ã‚’ã—ã¦å¯‚ã—ãã¦ <blockquote>
<p>Ko i wo shi te sa bi shi ku te</p>
<p>æ‹çˆ±ç€ è€Œå¯‚å¯ç€</p>
</blockquote>
</li>
<li>å±Šã‹ã¬æƒ³ã„ã‚’æš–ã‚ã¦ã„ãŸ <blockquote>
<p>To do ka nu o mo i wo a ta ta me te i ta</p>
<p>æ— æ³•ä¼ è¾¾çš„æ€å¿µè¢«é˜³å…‰æš–åŒ–</p>
</blockquote>
</li>
<li>å¥½ãã ã‚ˆã¨è¨€ãˆãšã«ã€€åˆæ‹ã¯ <blockquote>
<p>su ki da yo to i e zu ni ha tsu ko i wa</p>
<p>çˆ±åœ¨å¿ƒå¤´å£éš¾å¼€çš„åˆæ‹å•Š</p>
</blockquote>
</li>
<li>ãµã‚Šã“ç´°å·¥ã®å¿ƒ <blockquote>
<p>fu ri ko sai ku no ko ko ro</p>
<p>é‚£æ˜¯çº¤ç»†è€Œæ‘‡æ‘†ä¸å®šçš„å¿ƒ</p>
</blockquote>
</li>
<li>æ”¾èª²å¾Œã®æ ¡åº­ã‚’ã€€èµ°ã‚‹å›ãŒã„ãŸ <blockquote>
<p>hou ka go no kou tei wo ha shi ru ki mi ga i ta</p>
<p>æ”¾å­¦åçš„æ“åœºä¸Š æ˜¯å¥”è·‘ç€çš„ä½ </p>
</blockquote>
</li>
<li>é ãã§åƒ•ã¯ã„ã¤ã§ã‚‚å›ã‚’æ¢ã—ã¦ãŸ <blockquote>
<p>too ku de boku wa itsu demo kimi wo saga shi teta</p>
<p>æˆ‘æ€»æ˜¯è¿œè¿œåœ° å¯»è§…ç€ä½ çš„èº«å½±</p>
</blockquote>
</li>
<li>æµ…ã„å¤¢ã ã‹ã‚‰ã€€èƒ¸ã‚’ã¯ãªã‚Œãªã„ <blockquote>
<p>a sai yume da kara mune wo hana re nai</p>
<p>åªç¼˜æ¢¦å¤ªæµ… æ•…è€Œæƒ…éš¾ç¦</p>
</blockquote>
</li>
<li>å¤•æ˜ ãˆã¯ã‚ã‚“ãšè‰² <blockquote>
<p>yuu bae wa an zu iro</p>
<p>å¤•é˜³æ˜ ç…§ä¸‹æè‰²çš„å¤©ç©º</p>
</blockquote>
</li>
<li>å¸°ã‚Šé“ä¸€äºº å£ç¬›å¹ã„ã¦ <blockquote>
<p>kae ri michi hi tori kuchi bue fu ite</p>
<p>å›å®¶çš„è·¯ä¸Š æ˜¯ç‹¬è‡ªå¹ç€å£å“¨çš„ä½ </p>
</blockquote>
</li>
<li>åå‰ã•ãˆå‘¼ã¹ãªãã¦ <blockquote>
<p>na mae sae yobe naku te</p>
<p>è¿ä½ çš„åå­—éƒ½å«ä¸å‡ºå£</p>
</blockquote>
</li>
<li>ã¨ã‚‰ã‚ã‚ŒãŸå¿ƒè¦‹ã¤ã‚ã¦ã„ãŸã‚ˆ <blockquote>
<p>tora ware ta kokoro mitsu mete ita yo </p>
<p>æˆ‘è¿œè¿œåœ°å‡è§†ç€ é‚£è¢«ä½ å¤ºå»çš„å¿ƒ</p>
</blockquote>
</li>
<li>å¥½ãã ã‚ˆã¨è¨€ãˆãšã«ã€€åˆæ‹ã¯ <blockquote>
<p>su ki da yo to i e zu ni ha tsu ko i wa</p>
<p>çˆ±åœ¨å¿ƒå¤´å£éš¾å¼€çš„åˆæ‹å•Š</p>
</blockquote>
</li>
<li>ãµã‚Šã“ç´°å·¥ã®å¿ƒ <blockquote>
<p>fu ri ko sai ku no ko ko ro</p>
<p>é‚£æ˜¯çº¤ç»†è€Œæ‘‡æ‘†ä¸å®šçš„å¿ƒ</p>
</blockquote>
</li>
<li>é¢¨ã«èˆã£ãŸèŠ±ã³ã‚‰ãŒã€€æ°´é¢ã‚’ä¹±ã™ã‚ˆã†ã« <blockquote>
<p>kaze ni matta hana bira ga mina mo wo mida su you ni</p>
<p>å¦‚éšé£èˆè½çš„èŠ±ç“£ æ‰°ä¹±äº†æ°´é¢èˆ¬</p>
</blockquote>
</li>
<li>æ„›ã¨ã„ã†å­—æ›¸ã„ã¦ã¿ã¦ã¯ <blockquote>
<p>ai to iu ji ka ite mite wa</p>
<p>å°±è¿è¯•ç€åœ¨çº¸ä¸Šå†™çˆ±è¿™ä¸ªå­—</p>
</blockquote>
</li>
<li>ãµã‚‹ãˆã¦ãŸã‚ã®é ƒ <blockquote>
<p>furu ete ta ano goro</p>
<p>éƒ½ä¼šä¸ç”±é¢¤æŠ–çš„é‚£ä¸ªå¹´çºª</p>
</blockquote>
</li>
<li>æµ…ã„å¤¢ã ã‹ã‚‰ã€€èƒ¸ã‚’ã¯ãªã‚Œãªã„ <blockquote>
<p>a sai yume da kara mune wo hana re nai</p>
<p>åªç¼˜æ¢¦å¤ªæµ… æ•…è€Œæƒ…éš¾ç¦</p>
</blockquote>
</li>
<li>æ”¾èª²å¾Œã®æ ¡åº­ã‚’ã€€èµ°ã‚‹å›ãŒã„ãŸ <blockquote>
<p>hou ka go no kou tei wo ha shi ru ki mi ga i ta</p>
<p>æ”¾å­¦åçš„æ“åœºä¸Š æ˜¯å¥”è·‘ç€çš„ä½ </p>
</blockquote>
</li>
<li>é ãã§åƒ•ã¯ã„ã¤ã§ã‚‚å›ã‚’æ¢ã—ã¦ãŸ <blockquote>
<p>too ku de boku wa itsu demo kimi wo saga shi teta</p>
<p>æˆ‘æ€»æ˜¯è¿œè¿œåœ° å¯»è§…ç€ä½ çš„èº«å½±</p>
</blockquote>
</li>
<li>æµ…ã„å¤¢ã ã‹ã‚‰ã€€èƒ¸ã‚’ã¯ãªã‚Œãªã„ <blockquote>
<p>a sai yume da kara mune wo hana re nai</p>
<p>åªç¼˜æ¢¦å¤ªæµ… æ•…è€Œæƒ…éš¾ç¦</p>
</blockquote>
</li>
</ul>
]]></content>
      <tags>
        <tag>æ­Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>Arcgisä¸­çš„pythonç¼–ç¨‹(4)</title>
    <url>/2019-06-21-arcgis-python-4.html</url>
    <content><![CDATA[<p>å­¦ä¹ æ—¥å¿— 4    </p>
<p>ä¹¦ç±ï¼šåŸºäºArcGISçš„Pythonç¼–ç¨‹ç§˜ç¬ˆ(ç¬¬2ç‰ˆ); </p>
<p>å­¦ä¹ ==ç¬¬å››ç« ==   </p>
<ul>
<li>æ‰“å°æ–‡æ¡£ä¸­çš„æ‰€æœ‰å¸ƒå±€å…ƒç´ </li>
<li>æ‰“å°å¸ƒå±€å…ƒç´ ï¼Œé™åˆ¶ä¸ºå›¾ä¾‹å…ƒç´ </li>
<li>æ›´æ–°å¸ƒå±€å…ƒç´ å±æ€§</li>
<li>è·å–å¯ç”¨çš„æ‰“å°æœºåˆ—è¡¨</li>
<li>ä½¿ç”¨PrintMap()æ‰“å°åœ°å›¾</li>
<li>å¯¼å‡ºåœ°å›¾ä¸ºPDFæ–‡ä»¶</li>
<li>å¯¼å‡ºåœ°å›¾ä¸ºå›¾åƒæ–‡ä»¶</li>
<li>å¯¼å‡ºå›¾å±‚æŠ¥è¡¨</li>
<li>ä½¿ç”¨æ•°æ®é©±åŠ¨é¡µé¢å’Œarcpy.mappingæ¨¡å—æ„å»ºåœ°å›¾å†Œ</li>
<li>å°†åœ°å›¾æ–‡æ¡£å‘å¸ƒä¸ºArcGIS ServeræœåŠ¡</li>
</ul>
<a id="more"></a>

<h3><span id="1-æ‰“å°æ–‡æ¡£ä¸­çš„æ‰€æœ‰å¸ƒå±€å…ƒç´ ">1. æ‰“å°æ–‡æ¡£ä¸­çš„æ‰€æœ‰å¸ƒå±€å…ƒç´ </span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">## æ‰“å°æ–‡æ¡£ä¸­çš„æ‰€æœ‰å¸ƒå±€å…ƒç´ </span><br><span class="line">import arcpy.mapping as mapping</span><br><span class="line">mxd &#x3D; mapping.MapDocument(&#39;current&#39;)</span><br><span class="line"># æ‰“å°</span><br><span class="line">for el in mapping.ListLayoutElements(mxd):</span><br><span class="line">    if el !&#x3D; &#39;&#39;:</span><br><span class="line">        print(el.name)</span><br></pre></td></tr></table></figure>

<h3><span id="2-æ‰“å°å¸ƒå±€å…ƒç´ é™åˆ¶ä¸ºå›¾ä¾‹å…ƒç´ ">2. æ‰“å°å¸ƒå±€å…ƒç´ ï¼Œé™åˆ¶ä¸ºå›¾ä¾‹å…ƒç´ </span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy.mapping as mapping</span><br><span class="line">mxd &#x3D; mapping.MapDocument(&quot;current&quot;)</span><br><span class="line">## æ‰“å°å¸ƒå±€å…ƒç´ ï¼Œé™åˆ¶ä¸ºå›¾ä¾‹</span><br><span class="line">for el in mapping.ListLayoutElements(mxd, &quot;LEGEND_ELEMENT&quot;, &quot;*Crime*&quot;):</span><br><span class="line">    print(el.name)</span><br></pre></td></tr></table></figure>

<h3><span id="3-æ›´æ–°å¸ƒå±€å…ƒç´ å±æ€§">3. æ›´æ–°å¸ƒå±€å…ƒç´ å±æ€§</span></h3><blockquote>
<ul>
<li>ä½¿ç”¨Legendå¯¹è±¡çš„ title å±æ€§ç¨‹åºåŒ–åœ°æ›´æ”¹Crimeå›¾ä¾‹çš„æ ‡é¢˜</li>
<li>å¹¶è·å–éƒ¨åˆ†å›¾ä¾‹çš„å›¾å±‚åˆ—è¡¨</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy.mapping as mapping</span><br><span class="line">mxd &#x3D; mapping.MapDocument(&#39;current&#39;)</span><br><span class="line"># è·å–æ–‡æ¡£ä¸­åŒ…å«Crimeçš„å›¾ä¾‹å…ƒç´ </span><br><span class="line">elLeg &#x3D; mapping.ListLayoutElements(mxd, &quot;LEGEND_ELEMENT&quot;, &quot;*Crime*&quot;)[0]</span><br><span class="line"># æ›´æ”¹å›¾ä¾‹æ ‡é¢˜å</span><br><span class="line">elLeg.title &#x3D; &quot;Crime by School District&quot;</span><br><span class="line"># æ‰“å°å›¾ä¾‹å›¾å±‚åˆ—è¡¨å</span><br><span class="line">for item in elLeg.listLegendItemLayers():</span><br><span class="line">    print(item.name)</span><br></pre></td></tr></table></figure>
<h3><span id="4-è·å–å¯ç”¨çš„æ‰“å°æœºåˆ—è¡¨">4. è·å–å¯ç”¨çš„æ‰“å°æœºåˆ—è¡¨</span></h3><ul>
<li>arcpy.mapping.ListPrinterNames() è·å–æ‰“å°æœºåˆ—è¡¨</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy.mapping as mapping</span><br><span class="line">mxd &#x3D; mapping.MapDocument(&#39;current&#39;)</span><br><span class="line"># æ‰“å°è·å–çš„æ‰“å°æœºåˆ—è¡¨</span><br><span class="line">for printName in mapping.ListPrinterNames():</span><br><span class="line">    print(printName)</span><br></pre></td></tr></table></figure>

<h3><span id="5-ä½¿ç”¨printmapæ‰“å°åœ°å›¾">5. ä½¿ç”¨PrintMap()æ‰“å°åœ°å›¾</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy.mapping as mapping</span><br><span class="line">mxd &#x3D; mapping.MapDocument(&#39;current&#39;)</span><br><span class="line"># éå†æ•°æ®æ¡†ï¼Œæ‰“å°æŒ‡å®šæ•°æ®æ¡†çš„å›¾ç‰‡(æ‰“å°æœºæ‰“å°)</span><br><span class="line">for df in mapping.ListDataFrames(mxd):</span><br><span class="line">    if df.name &#x3D;&#x3D; &quot;Test_Performance&quot;:</span><br><span class="line">        print(&quot;ok!!&quot;)</span><br><span class="line">        mapping.PrintMap(mxd, &quot;&quot;, df)</span><br></pre></td></tr></table></figure>
<h3><span id="6-å¯¼å‡ºåœ°å›¾ä¸ºpdfæ–‡ä»¶">6. å¯¼å‡ºåœ°å›¾ä¸ºPDFæ–‡ä»¶</span></h3><ul>
<li>arcpy.mapping.ExportToPDF()</li>
</ul>
<p>é»˜è®¤å¯¼å‡ºé¡µé¢å¸ƒå±€ï¼›å¯ä¼ å…¥å‚æ•°å¯¼å‡ºæŒ‡å®šæ•°æ®æ¡†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy.mapping as mapping</span><br><span class="line">mxd &#x3D; mapping.MapDocument(&#39;current&#39;)</span><br><span class="line"># å¯¼å‡ºå¸ƒå±€è§†å›¾ä¸ºPDF</span><br><span class="line">mapping.ExportToPDF(mxd, r&quot;H:\upUpStudy\pythonGis\text\CrimeLayout_PDF.pdf&quot;)</span><br></pre></td></tr></table></figure>

<h4><span id="61-å¯¼å‡ºåœ°å›¾ä¸ºpdfæ–‡ä»¶å¯¼å‡ºæŒ‡å®šæ•°æ®æ¡†">6.1 å¯¼å‡ºåœ°å›¾ä¸ºPDFæ–‡ä»¶,å¯¼å‡ºæŒ‡å®šæ•°æ®æ¡†</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy.mapping as mapping</span><br><span class="line">mxd &#x3D; mapping.MapDocument(&#39;current&#39;)</span><br><span class="line"># å¯¼å‡ºæŒ‡å®šæ•°æ®æ¡†çš„PDF</span><br><span class="line">for df in mapping.ListDataFrames(mxd):</span><br><span class="line">    if df.name &#x3D;&#x3D; &quot;Crime&quot;:</span><br><span class="line">        df.referenceScale &#x3D; df.scale</span><br><span class="line">        mapping.ExportToPDF(mxd, r&quot;H:\upUpStudy\pythonGis\text\CrimeDataFrame.pdf&quot;, df)</span><br></pre></td></tr></table></figure>
<h3><span id="7-å¯¼å‡ºåœ°å›¾ä¸ºå›¾åƒæ–‡ä»¶">7. å¯¼å‡ºåœ°å›¾ä¸ºå›¾åƒæ–‡ä»¶</span></h3><ul>
<li>mapping.ExportToAI(mxd, pathfile, df)</li>
<li>mapping.ExportToBMP(mxd, pathfile, df)</li>
<li>mapping.ExportToEMF(mxd, pathfile, df)</li>
<li>mapping.ExportToEPS(mxd, pathfile, df)</li>
<li>mapping.ExportToGIF(mxd, pathfile, df)</li>
<li>mapping.ExportToJPEG(mxd, pathfile, df)</li>
<li>mapping.ExportToSVG(mxd, pathfile, df)</li>
<li>mapping.ExportToTIFF(mxd, pathfile, df)</li>
<li>â€¦</li>
</ul>
<h3><span id="8-å¯¼å‡ºå›¾å±‚æŠ¥è¡¨">8. å¯¼å‡ºå›¾å±‚æŠ¥è¡¨</span></h3><p>ä¸€äº›æ–°çš„æ–¹æ³•</p>
<ul>
<li>os.getcwd() è·å–å½“å‰è·¯å¾„</li>
<li>os.remove(pdfPath) ç§»é™¤pdfpathæ–‡ä»¶</li>
<li>arcpy.mapping.PDFDocumentCreate(pdfPath) åˆ›å»ºè¿™ä¸ªPDFæ–‡æ¡£</li>
<li>lyr.definitionQuery(whereClause) å›¾å±‚æ ¹æ®å±æ€§æŸ¥è¯¢</li>
<li>arcpy.SelectLayerByAttribute_management(lyr, â€œNEW_SELECTIONâ€, whereClause) æ ¹æ®å±æ€§æŸ¥è¯¢è¯­å¥é€‰æ‹©</li>
<li>å¯¼å‡ºæŠ¥è¡¨ä¸ºPDF</li>
<li>arcpy.mapping.ExportReport(report_source=lyr, report_layout_file=path + râ€\CrimeReport.rlfâ€, output_file=path + râ€\tempâ€ + str(pageCount) + â€œ.pdfâ€, starting_page_number=pageCount)</li>
<li>PDFDocment.appendPages(path + râ€\tempâ€ + str(pageCount) + â€œ.pdfâ€) å°†æŠ¥è¡¨pdfè¿½åŠ åˆ°åˆ›å»ºçš„PDFæ–‡æ¡£ä¸­</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy</span><br><span class="line">import os</span><br><span class="line"># è·å–å½“å‰è·¯å¾„</span><br><span class="line">path &#x3D; os.getcwd()</span><br><span class="line"># åˆ›å»ºè¾“å‡ºçš„PDFæ–‡ä»¶</span><br><span class="line">pdfPath &#x3D; path + r&quot;\CrimeReport.pdf&quot;</span><br><span class="line">print(pdfPath)#######æµ‹è¯•</span><br><span class="line"># å¦‚æœå­˜åœ¨æ­¤æ–‡ä»¶å°±ç§»é™¤</span><br><span class="line">if os.path.exists(pdfPath):</span><br><span class="line">    os.remove(pdfPath)</span><br><span class="line">    </span><br><span class="line"># åˆ©ç”¨.PDFDocumentCreate()åˆ›å»ºæ­¤æ–‡ä»¶</span><br><span class="line">pdfDoc &#x3D; arcpy.mapping.PDFDocumentCreate(pdfPath)</span><br><span class="line"># åˆ›å»ºå­¦åŒºåˆ—è¡¨ï¼Œé€šè¿‡éå†åˆ—è¡¨ä¸ºæ¯ä¸ªåœ°åŒºåˆ›å»ºæŠ¥è¡¨</span><br><span class="line">districtList &#x3D; [&quot;Harlandale&quot;, &quot;East Central&quot;, &quot;Edgewood&quot;,</span><br><span class="line">                &quot;Alamo Heights&quot;, &quot;South San Antonio&quot;, &quot;Southside&quot;,</span><br><span class="line">                &quot;Ft Sam Houston&quot;, &quot;North East&quot;, &quot;Northside&quot;, &quot;Lackland&quot;,</span><br><span class="line">                &quot;Southwest&quot;, &quot;Judson&quot;, &quot;San Antonio&quot;]</span><br><span class="line"># å¼•ç”¨åœ°å›¾æ–‡æ¡£åŠå…¶ç›¸åº”æ•°æ®æ¡†ä¸å›¾å±‚</span><br><span class="line">mxd &#x3D; arcpy.mapping.MapDocument(r&quot;H:\ArcpyBook\Ch4\Crime_Ch4.mxd&quot;)</span><br><span class="line">df &#x3D; arcpy.mapping.ListDataFrames(mxd)[0]</span><br><span class="line">lyr &#x3D; arcpy.mapping.ListLayers(mxd, &quot;Crime Density by School District&quot;, df)[0]</span><br><span class="line"># ä½¿ç”¨å¾ªç¯éå†å­¦åŒºï¼Œå¹¶åœ¨å†…éƒ¨ä½¿ç”¨whereClauseå˜é‡å®šä¹‰è¡¨è¾¾å¼æ¥æ˜¾ç¤ºå•ä¸ªå­¦åŒº</span><br><span class="line">pageCount &#x3D; 1</span><br><span class="line">for district in districtList:</span><br><span class="line">    # æŸ¥è¯¢è¡¨è¾¾å¼</span><br><span class="line">    whereClause &#x3D; &quot;\&quot;NAME\&quot; &#x3D; &#39;&quot; + district + &quot; ISD&#39;&quot;</span><br><span class="line">    lyr.definitionQuery &#x3D; whereClause</span><br><span class="line">    # é€‰æ‹©æ˜¾ç¤ºçš„å•ä¸ªå­¦åŒº,å°†æ•°æ®æ¡†çš„èŒƒå›´è®¾ç½®ä¸ºå­¦åŒºèŒƒå›´ï¼Œå¹¶æ¸…é™¤é€‰æ‹©é›†</span><br><span class="line">    arcpy.SelectLayerByAttribute_management(lyr, &quot;NEW_SELECTION&quot;, whereClause)</span><br><span class="line">    df.extent &#x3D; lyr.getSelectedExtent()</span><br><span class="line">    arcpy.SelectLayerByAttribute_management(lyr, &quot;CLEAR_SELECTION&quot;)</span><br><span class="line">    # å¯¼å‡ºæ•°æ®æ¡†ä¸ºBMPæ–‡ä»¶</span><br><span class="line">    arcpy.mapping.ExportToBMP(mxd, path + r&quot;\DistrictPicture.bmp&quot;, df)</span><br><span class="line">    # è°ƒç”¨ExportReport()å‡½æ•°ç”ŸæˆæŠ¥è¡¨</span><br><span class="line">    print(&quot;Generate report for: &quot; + district + &quot; ISD&quot;)</span><br><span class="line">    arcpy.mapping.ExportReport(report_source&#x3D;lyr, report_layout_file&#x3D;path + r&quot;\CrimeReport.rlf&quot;, output_file&#x3D;path + r&quot;\temp&quot; + str(pageCount) + &quot;.pdf&quot;, starting_page_number&#x3D;pageCount)</span><br><span class="line">    #è¿½åŠ æŠ¥è¡¨ä¸ºPDFæ–‡ä»¶</span><br><span class="line">    print(&quot;Append page: &quot; + str(pageCount))</span><br><span class="line">    pdfDoc.appendPages(path + r&quot;\temp&quot; + str(pageCount) + &quot;.pdf&quot;)</span><br><span class="line">    # åˆ é™¤ä¸´æ—¶çš„pdfæŠ¥è¡¨</span><br><span class="line">    os.remove(path + r&quot;\temp&quot; + str(pageCount) + &quot;.pdf&quot;)</span><br><span class="line">    pageCount &#x3D; pageCount + 1</span><br><span class="line"></span><br><span class="line"># ä¿å­˜pdfæ–‡æ¡£</span><br><span class="line">pdfDoc.saveAndClose()</span><br><span class="line">del mxd</span><br></pre></td></tr></table></figure>
<h3><span id="9-ä½¿ç”¨æ•°æ®é©±åŠ¨é¡µé¢å’Œarcpymappingæ¨¡å—æ„å»ºåœ°å›¾å†Œ">9. ä½¿ç”¨æ•°æ®é©±åŠ¨é¡µé¢å’Œarcpy.mappingæ¨¡å—æ„å»ºåœ°å›¾å†Œ</span></h3><blockquote>
<p>å¾…è§£å†³ï¼Œæœªæµ‹è¯•æˆåŠŸ,å¯èƒ½ç”±äºmxdæ–‡æ¡£ä¸¢å¤±æ•°æ®æºçš„é—®é¢˜</p>
<p>ç¨‹åºæ€è·¯å¦‚ä¸‹</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy</span><br><span class="line">import os</span><br><span class="line"># åˆ›å»ºä¸€ä¸ªè¾“å‡ºç›®å½•å˜é‡</span><br><span class="line">outDir &#x3D; r&quot;H:\ArcpyBook\Ch4&quot;</span><br><span class="line">finalpdf_filename &#x3D; outDir + r&quot;\MapBook.pdf&quot;</span><br><span class="line">if os.path.exists(finalpdf_filename):</span><br><span class="line">    os.remove(finalpdf_filename)</span><br><span class="line">    </span><br><span class="line">finalPdf &#x3D; arcpy.mapping.PDFDocumentCreate(finalpdf_filename) # åˆ›å»ºPDFæ–‡æ¡£</span><br><span class="line">print(&quot;Append Title Page \n&quot;)</span><br><span class="line">finalPdf.appendPages(outDir + r&quot;\TitlePage.pdf&quot;)</span><br><span class="line"># æ·»åŠ ç´¢å¼•å›¾åˆ°PDF</span><br><span class="line">print(&quot;Append Index Page \n&quot;)</span><br><span class="line">finalPdf.appendPages(outDir + r&quot;\MapIndex.pdf&quot;)</span><br><span class="line"># å…ˆå°†æ•°æ®é©±åŠ¨é¡µé¢å¯¼å‡ºåˆ°ä¸´æ—¶çš„PDFä¸­ï¼Œç„¶åå°†å…¶æ·»åŠ åˆ°æœ€ç»ˆçš„PDFä¸­</span><br><span class="line">mxdPath &#x3D; outDir + r&quot;\Topographic.mxd&quot;</span><br><span class="line">mxd &#x3D; arcpy.mapping.MapDocument(mxdPath)</span><br><span class="line">print(&quot;Create Data Driven Page \n&quot;)</span><br><span class="line">ddp &#x3D; mxd.dataDrivenPages</span><br><span class="line">temp_filename &#x3D; outDir + r&quot;\tempDDP.pdf&quot;</span><br><span class="line">if os.path.exists(temp_filename):</span><br><span class="line">    os.remove(temp_filename)</span><br><span class="line">    </span><br><span class="line">ddp.exportToPDF(temp_filename, &quot;ALL&quot;)</span><br><span class="line">print(&quot;Append the map series \n&quot;)</span><br><span class="line">finalPdf.appendPages(temp_filename)</span><br><span class="line"># æ›´æ–°æœ€ç»ˆçš„PDFå±æ€§</span><br><span class="line">finalPdf.updateDocProperties(pdf_open_view&#x3D;&quot;USE_THUMBS&quot;, pdf_layout&#x3D;&quot;SINGLE_PAGE&quot;)</span><br><span class="line"># ä¿å­˜PDF</span><br><span class="line">finalPdf.saveAndClose()</span><br><span class="line"># åˆ é™¤ä¸´æ—¶çš„æ•°æ®é©±åŠ¨é¡µé¢æ–‡ä»¶</span><br><span class="line">if os.path.exists(temp_filename):</span><br><span class="line">    os.remove()</span><br></pre></td></tr></table></figure>

<h3><span id="10-å°†åœ°å›¾æ–‡æ¡£å‘å¸ƒä¸ºarcgis-serveræœåŠ¡">10. å°†åœ°å›¾æ–‡æ¡£å‘å¸ƒä¸ºArcGIS ServeræœåŠ¡</span></h3><p>åœ¨Pythonä¸­å°†åœ°å›¾æ–‡æ¡£å‘å¸ƒåˆ°ArcGIS Serveréœ€è¦ä¸‰æ­¥:</p>
<blockquote>
<ol>
<li>è°ƒç”¨arcpy.mappingä¸­çš„CreateMapSDDraft()å‡½æ•°ï¼Œå°†åœ°å›¾æ–‡æ¡£æ–‡ä»¶mxdè½¬æ¢ä¸ºæœåŠ¡å®šä¹‰è‰ç¨¿æ–‡ä»¶(.sddraft)</li>
<li>è°ƒç”¨StageService Tool(.sdï¼Œè¿‡æ¸¡æœåŠ¡å·¥å…·ï¼Œç¼–è¯‘èƒ½æˆåŠŸå‘å¸ƒGISèµ„æºçš„æ‰€å¿…è¦çš„ä¿¡æ¯)</li>
<li>ä½¿ç”¨Upload Service Definition Tool(ä¸Šä¼ æœåŠ¡å®šä¹‰å·¥å…·)ä¸Šä¼ æœåŠ¡å®šä¹‰æ–‡ä»¶</li>
</ol>
</blockquote>
<blockquote>
<ul>
<li>å¾…è§£å†³çš„é—®é¢˜ï¼šæœªä¸Šä¼ </li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy.mapping as mapping</span><br><span class="line">wrkspc &#x3D; r&quot;H:\ArcpyBook\Ch4&quot;</span><br><span class="line">mxd &#x3D; mapping.MapDocument(wrkspc + r&quot;\Crime.mxd&quot;)</span><br><span class="line"># å®šä¹‰æœåŠ¡åç§°å’ŒæœåŠ¡å®šä¹‰è‰ç¨¿æ–‡ä»¶</span><br><span class="line">service &#x3D; &#39;Crime&#39;</span><br><span class="line">sddraft &#x3D; wrkspc + service + &quot;.sddraft&quot;</span><br><span class="line"># åˆ›å»ºæœåŠ¡å®šä¹‰è‰ç¨¿æ–‡ä»¶</span><br><span class="line">mapping.CreateMapSDDraft(mxd, sddraft, service)</span><br><span class="line"># åˆ†æè‰ç¨¿æ–‡ä»¶</span><br><span class="line">analysis &#x3D; mapping.AnalyzeForSD(wrkspc + &quot;Crime.sddraft&quot;)</span><br><span class="line"># åˆ›å»ºå¾ªç¯ç»“æ„ï¼Œéå†æ‰€æœ‰æ½œåœ¨çš„ä¸€èˆ¬ä¿¡æ¯ç±»çš„æ¶ˆæ¯ã€è­¦å‘Šå’Œé”™è¯¯ï¼Œå¹¶è¾“å‡ºæ‰€æœ‰ä¿¡æ¯</span><br><span class="line">for key in (&#39;messages&#39;, &#39;warnings&#39;, &#39;errors&#39;):</span><br><span class="line">    print(&quot;----&quot; + key.upper() + &quot;----&quot;)</span><br><span class="line">    vars &#x3D; analysis[key]</span><br><span class="line">    for ((message, code), layerlist) in vars.iteritems():</span><br><span class="line">        print(&quot;    &quot;, message, &quot;(CODE %i)&quot; % code)</span><br><span class="line">        print(&quot;    applies to:&quot;,)</span><br><span class="line">        for layer in layerlist:</span><br><span class="line">            print(layer.name)</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>pythonGIS</tag>
      </tags>
  </entry>
  <entry>
    <title>lemon</title>
    <url>/2019-06-20-music-lemon.html</url>
    <content><![CDATA[<ul>
<li><p>çƒ­çˆ±ä¹‹æ‰€çˆ±</p>
</li>
<li><p>å­¦æ€ä¹‹æ‰€å­¦</p>
</li>
<li><p>lemon</p>
</li>
<li><p>ç±³æ´¥ç„å¸«</p>
</li>
</ul>
<a id="more"></a>

<h2><span id="lemon">lemon</span></h2><ul>
<li><p>lemon</p>
</li>
<li><p>ç±³æ´¥ç„å¸«</p>
</li>
<li><p><a href="https://www.youtube.com/watch?v=SX_ViT4Ra7k" target="_blank" rel="noopener external nofollow noreferrer">MV(youtube)</a></p>
</li>
<li><p>æ¢¦ï¼ˆã‚†ã‚ï¼‰ãªã‚‰ã°ã©ã‚Œã»ã©ã‚ˆã‹ã£ãŸã§ã—ã‚‡ã†</p>
<blockquote>
<p>yume naraba dore hodo yokatta deshou</p>
<p>å¦‚æœè¿™ä¸€åˆ‡éƒ½æ˜¯æ¢¦å¢ƒè¯¥æœ‰å¤šå¥½</p>
</blockquote>
</li>
<li><p>æœªï¼ˆã„ã¾ï¼‰ã ã«ã‚ãªãŸã®ã“ã¨ã‚’æ¢¦ï¼ˆã‚†ã‚ï¼‰ã«ã¿ã‚‹</p>
<blockquote>
<p>imada ni anata no koto wo yume ni miru</p>
<p>è‡³ä»Šä»èƒ½ä¸ä½ åœ¨æ¢¦ä¸­ç›¸é‡</p>
</blockquote>
</li>
<li><p>å¿˜ï¼ˆã‚ã™ï¼‰ã‚ŒãŸç‰©ï¼ˆã‚‚ã®ï¼‰ã‚’å–ï¼ˆã¨ï¼‰ã‚Šã«å¸°ï¼ˆã‹ãˆï¼‰ã‚‹ã‚ˆã†ã«</p>
<blockquote>
<p>wasureta mono wo tori ni kaeru youni</p>
<p>å¦‚åŒå–å›é—å¿˜ä¹‹ç‰©ä¸€èˆ¬</p>
</blockquote>
</li>
<li><p>å¤ï¼ˆãµã‚‹ï¼‰ã³ãŸæ€ï¼ˆãŠã‚‚ï¼‰ã„å‡ºï¼ˆã§ï¼‰ã®åŸƒï¼ˆã»ã“ã‚Šï¼‰ã‚’æ‰•ï¼ˆã¯ã‚‰ï¼‰ã†</p>
<blockquote>
<p>furubita omoide no hokori wo harau</p>
<p>ç»†ç»†æ‹‚å»å°†å›å¿†è¦†ç›–çš„å°˜åŸƒ</p>
</blockquote>
</li>
<li><p>æˆ»ï¼ˆã‚‚ã©ï¼‰ã‚‰ãªã„å¹¸ï¼ˆã—ã‚ã‚ï¼‰ã›ãŒã‚ã‚‹ã“ã¨ã‚’</p>
<blockquote>
<p>modora nai shiawase ga aru koto wo</p>
<p>è¿™ä¸–é—´äº¦æœ‰æ— æ³•æŒ½å›çš„å¹¸ç¦</p>
</blockquote>
</li>
<li><p>æœ€å¾Œï¼ˆã•ã„ã”ï¼‰ã«ã‚ãªãŸãŒæ•™ï¼ˆãŠã—ï¼‰ãˆã¦ãã‚ŒãŸ</p>
<blockquote>
<p>saigo ni anata ga oshiete kureta</p>
<p>æœ€ç»ˆæ˜¯ä½ è®©æˆ‘æ‡‚å¾—è¿™ä¸€ç‚¹</p>
</blockquote>
</li>
<li><p>è¨€ï¼ˆã„ï¼‰ãˆãšã«éš ï¼ˆã‹ãã—ï¼‰ã—ã¦ãŸæ˜ï¼ˆãã‚‰ï¼‰ã„è¿‡å»ï¼ˆã‹ã“ï¼‰ã‚‚</p>
<blockquote>
<p>iezu ni kakushiteta kurai kako mo</p>
<p>é‚£äº›æœªå¯¹ä»–äººæåŠè¿‡çš„é»‘æš—å¾€äº‹</p>
</blockquote>
</li>
<li><p>ã‚ãªãŸãŒã„ãªãã‚ƒæ°¸è¿œï¼ˆãˆã„ãˆã‚“ï¼‰ã«æ˜ï¼ˆãã‚‰ï¼‰ã„ã¾ã¾</p>
<blockquote>
<p>anata ga inakya eien ni kurai mama</p>
<p>å¦‚æœä¸æ›¾æœ‰ä½ çš„è¯ å®ƒä»¬å°†æ°¸è¿œæ²‰ç¡åœ¨é»‘æš—ä¸­</p>
</blockquote>
</li>
<li><p>ãã£ã¨ã‚‚ã†ã“ã‚Œä»¥ä¸Š ä¼¤ï¼ˆããšï¼‰ã¤ãã“ã¨ãªã©</p>
<blockquote>
<p>kitto mou kore ijou kizu tsuku koto nado</p>
<p>æ¯”è¿™æ›´ä»¤äººéš¾è¿‡çš„äº‹æƒ…</p>
</blockquote>
</li>
<li><p>ã‚ã‚Šã¯ã—ãªã„ã¨ã‚ã‹ã£ã¦ã„ã‚‹</p>
<blockquote>
<p>ari wa shinai to wakatte iru</p>
<p>æˆ‘çŸ¥é“ä¸å¯èƒ½å­˜åœ¨</p>
</blockquote>
</li>
<li><p>ã‚ã®æ—¥ï¼ˆã²ï¼‰ã®æ‚²ï¼ˆã‹ãªï¼‰ã—ã¿ã•ãˆ</p>
<blockquote>
<p>ano hi no kanashimi sae</p>
<p>é‚£æ—¥çš„æ‚²ä¼¤</p>
</blockquote>
</li>
<li><p>ã‚ã®æ—¥ï¼ˆã²ï¼‰ã®è‹¦ï¼ˆãã‚‹ï¼‰ã—ã¿ã•ãˆ</p>
<blockquote>
<p>ano hi no kurushimi sae</p>
<p>ä¸é‚£æ—¥çš„ç—›è‹¦</p>
</blockquote>
</li>
<li><p>ãã®ã™ã¹ã¦ã‚’çˆ±ï¼ˆã‚ã„ï¼‰ã—ã¦ãŸ ã‚ãªãŸã¨ã¨ã‚‚ã«</p>
<blockquote>
<p>sono subete wo aishiteta anata to tomoni</p>
<p>è¿åŒæ·±çˆ±ç€è¿™ä¸€åˆ‡çš„ä½ </p>
</blockquote>
</li>
<li><p>èƒ¸ï¼ˆã‚€ã­ï¼‰ã«æ®‹ï¼ˆã®ã“ï¼‰ã‚Šç¦»ï¼ˆã¯ãªï¼‰ã‚Œãªã„</p>
<blockquote>
<p>mune ni nokori hanare nai</p>
<p>åŒ–ä½œäº†æ·±æ·±çƒ™å°åœ¨æˆ‘å¿ƒä¸­çš„</p>
</blockquote>
</li>
<li><p>è‹¦ï¼ˆã«ãŒï¼‰ã„ãƒ¬ãƒ¢ãƒ³ã®åŒ‚ï¼ˆã«ãŠï¼‰ã„</p>
<blockquote>
<p>nigai remon no nioi</p>
<p>è‹¦æ¶©æŸ æª¬çš„é¦™æ°”</p>
</blockquote>
</li>
<li><p>é›¨ï¼ˆã‚ã‚ï¼‰ãŒé™ï¼ˆãµï¼‰ã‚Šæ­¢ï¼ˆã‚„ï¼‰ã‚€ã¾ã§ã¯å¸°ï¼ˆã‹ãˆï¼‰ã‚Œãªã„</p>
<blockquote>
<p>ame ga furiyamu made wa kaere nai</p>
<p>åœ¨é›¨è¿‡å¤©æ™´å‰éƒ½æ— æ³•å½’å»</p>
</blockquote>
</li>
<li><p>ä»Šï¼ˆã„ã¾ï¼‰ã§ã‚‚ã‚ãªãŸã¯ã‚ãŸã—ã®å…‰ï¼ˆã²ã‹ã‚Šï¼‰</p>
<blockquote>
<p>ima demo anata wa watashi no hikari</p>
<p>æ—¶è‡³ä»Šæ—¥ ä½ ä»æ˜¯æˆ‘çš„å…‰èŠ’</p>
</blockquote>
</li>
<li><p>æš—é—‡ï¼ˆãã‚‰ã‚„ã¿ï¼‰ã§ã‚ãªãŸã®èƒŒï¼ˆã›ï¼‰ã‚’ãªãã£ãŸ</p>
<blockquote>
<p>kurayami de anata no se wo nazotta</p>
<p>åœ¨é»‘æš—ä¸­è¿½å¯»ç€ä½ çš„èº«å½±</p>
</blockquote>
</li>
<li><p>ãã®è½®éƒ­ï¼ˆã‚Šã‚“ã‹ãï¼‰ã‚’é²œæ˜ï¼ˆã›ã‚“ã‚ã„ï¼‰ã«è¦šï¼ˆãŠã¼ï¼‰ãˆã¦ã„ã‚‹</p>
<blockquote>
<p>sono rinkaku wo senmei ni oboete iru</p>
<p>é‚£è½®å»“è‡³ä»Šä»é²œæ˜åœ°åˆ»å°äºå¿ƒ</p>
</blockquote>
</li>
<li><p>å—ï¼ˆã†ï¼‰ã‘æ­¢ï¼ˆã¨ï¼‰ã‚ãã‚Œãªã„ã‚‚ã®ã¨å‡ºä¼šï¼ˆã§ã‚ï¼‰ã†ãŸã³</p>
<blockquote>
<p>uketome kire nai mono to deau tabi</p>
<p>æ¯å½“é‡åˆ°æ— æ³•æ‰¿å—çš„è‹¦ç—›æ—¶</p>
</blockquote>
</li>
<li><p>æº¢ï¼ˆã‚ãµï¼‰ã‚Œã¦ã‚„ã¾ãªã„ã®ã¯æ¶™ã ã‘</p>
<blockquote>
<p>afurete yama nai no wa namida dake</p>
<p>æ€»ä¸ç¦æ³ªå¦‚æ³‰æ¶Œ</p>
</blockquote>
</li>
<li><p>ä½•ï¼ˆãªã«ï¼‰ã‚’ã—ã¦ã„ãŸã®</p>
<blockquote>
<p>nani wo shite ita no</p>
<p>ä½ éƒ½ç»å†è¿‡ä»€ä¹ˆ</p>
</blockquote>
</li>
<li><p>ä½•ï¼ˆãªã«ï¼‰ã‚’è§ï¼ˆã¿ï¼‰ã¦ã„ãŸã®</p>
<blockquote>
<p>nani wo mite ita no</p>
<p>åˆç›®ç¹è¿‡ä»€ä¹ˆå‘¢</p>
</blockquote>
</li>
<li><p>ã‚ãŸã—ã®çŸ¥ï¼ˆã—ï¼‰ã‚‰ãªã„æ¨ªé¢œï¼ˆã‚ˆã“ãŒãŠï¼‰ã§</p>
<blockquote>
<p>watashi no shira nai yokogao de</p>
<p>è„¸ä¸Šæµ®ç°ç€æˆ‘ä¸æ›¾è§è¿‡çš„ç¥æƒ…</p>
</blockquote>
</li>
<li><p>ã©ã“ã‹ã§ã‚ãªãŸãŒä»Šï¼ˆã„ã¾ï¼‰</p>
<blockquote>
<p>dokoka de anata ga ima</p>
<p>å¦‚æœä½ æ­£åœ¨ä»€ä¹ˆåœ°æ–¹</p>
</blockquote>
</li>
<li><p>ã‚ãŸã—ã¨åŒï¼ˆãŠãªï¼‰ã˜æ§˜ï¼ˆã‚ˆã†ï¼‰ãª</p>
<blockquote>
<p>watashi to onaji youna</p>
<p>ä¸æˆ‘ä¸€æ ·</p>
</blockquote>
</li>
<li><p>æ¶™ï¼ˆãªã¿ã ï¼‰ã«ãã‚Œ æ·‹ï¼ˆã•ã³ï¼‰ã—ã•ã®ä¸­ï¼ˆãªã‹ï¼‰ã«ã„ã‚‹ãªã‚‰</p>
<blockquote>
<p>namida ni kure samishisa no naka ni iru nara</p>
<p>ç»ˆæ—¥è¿‡ç€ä»¥æ³ªæ´—é¢çš„å¯‚å¯ç”Ÿæ´»çš„è¯</p>
</blockquote>
</li>
<li><p>ã‚ãŸã—ã®ã“ã¨ãªã©ã©ã†ã‹ å¿˜ï¼ˆã‚ã™ï¼‰ã‚Œã¦ãã ã•ã„</p>
<blockquote>
<p>watashi no koto nado douka wasurete kudasai</p>
<p>å°±è¯·ä½ å°†æˆ‘çš„ä¸€åˆ‡å…¨éƒ¨é—å¿˜å§</p>
</blockquote>
</li>
<li><p>ãã‚“ãªã“ã¨ã‚’å¿ƒï¼ˆã“ã“ã‚ï¼‰ã‹ã‚‰æ„¿ï¼ˆã­ãŒï¼‰ã†ã»ã©ã«</p>
<blockquote>
<p>sonna koto wo kokoro kara negau hodo ni</p>
<p>è¿™æ˜¯æˆ‘å‘è‡ªå†…æ·±å¤„å”¯ä¸€çš„ç¥ˆæ„¿</p>
</blockquote>
</li>
<li><p>ä»Šï¼ˆã„ã¾ï¼‰ã§ã‚‚ã‚ãªãŸã¯ã‚ãŸã—ã®å…‰ï¼ˆã²ã‹ã‚Šï¼‰</p>
<blockquote>
<p>ima demo anata wa watashi no hikari</p>
<p>æ—¶è‡³ä»Šæ—¥ ä½ ä»æ˜¯æˆ‘çš„å…‰èŠ’</p>
</blockquote>
</li>
<li><p>è‡ªåˆ†ï¼ˆã˜ã¶ã‚“ï¼‰ãŒæ€ï¼ˆãŠã‚‚ï¼‰ã†ã‚ˆã‚Š æ‹ï¼ˆã“ã„ï¼‰ã‚’ã—ã¦ã„ãŸã‚ãªãŸã«</p>
<blockquote>
<p>jibun ga omou yori koi wo shite ita anata ni</p>
<p>æˆ‘æ·±æ·±åœ°æ‹æ…•ç€ä½  ç”šè‡³è¶…å‡ºäº†æˆ‘è‡ªå·±çš„æƒ³è±¡</p>
</blockquote>
</li>
<li><p>ã‚ã‚Œã‹ã‚‰æ€ï¼ˆãŠã‚‚ï¼‰ã†ã‚ˆã†ã« æ¯ï¼ˆã„ãï¼‰ãŒã§ããªã„</p>
<blockquote>
<p>are kara omou youni iki ga deki nai</p>
<p>è‡ªæ­¤æ¯å½“æƒ³èµ·ä½  éƒ½å¦‚åŒçª’æ¯èˆ¬ç—›è‹¦</p>
</blockquote>
</li>
<li><p>ã‚ã‚“ãªã«ä¾§ï¼ˆãã°ï¼‰ã«ã„ãŸã®ã«ã¾ã‚‹ã§å˜˜ï¼ˆã†ãï¼‰ã¿ãŸã„</p>
<blockquote>
<p>annani soba ni ita noni marude uso mitai</p>
<p>ä½ æ›¾äº²å¯†ä¼´æˆ‘èº«æ— å¦‚ä»Šå´å¦‚çƒŸäº‘èˆ¬æ¶ˆæ•£</p>
</blockquote>
</li>
<li><p>ã¨ã¦ã‚‚å¿˜ï¼ˆã‚ã™ï¼‰ã‚Œã‚‰ã‚Œãªã„ãã‚Œã ã‘ãŒç¡®ï¼ˆãŸã—ï¼‰ã‹</p>
<blockquote>
<p>totemo wasurerare nai sore dake ga tashika</p>
<p>å”¯ä¸€èƒ½ç¡®å®šçš„æ˜¯ æˆ‘æ°¸è¿œéƒ½ä¸ä¼šå°†ä½ é—å¿˜</p>
</blockquote>
</li>
<li><p>ã‚ã®æ—¥ï¼ˆã²ï¼‰ã®æ‚²ï¼ˆã‹ãªï¼‰ã—ã¿ã•ãˆ</p>
<blockquote>
<p>ano hi no kanashimi sae</p>
<p>é‚£æ—¥çš„æ‚²ä¼¤</p>
</blockquote>
</li>
<li><p>ã‚ã®æ—¥ï¼ˆã²ï¼‰ã®è‹¦ï¼ˆãã‚‹ï¼‰ã—ã¿ã•ãˆ</p>
<blockquote>
<p>ano hi no kurushimi sae</p>
<p>ä¸é‚£æ—¥çš„ç—›è‹¦</p>
</blockquote>
</li>
<li><p>ãã®å…¨ï¼ˆã™ã¹ï¼‰ã¦ã‚’çˆ±ï¼ˆã‚ã„ï¼‰ã—ã¦ãŸã‚ãªãŸã¨å…±ï¼ˆã¨ã‚‚ï¼‰ã«</p>
<blockquote>
<p>sono subete wo aishiteta anata to tomoni</p>
<p>è¿åŒæ·±çˆ±ç€è¿™ä¸€åˆ‡çš„ä½ </p>
</blockquote>
</li>
<li><p>èƒ¸ï¼ˆã‚€ã­ï¼‰ã«æ®‹ï¼ˆã®ã“ï¼‰ã‚Šç¦»ï¼ˆã¯ãªï¼‰ã‚Œãªã„</p>
<blockquote>
<p>mune ni nokori hanare nai</p>
<p>åŒ–ä½œäº†æ·±æ·±çƒ™å°åœ¨æˆ‘å¿ƒä¸­çš„</p>
</blockquote>
</li>
<li><p>è‹¦ï¼ˆã«ãŒï¼‰ã„ãƒ¬ãƒ¢ãƒ³ã®åŒ‚ï¼ˆã«ãŠï¼‰ã„</p>
<blockquote>
<p>nigai remon no nioi</p>
<p>è‹¦æ¶©æŸ æª¬çš„é¦™æ°”</p>
</blockquote>
</li>
<li><p>é›¨ï¼ˆã‚ã‚ï¼‰ãŒé™ï¼ˆãµï¼‰ã‚Šæ­¢ï¼ˆã‚„ï¼‰ã‚€ã¾ã§ã¯å¸°ï¼ˆã‹ãˆï¼‰ã‚Œãªã„</p>
<blockquote>
<p>ame ga furiyamu made wa kaere nai</p>
<p>åœ¨é›¨è¿‡å¤©æ™´å‰éƒ½æ— æ³•å½’å»</p>
</blockquote>
</li>
<li><p>åˆ‡ï¼ˆãï¼‰ã‚Šåˆ†ï¼ˆã‚ï¼‰ã‘ãŸæœå®Ÿï¼ˆã‹ã˜ã¤ï¼‰ã®ç‰‡æ–¹ï¼ˆã‹ãŸã»ã†ï¼‰ã®æ§˜ï¼ˆã‚ˆã†ï¼‰ã«</p>
<blockquote>
<p>kiriwaketa kajitsu no katahou no youni</p>
<p>å¦‚åŒè¢«åˆ‡å¼€çš„åŠä¸ªæŸ æª¬ä¸€èˆ¬</p>
</blockquote>
</li>
<li><p>ä»Šï¼ˆã„ã¾ï¼‰ã§ã‚‚ã‚ãªãŸã¯ã‚ãŸã—ã®å…‰ï¼ˆã²ã‹ã‚Šï¼‰</p>
<blockquote>
<p>ima demo anata wa watashi no hikari</p>
<p>æ—¶è‡³ä»Šæ—¥ä½ ä»æ˜¯æˆ‘çš„å…‰èŠ’</p>
</blockquote>
</li>
</ul>
]]></content>
      <tags>
        <tag>æ­Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»Šæ—¥ã‹ã‚‰æ€ã„å‡º</title>
    <url>/2019-06-20-jin-ri-karasi-ichu.html</url>
    <content><![CDATA[<ul>
<li>çƒ­çˆ±ä¹‹æ‰€çˆ±</li>
<li>å­¦æ€ä¹‹æ‰€å­¦</li>
</ul>
<ul>
<li>ä»Šæ—¥ã‹ã‚‰æ€ã„å‡º</li>
<li>Aimer</li>
</ul>
<a id="more"></a>


<ul>
<li>ä»Šæ—¥ã‹ã‚‰æ€ã„å‡º<blockquote>
<p>kyou kara omoide</p>
<p>ä»ä»Šå¤©å¼€å§‹çš„å›å¿†</p>
</blockquote>
</li>
<li>ç´ æ•Œãªæ€ã„å‡º<blockquote>
<p>suteki na omoide</p>
<p>ç¾å¥½çš„å›å¿†</p>
</blockquote>
</li>
<li>æ˜æ—¥ã¯ã‚‚ã†ä¸€äººã <blockquote>
<p>ashita wa mou hitori da</p>
<p>æ˜å¤©å¼€å§‹å°±å­¤å•ä¸€äººäº†</p>
</blockquote>
</li>
<li>ã“ã‚Œã‹ã‚‰ã€€ä¸€äººã <blockquote>
<p>kore kara hitori da</p>
<p>ä»ä»Šå¾€å ç‹¬è‡ªä¸€äºº</p>
</blockquote>
</li>
<li>ã™ã¹ã¦ã¯æ€ã„å‡º<blockquote>
<p>subete wa omoide</p>
<p>ä¸€åˆ‡éƒ½æ˜¯å›å¿†</p>
</blockquote>
</li>
<li>æ‚²ã—ã„æ€ã„å‡º<blockquote>
<p>kanashii omoide</p>
<p>ä¼¤æ„Ÿçš„å›å¿†</p>
</blockquote>
</li>
<li>æ˜æ—¥ã¯ ãã† ã©ã“ã‹ã¸<blockquote>
<p>ashita wa sou dokokahe</p>
<p>æ˜å¤©ä¹Ÿä¸çŸ¥è¯¥å»å“ªé‡Œ</p>
</blockquote>
</li>
<li>ã©ã“ã‹ã¸ è¿œãã¸<blockquote>
<p>dokokahe toukuhe</p>
<p>è‚¯å®šæ˜¯é¥è¿œçš„æŸä¸ªåœ°æ–¹</p>
</blockquote>
</li>
<li>ç”µè¯ã®ã‚€ã“ã†<blockquote>
<p>denwa no mukou</p>
<p>åœ¨ç”µè¯çš„å¦ä¸€å¤´</p>
</blockquote>
</li>
<li>ãƒãƒãŒæ³£ã„ã¦ãŸ<blockquote>
<p>mama ga naiteta</p>
<p>å¦ˆå¦ˆå“­äº†èµ·æ¥</p>
</blockquote>
</li>
<li>ã€Œå¤§ä¸ˆå¤«ï¼Ÿã€ã£ã¦ ã„ã£ãŸ<blockquote>
<p>daijoubu tte itta</p>
<p>æˆ‘é—®äº†ä¸€å£°ã€Œæ²¡äº‹å§?ã€</p>
</blockquote>
</li>
<li>ã‚ºãƒ«ã‚¤ãª å…ˆã«æ³£ãã‹ã‚‰<blockquote>
<p>zuruina saki ni naku kara</p>
<p>å¥½ç‹¡çŒ¾å•Š å› ä¸ºä½ å…ˆå“­äº†èµ·æ¥</p>
</blockquote>
</li>
<li>ç§ã¯ã‚‚ã† æ³£ã‘ãªããªã‚‹ã‚ˆ<blockquote>
<p>watashi wa mou nake naku naru yo</p>
<p>æˆ‘å°±å·²ç»æ— æ³•å“­æ³£</p>
</blockquote>
</li>
<li>ä»Š ã‚ãªãŸã®å£°ã‚’ é—»ãã“ã¨ã§ãã‚‹ãªã‚‰<blockquote>
<p>ima anata no koe wo kiku koto dekiru nara</p>
<p>å¦‚æœç°åœ¨ èƒ½å¬åˆ°ä½ çš„å£°éŸ³çš„è¯</p>
</blockquote>
</li>
<li>ã€Œçˆ±ã—ã¦ã‚‹ã€ã®ä¸€è¨€ã‚’<blockquote>
<p>aishiteru no hitokoto wo</p>
<p>ã€Œæˆ‘çˆ±ä½ ã€è¿™ä¸€å¥è¯</p>
</blockquote>
</li>
<li>è¨€ã£ã¦ã»ã—ã„<blockquote>
<p>itte hoshii</p>
<p>å¸Œæœ›ä½ èƒ½è¯´å‡ºæ¥</p>
</blockquote>
</li>
<li>è¨€ã£ã¦ã»ã—ã„<blockquote>
<p>itte hoshii</p>
<p>å¸Œæœ›ä½ èƒ½è¯´å‡ºæ¥</p>
</blockquote>
</li>
<li>ä»Š ã‚ãªãŸã«è¨€å¶ é€ã‚‹ã“ã¨ã§ãã‚‹ãªã‚‰<blockquote>
<p>ima anata ni kotoba okuru koto dekiru nara</p>
<p>å¦‚æœç°åœ¨ æˆ‘è¯´çš„è¯è¯­è¿˜èƒ½ä¼ è¾¾ç»™ä½ </p>
</blockquote>
</li>
<li>ã€Œç”Ÿã¾ã‚Œå¤‰ã‚ã£ã¦ã‚‚<blockquote>
<p>umare kawatte mo</p>
<p>ã€Œå°±ç®—è½¬ä¸–ä»¥å</p>
</blockquote>
</li>
<li>ã¾ãŸä¸€ç»ªã«ã„ãŸã„ã€<blockquote>
<p>mata isshyoni itai</p>
<p>æˆ‘è¿˜æ˜¯æƒ³å’Œä½ åœ¨ä¸€èµ·ã€</p>
</blockquote>
</li>
<li>ã‚‚ã†ä¼šãˆãªã„ãªã‚“ã¦â€¦<blockquote>
<p>mou aenai nante â€¦</p>
<p>ä¸æƒ³ç›¸ä¿¡å†ä¹Ÿæ— æ³•è§é¢ä»€ä¹ˆçš„â€¦</p>
</blockquote>
</li>
<li>ä»Šæ—¥ã‹ã‚‰æ€ã„å‡º<blockquote>
<p>kyou kara omoide</p>
<p>ä»ä»Šå¤©èµ·ä¸€åˆ‡éƒ½æ˜¯å›å¿†</p>
</blockquote>
</li>
<li>ãã‚Œã§ã‚‚æ€ã„å‡º<blockquote>
<p>sore demo omoide</p>
<p>å°½ç®¡å¦‚æ­¤ ä¹Ÿæ˜¯å›å¿†</p>
</blockquote>
</li>
<li>ã„ã¤ã‹ã¯ ãã† ä¸€äººã <blockquote>
<p>itsuka wa sou hitori da</p>
<p>ä¸çŸ¥ä½•æ—¶ åªå‰©ä¸‹æˆ‘ä¸€ä¸ªäºº</p>
</blockquote>
</li>
<li>ãã‚Œãªã‚‰ ã©ã†ã—ã¦<blockquote>
<p>sore nara doushite</p>
<p>å¦‚æœæ˜¯è¿™æ · é‚£ä¸ºä»€ä¹ˆ</p>
</blockquote>
</li>
<li>çª“ã®ã‚€ã“ã†  ã‚ãªãŸãŒè§ãˆãŸ<blockquote>
<p>mado no mukou anata ga mieta</p>
<p>åœ¨çª—æˆ·çš„å¦ä¸€è¾¹ æˆ‘çœ‹åˆ°äº†ä½ </p>
</blockquote>
</li>
<li>ã€Œå¤§ä¸ˆå¤«ï¼Ÿã€ã£ã¦ ã„ã†ã®ï¼Ÿ<blockquote>
<p>daijoubu tte iuno</p>
<p>æ˜¯å¦åœ¨é—®æˆ‘ ã€Œæ²¡äº‹å§?ã€</p>
</blockquote>
</li>
<li>ãƒ’ãƒ‰ã‚¤ãª ãã†é—»ã‹ã‚ŒãŸã‚‰<blockquote>
<p>hidoi na sou kikare tara</p>
<p>å¥½è¿‡åˆ†å•Š å¦‚æœè¢«è¿™æ ·é—®çš„è¯</p>
</blockquote>
</li>
<li>ç§ã¯ã‚‚ã† æ³£ã‘ãªããªã‚‹ã‚ˆ<blockquote>
<p>watashi wa mou nake naku naru yo</p>
<p>æˆ‘å°±æ— æ³•å“­æ³£äº†</p>
</blockquote>
</li>
<li>ä»Š ã‚ãªãŸã®å£°ã‚’ é—»ãã“ã¨ã§ãã‚‹ãªã‚‰<blockquote>
<p>ima anata no koe wo kiku koto dekiru nara</p>
<p>å¦‚æœç°åœ¨ èƒ½å¬åˆ°ä½ çš„å£°éŸ³çš„è¯</p>
</blockquote>
</li>
<li>ã€Œçˆ±ã—ã¦ã‚‹ã€ã®ä¸€è¨€ã‚’<blockquote>
<p>aishiteru no hitokoto wo</p>
<p>ã€Œæˆ‘çˆ±ä½ ã€è¿™ä¸€å¥è¯</p>
</blockquote>
</li>
<li>è¨€ã£ã¦ã»ã—ã„<blockquote>
<p>itte hoshii</p>
<p>å¸Œæœ›ä½ èƒ½è¯´å‡ºæ¥</p>
</blockquote>
</li>
<li>è¨€ã£ã¦ã»ã—ã„<blockquote>
<p>itte hoshii</p>
<p>å¸Œæœ›ä½ èƒ½è¯´å‡ºæ¥</p>
</blockquote>
</li>
<li>ä»Š ã‚ãªãŸã«è¨€å¶ é€ã‚‹ã“ã¨ã§ãã‚‹ãªã‚‰<blockquote>
<p>ima anatani kotoba okuru koto dekiru nara</p>
<p>å¦‚æœç°åœ¨ æˆ‘è¯´çš„è¯è¯­è¿˜èƒ½ä¼ è¾¾ç»™ä½ </p>
</blockquote>
</li>
<li>ã€Œç”Ÿã¾ã‚Œå¤‰ã‚ã£ã¦ã‚‚<blockquote>
<p>umare kawatte mo</p>
<p>ã€Œå°±ç®—è½¬ä¸–ä»¥å</p>
</blockquote>
</li>
<li>ã¾ãŸä¸€ç»ªã«ã„ãŸã„ã€<blockquote>
<p>mata isshyoni itai</p>
<p>æˆ‘è¿˜æ˜¯æƒ³å’Œä½ åœ¨ä¸€èµ·ã€</p>
</blockquote>
</li>
<li>ã‚‚ã†ä¼šãˆãªã„ãªã‚“ã¦â€¦<blockquote>
<p>mou aenai nante â€¦</p>
<p>ä¸æƒ³ç›¸ä¿¡å†ä¹Ÿæ— æ³•è§é¢ä»€ä¹ˆçš„â€¦</p>
</blockquote>
</li>
<li>ã‚‚ã†ä¼šãˆãªã„ãªã‚“ã¦â€¦<blockquote>
<p>mou aenai nante â€¦</p>
<p>ä¸æƒ³ç›¸ä¿¡å†ä¹Ÿæ— æ³•è§é¢ä»€ä¹ˆçš„ â€¦</p>
</blockquote>
</li>
</ul>
]]></content>
      <tags>
        <tag>æ­Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>Arcgisä¸­çš„pythonç¼–ç¨‹(3)</title>
    <url>/2019-06-16-arcgis-python-3.html</url>
    <content><![CDATA[<p>å­¦ä¹ æ—¥å¿— 3    </p>
<p>ä¹¦ç±ï¼šåŸºäºArcGISçš„Pythonç¼–ç¨‹ç§˜ç¬ˆ(ç¬¬2ç‰ˆ);  </p>
<ul>
<li>ä½¿ç”¨replaceDataSource()ä¿®å¤å•ä¸ªå›¾å±‚å’Œè¡¨å¯¹è±¡  </li>
<li>æŸ¥æ‰¾æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰åœ°å›¾æ–‡æ¡£å†…ä¸¢å¤±æ•°æ®æºçš„å›¾å±‚  </li>
</ul>
<a id="more"></a>

<h3><span id="1-ä½¿ç”¨replacedatasourceä¿®å¤å•ä¸ªå›¾å±‚å’Œè¡¨å¯¹è±¡">1. ä½¿ç”¨replaceDataSource()ä¿®å¤å•ä¸ªå›¾å±‚å’Œè¡¨å¯¹è±¡</span></h3><ul>
<li>layer.replaceDataSource()  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ›¿æ¢ä¸€ä¸ªå›¾å±‚</span><br><span class="line">import arcpy.mapping as mapping</span><br><span class="line">mxd &#x3D; mapping.MapDocument(&quot;current&quot;)</span><br><span class="line">df &#x3D; mapping.ListDataFrames(mxd, &quot;Crime&quot;)[0]</span><br><span class="line">lyr &#x3D; mapping.ListLayers(mxd, &quot;Burglary&quot;, df)[0]</span><br><span class="line"># layer.replaceDataSource()æ–¹æ³•æ›¿æ¢</span><br><span class="line">lyr.replaceDataSource(r&quot;H:\upUpStudy\pythonGis\åŸºäºarcgisçš„pythonç¼–ç¨‹ç§˜ç±ç¬¬äºŒç‰ˆæ•°æ®æ–‡ä»¶\ArcpyBook\data&quot;, &quot;SHAPEFILE_WORKSPACE&quot;, &quot;Burglaries_2009&quot;)</span><br></pre></td></tr></table></figure>

<h3><span id="2-æŸ¥æ‰¾æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰åœ°å›¾æ–‡æ¡£å†…ä¸¢å¤±æ•°æ®æºçš„å›¾å±‚">2. æŸ¥æ‰¾æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰åœ°å›¾æ–‡æ¡£å†…ä¸¢å¤±æ•°æ®æºçš„å›¾å±‚</span></h3><p>å†…å®¹ï¼šä½¿ç”¨å¾ªç¯æœç´¢æ–‡ä»¶å¤¹ä¸­çš„åœ°å›¾æ–‡æ¡£æ–‡ä»¶ï¼ŒæŸ¥æ‰¾è¿™äº›åœ°å›¾æ–‡æ¡£ä¸­ä¸¢å¤±çš„æ•°æ®æºï¼Œå¹¶å°†ä¸¢å¤±çš„æ•°æ®é“¾æ¥çš„å›¾å±‚åç§°å†™å…¥ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy.mapping as mapping</span><br><span class="line">import os</span><br><span class="line">## å†™æ–‡ä»¶æ“ä½œ å¾ªç¯ç›®å½•å†…å®¹,æ‰¾åˆ°mxdæ–‡æ¡£åˆ¤æ–­å†…éƒ¨æ˜¯å¦æœ‰ä¸¢å¤±æº</span><br><span class="line">## å¹¶æŠŠä¸¢å¤±æºçš„å›¾å±‚ä¿å­˜åœ¨æ–‡ä»¶ä¸­ ##</span><br><span class="line">## æ³¨æ„ï¼šos.walk(&#39;è·¯å¾„&#39;) è·¯å¾„è¿‡æ·±å¯¼è‡´å¤±è´¥ï¼Œæˆ–æœ‰ä¸­æ–‡å­—ç¬¦</span><br><span class="line">f &#x3D; open(&quot;BrokenDataList.txt&quot;, &quot;w&quot;)</span><br><span class="line"># os.walk()éå†ç›®å½•æ ‘</span><br><span class="line">for root, dirs, files in os.walk(&#39;H:\ArcpyBook&#39;):</span><br><span class="line">    for name in files:</span><br><span class="line">        filename &#x3D; os.path.join(root, name)</span><br><span class="line">        </span><br><span class="line">        if &quot;.mxd&quot; in filename:</span><br><span class="line">            mxd &#x3D; mapping.MapDocument(filename)</span><br><span class="line">            f.write(&quot;MXD: &quot; + filename + &quot;\n&quot;)</span><br><span class="line">            brknList &#x3D; mapping.ListBrokenDataSources(mxd)</span><br><span class="line">            for brknItem in brknList:</span><br><span class="line">                print(&quot;Broken data item: &quot; + brknItem.name + &quot; in &quot; + filename)</span><br><span class="line">                f.write(&quot;\t&quot; + brknItem.name + &quot;\n&quot;)</span><br><span class="line">print(&quot;All done\n&quot;)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>pythonGIS</tag>
      </tags>
  </entry>
  <entry>
    <title>Arcgisä¸­çš„pythonç¼–ç¨‹(2)</title>
    <url>/2019-06-13-arcgis-python-2.html</url>
    <content><![CDATA[<p>å­¦ä¹ æ—¥å¿— 2:   </p>
<p>ä¹¦ç±ï¼šåŸºäºArcGISçš„Pythonç¼–ç¨‹ç§˜ç¬ˆ(ç¬¬2ç‰ˆ);       </p>
<ul>
<li>åˆ©ç”¨å›¾å±‚æ›´æ–°å…¶ä»–å›¾å±‚å±æ€§  </li>
<li>æ“ä½œæ•°æ®æ¡†ä¸­å¯ç”¨æ—¶é—´å±æ€§çš„å›¾å±‚  </li>
<li>æŸ¥æ‰¾åœ°å›¾æ–‡æ¡£å’Œå›¾å±‚æ–‡ä»¶ä¸­ä¸¢å¤±çš„æ•°æ®æº  </li>
<li>ä½¿ç”¨MapDocument.findAndReplaceWorkplacePaths()ä¿®å¤ä¸¢å¤±çš„æ•°æ®æº  </li>
<li>ä½¿ç”¨MapDocument.replaceWorkspaces()æ–¹æ³•ä¿®å¤ä¸¢å¤±çš„æ•°æ®æº</li>
</ul>
<a id="more"></a>

<h3><span id="1-åˆ©ç”¨å›¾å±‚æ›´æ–°å…¶ä»–å›¾å±‚å±æ€§">1. åˆ©ç”¨å›¾å±‚æ›´æ–°å…¶ä»–å›¾å±‚å±æ€§</span></h3><p>ç»“æœä½¿å°†è¦æ›´æ–°çš„å›¾å±‚çš„å±æ€§å˜æˆä¸åŸå›¾å±‚ä¸€æ ·</p>
<p>æ›´æ–°å›¾å±‚ä¸æºå›¾å±‚æ‹¥æœ‰ç›¸åŒçš„å±æ€§</p>
<p>æ›´æ”¹çš„å±æ€§ï¼šä¾‹å¦‚ å›¾å±‚åã€å­—æ®µåˆ«åã€å®šä¹‰æŸ¥è¯¢ç­‰</p>
<p>å¯¹äºåœ¨å¤šä¸ªæ•°æ®æ¡†çš„ç›¸åŒçš„å›¾å±‚ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œå±æ€§æ›´æ”¹è®¾ç½®ï¼Œå¯é€šè¿‡è¿™æ ·çš„æ–¹æ³•è¿›è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy.mapping as mapping</span><br><span class="line">mxd &#x3D; mapping.MapDocument(&quot;current&quot;)</span><br><span class="line">df &#x3D; mapping.ListDataFrames(mxd, &quot;Crime&quot;)[0]</span><br><span class="line"># å°†è¦æ›´æ–°çš„å›¾å±‚</span><br><span class="line">updateLayer &#x3D; mapping.ListLayers(mxd, &quot;Crimes2009&quot;, df)[0]</span><br><span class="line"># ç”¨äºæ›´æ–°å›¾å±‚çš„æºå›¾å±‚</span><br><span class="line">sourceLayer &#x3D; mapping.Layer(r&quot;H:\upUpStudy\pythonGis\data\BurglariesNoForcedEntry.lyr&quot;)</span><br><span class="line"># æ›´æ–°ç¬¦å·ç³»ç»Ÿ</span><br><span class="line">mapping.UpdateLayer(df, updateLayer, sourceLayer, False)</span><br></pre></td></tr></table></figure>
<h3><span id="2-æ“ä½œæ•°æ®æ¡†ä¸­å¯ç”¨æ—¶é—´å±æ€§çš„å›¾å±‚">2. æ“ä½œæ•°æ®æ¡†ä¸­å¯ç”¨æ—¶é—´å±æ€§çš„å›¾å±‚</span></h3><ul>
<li>DataFrameTimeå¯¹è±¡(DataFrame.timeå±æ€§è¿”å›çš„ç»“æœ)</li>
</ul>
<p>å¯æ£€ç´¢</p>
<ul>
<li>currentTime (å½“å‰æ—¶é—´)</li>
<li>endTime (ç»“æŸæ—¶é—´)</li>
<li>startTime (å¼€å§‹æ—¶é—´)</li>
<li>timeStepInterval (æ—¶é—´æ­¥é•¿é—´éš”)</li>
</ul>
<p>æ•°æ®æ¡†ä¸­çš„å›¾å±‚å¿…é¡» ==å¯ç”¨æ—¶é—´å±æ€§== æ‰èƒ½è¿›è¡Œè¿™äº›æ“ä½œ </p>
<h4><span id="ä»¥7å¤©ä¸ºé—´éš”å¯¼å‡ºçŠ¯ç½ªç‚¹çš„ä½ç½®pdf">ä»¥7å¤©ä¸ºé—´éš”å¯¼å‡ºçŠ¯ç½ªç‚¹çš„ä½ç½®PDF</span></h4> <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy.mapping as mapping</span><br><span class="line">import os</span><br><span class="line"></span><br><span class="line">mxd &#x3D; mapping.MapDocument(&quot;current&quot;)</span><br><span class="line">df &#x3D; mapping.ListDataFrames(mxd, &quot;Crime&quot;)[0]</span><br><span class="line">dft &#x3D; df.time</span><br><span class="line"># dft ä¸ºDataFrameTimeå¯¹è±¡ </span><br><span class="line"># è®¾ç½®å½“å‰æ—¶é—´ä¸ºå¼€å§‹æ—¶é—´</span><br><span class="line">dft.currentTime &#x3D; dft.startTime</span><br><span class="line"># ä½¿ç”¨å¾ªç¯å¯¼å‡ºä»¥7å¤©ä¸ºé—´éš”çš„çŠ¯ç½ªæ•°æ®çš„PDFæ–‡ä»¶</span><br><span class="line">while dft.currentTime &lt;&#x3D; dft.endTime:</span><br><span class="line">    fileName &#x3D; str(dft.currentTime).split(&quot; &quot;)[0] + &quot;.pdf&quot;</span><br><span class="line">    # å¯¼å‡ºåœ°å›¾</span><br><span class="line">    mapping.ExportToPDF(mxd, os.path.join(r&quot;H:\upUpStudy\pythonGis\data\Ch2&quot;, fileName), df)</span><br><span class="line">    print(&quot;Export&quot; + fileName)</span><br><span class="line">    # å¾ªç¯æ§åˆ¶</span><br><span class="line">    dft.currentTime &#x3D; dft.currentTime + dft.timeStepInterval</span><br></pre></td></tr></table></figure>

<h3><span id="3-æŸ¥æ‰¾åœ°å›¾æ–‡æ¡£å’Œå›¾å±‚æ–‡ä»¶ä¸­ä¸¢å¤±çš„æ•°æ®æº">3. æŸ¥æ‰¾åœ°å›¾æ–‡æ¡£å’Œå›¾å±‚æ–‡ä»¶ä¸­ä¸¢å¤±çš„æ•°æ®æº</span></h3><p> å›¾å±‚æ–‡ä»¶å‰æœ‰æ„Ÿå¹å·è¡¨ç¤ºå·²ä¸¢å¤±æ•°æ®é“¾æ¥</p>
<ul>
<li>arcpy.mapping.ListBrokenDataSources() è¿”å›å·²ä¸¢å¤±æ•°æ®æºå›¾å±‚åˆ—è¡¨</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy.mapping as mapping</span><br><span class="line">mxd &#x3D; mapping.MapDocument(&quot;current&quot;)</span><br><span class="line"># è·å–æ–‡æ¡£ä¸­ä¸¢å¤±æ•°æ®æºå›¾å±‚åˆ—è¡¨</span><br><span class="line">listBrokenDS &#x3D; mapping.ListBrokenDataSources(mxd)</span><br><span class="line">for layer in listBrokenDS:</span><br><span class="line">    print(layer.name)</span><br></pre></td></tr></table></figure>

<h3><span id="4-ä½¿ç”¨mapdocumentfindandreplaceworkplacepathsä¿®å¤ä¸¢å¤±çš„æ•°æ®æº">4. ä½¿ç”¨MapDocument.findAndReplaceWorkplacePaths()ä¿®å¤ä¸¢å¤±çš„æ•°æ®æº</span></h3><ul>
<li>MapDocument.findAndReplaceWorkspacePaths()</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy.mapping as mapping</span><br><span class="line">mxd &#x3D; mapping.MapDocument(&quot;current&quot;)</span><br><span class="line"># è·å–æ–‡æ¡£ä¸­ä¸¢å¤±æ•°æ®æºå›¾å±‚åˆ—è¡¨</span><br><span class="line">listBrokenDS &#x3D; mapping.ListBrokenDataSources(mxd)</span><br><span class="line">for layer in listBrokenDS:</span><br><span class="line">    print(layer.name)</span><br><span class="line">    </span><br><span class="line">import arcpy.mapping as mapping</span><br><span class="line">mxd &#x3D; mapping.MapDocument(&quot;current&quot;)</span><br><span class="line"># ä¿®å¤æ–‡æ¡£ä¸­å›¾å±‚æ•°æ®æº</span><br><span class="line">mxd.findAndReplaceWorkspacePaths(r&quot;H:\upUpStudy\pythonGis\åŸºäºarcgisçš„pythonç¼–ç¨‹ç§˜ç±ç¬¬äºŒç‰ˆæ•°æ®æ–‡ä»¶\ArcpyBook\Ch3\Data\OldData\CityOfSanAntonio.gdb&quot;, r&quot;H:\upUpStudy\pythonGis\åŸºäºarcgisçš„pythonç¼–ç¨‹ç§˜ç±ç¬¬äºŒç‰ˆæ•°æ®æ–‡ä»¶\ArcpyBook\data\CityOfSanAntonio.gdb&quot;)</span><br><span class="line"># ç»“æœä¿å­˜åˆ°mxd</span><br><span class="line">mxd.saveACopy(r&quot;H:\upUpStudy\pythonGis\åŸºäºarcgisçš„pythonç¼–ç¨‹ç§˜ç±ç¬¬äºŒç‰ˆæ•°æ®æ–‡ä»¶\ArcpyBook\Ch3\Crime_DataLinksFixed.mxd&quot;)</span><br></pre></td></tr></table></figure>

<h4><span id="layerå’Œtableviewå¯¹è±¡çš„-findandreplacewokespacepaths">Layerå’ŒTableViewå¯¹è±¡çš„ findAndReplaceWokespacePaths()</span></h4><ul>
<li>Layer.findAndReplaceWokespacePaths()</li>
<li>TableView.findAndReplaceWokespacePaths()</li>
</ul>
<p>åªèƒ½ç”¨æ¥ä¿®å¤å•ä¸ªä¸¢å¤±çš„æ•°æ®æºï¼Œä¸èƒ½è¿›è¡Œå…¨å±€æŸ¥æ‰¾å¹¶æ›¿æ¢åœ°å›¾æ–‡æ¡£ä¸­æ‰€æœ‰ä¸¢å¤±çš„æ•°æ®æº</p>
<h4><span id="ç¼ºç‚¹-æ›¿æ¢çš„æ•°æ®æºå¿…é¡»ç±»å‹ç›¸åŒ">ç¼ºç‚¹ï¼š æ›¿æ¢çš„æ•°æ®æºå¿…é¡»ç±»å‹ç›¸åŒ</span></h4><p>å¦‚åŸæ¥çš„æ•°æ®æºæ˜¯ä¸ªäººåœ°ç†æ•°æ®åº“ï¼Œé‚£ä¹ˆæ›¿æ¢çš„æ•°æ®æºä¹Ÿå¿…é¡»æ˜¯ä¸ªäººåœ°ç†æ•°æ®åº“ï¼Œåªæ˜¯æ•°æ®åº“è·¯å¾„æ”¹å˜äº†</p>
<h3><span id="5-ä½¿ç”¨mapdocumentreplaceworkspacesæ–¹æ³•ä¿®å¤ä¸¢å¤±çš„æ•°æ®æº">5. ä½¿ç”¨MapDocument.replaceWorkspaces()æ–¹æ³•ä¿®å¤ä¸¢å¤±çš„æ•°æ®æº</span></h3><ul>
<li>MapDocument.replaceWorkspaces()</li>
</ul>
<p>å…è®¸ä»ä¸€ç§å·¥ä½œç©ºé—´ç±»å‹è½¬æ¢åˆ°å¦ä¸€ç§å·¥ä½œç©ºé—´ç±»å‹ï¼›</p>
<p>å¦‚ä»ä¸ªäººåœ°ç†æ•°æ®åº“åˆ°æ–‡ä»¶åœ°ç†æ•°æ®åº“ï¼›</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy.mapping as mapping</span><br><span class="line">mxd &#x3D; mapping.MapDocument(&quot;current&quot;)</span><br><span class="line"># æ›¿æ¢æ•°æ®æºä¸º.mdbä¸ªäººåœ°ç†æ•°æ®åº“çš„æº</span><br><span class="line">mxd.replaceWorkspaces(r&quot;H:\upUpStudy\pythonGis\åŸºäºarcgisçš„pythonç¼–ç¨‹ç§˜ç±ç¬¬äºŒç‰ˆæ•°æ®æ–‡ä»¶\ArcpyBook\data\CityOfSanAntonio.gdb&quot;, &quot;FILEGDB_WORKSPACE&quot;, r&quot;H:\upUpStudy\pythonGis\åŸºäºarcgisçš„pythonç¼–ç¨‹ç§˜ç±ç¬¬äºŒç‰ˆæ•°æ®æ–‡ä»¶\ArcpyBook\New_Data\CityOfSanAntonio_Personal.mdb&quot;, &quot;ACCESS_WORKSPACE&quot;)</span><br><span class="line">mxd.saveACopy(r&quot;H:\upUpStudy\pythonGis\åŸºäºarcgisçš„pythonç¼–ç¨‹ç§˜ç±ç¬¬äºŒç‰ˆæ•°æ®æ–‡ä»¶\ArcpyBook\Ch3\Crime_DataLinksUpdate.mxd&quot;)</span><br></pre></td></tr></table></figure>

]]></content>
      <tags>
        <tag>pythonGIS</tag>
      </tags>
  </entry>
  <entry>
    <title>è®°å½•ä½¿ç”¨è¿™ä¸ª blog theme</title>
    <url>/2019-06-12-essay1.html</url>
    <content><![CDATA[<blockquote>
<ul>
<li>ä½¿ç”¨github page æ¥ä½œä¸ºblogå·²ç»å¿«æœ‰ä¸€å¹´æ—¶é—´äº†;</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>æœ€å¼€å§‹ä½¿ç”¨hexo+githubæ¥æ­å»ºblogç¯å¢ƒï¼Œä¹Ÿæ¯”è¾ƒå¥½ç”¨ï¼Œä½†å¼„å¾—æœ€åâ€èŠ±é‡Œèƒ¡å“¨â€ï¼Œæœ‰è¿blogçš„æœ¬è´¨;</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>ä¹‹åå°è¯•wordpress(æ‡’ï¼Œå‘ç°éœ€è¦éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œç›´æ¥æ”¾å¼ƒ);</li>
</ul>
</blockquote>
<a id="more"></a>

<blockquote>
<ul>
<li>ä¸€ä¸ªå¥‘æœº(æµè§ˆæˆ‘ä¸ºæ•°ä¸å¤šçš„Lineå¥½å‹åŠ¨æ€)ï¼Œè®©æˆ‘å‘ç°çš„è¿™ä¸ªsites theme;</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>ç»™æˆ‘æœ€å¤§çš„æ„Ÿè§‰æ˜¯â€ç®€æ´â€å§(æœ€åˆæƒ³ç€themeèŠ±é‡Œèƒ¡å“¨çš„å¥½çœ‹ï¼Œæœ€åè¿˜æ˜¯æƒ³ç€å•ä¸€çš„ç®€æ´ï¼Œäººç”Ÿå•Š).</li>
</ul>
</blockquote>
]]></content>
      <tags>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title>GitæŒ‡ä»¤</title>
    <url>/2019-06-12-git-shang-chuan-xiang-mu.html</url>
    <content><![CDATA[<h4><span id="1æ–°å»ºé¡¹ç›®å">1.æ–°å»ºé¡¹ç›®å</span></h4><h4><span id="or-create-a-new-repository-on-the-command-line">â€¦or create a new repository on the command line</span></h4><a id="more"></a>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo &quot;# emmm&quot; &gt;&gt; README.md</span><br><span class="line">git init</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m &quot;first commit&quot;</span><br><span class="line">git remote add origin https:&#x2F;&#x2F;github.com&#x2F;zuahua&#x2F;pythonGame.git</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<h5><span id="or-push-an-existing-repository-from-the-command-line">â€¦or push an existing repository from the command line</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git remote add origin https:&#x2F;&#x2F;github.com&#x2F;zuahua&#x2F;pythonGame.git</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>
<h4><span id="2æµç¨‹">2.æµç¨‹</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; æ·»åŠ æ­¤æ–‡ä»¶å…¨éƒ¨</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;first commit&quot;</span><br><span class="line">git remote add origin https:&#x2F;&#x2F;github.com&#x2F;zuahua&#x2F;pythonGame.git</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>ubuntu16.04å®‰è£…vsftpd</title>
    <url>/2019-06-12-ubuntu16.04-vsftpd.html</url>
    <content><![CDATA[<p><a href="https://cnaning.iteye.com/blog/335797" target="_blank" rel="noopener external nofollow noreferrer">é…ç½®æ–‡ä»¶ä¸­è¯¦ç»†é…ç½®è¯´æ˜</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">service vsftpd restart &#x2F;&#x2F;é‡å¯ftpæœåŠ¡</span><br><span class="line"></span><br><span class="line">netstat -natp | grep 21 &#x2F;&#x2F;æŸ¥çœ‹ç«¯å£ç›‘å¬çŠ¶æ€</span><br><span class="line"></span><br><span class="line">apt-get remove vsftpd &#x2F;&#x2F;å¸è½½è½¯ä»¶</span><br><span class="line"></span><br><span class="line">service vsftpd status &#x2F;&#x2F;æŸ¥çœ‹vsftpdçš„çŠ¶æ€ï¼Œå¯ä»¥è¾“å…¥å‘½ä»¤</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h4><span id="å®‰è£…é…ç½®">å®‰è£…é…ç½®</span></h4><p><a href="https://blog.csdn.net/qq_36095713/article/details/78024781" target="_blank" rel="noopener external nofollow noreferrer">æ•™ç¨‹1</a></p>
<p>æœ¬åœ°è¿æ¥ 503é”™è¯¯</p>
<p><a href="https://blog.csdn.net/zhezhebie/article/details/78775323" target="_blank" rel="noopener external nofollow noreferrer">æ•™ç¨‹äºŒ</a></p>
<p>è¿œç¨‹è¿æ¥è¶…æ—¶</p>
<p>åœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨é‡Œè®¾ç½®é˜²ç«å¢™è§„åˆ™<br>FTPå°±èƒ½è¿æ¥äº†</p>
<h4><span id="å‘ç°è¿ä¸Šå¾ˆæ…¢ä¹Ÿå‡ºç°è¿æ¥è¶…æ—¶">å‘ç°è¿ä¸Šå¾ˆæ…¢ï¼Œä¹Ÿå‡ºç°è¿æ¥è¶…æ—¶</span></h4><p>åœ¨é˜¿é‡Œäº‘ä¸Šé˜²ç«å¢™è§„åˆ™æ·»åŠ  å…¨éƒ¨TCP</p>
<p>é…ç½®æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">listen_ipv6&#x3D;YES</span><br><span class="line">local_enable&#x3D;YES</span><br><span class="line"></span><br><span class="line">write_enable&#x3D;YES</span><br><span class="line"></span><br><span class="line">local_umask&#x3D;022</span><br><span class="line"></span><br><span class="line">dirmessage_enable&#x3D;YES</span><br><span class="line"></span><br><span class="line">use_localtime&#x3D;YES</span><br><span class="line"></span><br><span class="line">xferlog_enable&#x3D;YES</span><br><span class="line"></span><br><span class="line">connect_from_port_20&#x3D;YES</span><br><span class="line"></span><br><span class="line">xferlog_file&#x3D;&#x2F;var&#x2F;log&#x2F;vsftpd.log</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ascii_upload_enable&#x3D;YES</span><br><span class="line">ascii_download_enable&#x3D;YES</span><br><span class="line"></span><br><span class="line">chroot_local_user&#x3D;NO</span><br><span class="line"></span><br><span class="line">chroot_list_enable&#x3D;YES</span><br><span class="line"></span><br><span class="line">listen_ipv6&#x3D;YES</span><br><span class="line"></span><br><span class="line">anonymous_enable&#x3D;NO</span><br><span class="line"></span><br><span class="line">local_enable&#x3D;YES</span><br><span class="line"></span><br><span class="line">write_enable&#x3D;YES</span><br><span class="line"></span><br><span class="line">dirmessage_enable&#x3D;YES</span><br><span class="line">use_localtime&#x3D;YES</span><br><span class="line">xferlog_enable&#x3D;YES</span><br><span class="line">connect_from_port_20&#x3D;YES</span><br><span class="line"></span><br><span class="line">xferlog_file&#x3D;&#x2F;var&#x2F;log&#x2F;vsftpd.log</span><br><span class="line">ascii_upload_enable&#x3D;YES</span><br><span class="line">ascii_download_enable&#x3D;YES</span><br><span class="line">chroot_local_user&#x3D;NO</span><br><span class="line">chroot_list_enable&#x3D;YES</span><br><span class="line">secure_chroot_dir&#x3D;&#x2F;var&#x2F;run&#x2F;vsftpd&#x2F;empty</span><br><span class="line"></span><br><span class="line">pam_service_name&#x3D;vsftpd</span><br><span class="line"></span><br><span class="line">rsa_cert_file&#x3D;&#x2F;etc&#x2F;ssl&#x2F;certs&#x2F;ssl-cert-snakeoil.pem</span><br><span class="line">rsa_private_key_file&#x3D;&#x2F;etc&#x2F;ssl&#x2F;private&#x2F;ssl-cert-snakeoil.key</span><br><span class="line">ssl_enable&#x3D;NO</span><br><span class="line">pasv_enable&#x3D;YES</span><br><span class="line">pasv_min_port&#x3D;20000</span><br><span class="line">pasv_max_port&#x3D;20500</span><br><span class="line"></span><br><span class="line">max_clients&#x3D;5</span><br><span class="line">utf8_filesystem&#x3D;YES</span><br><span class="line"></span><br><span class="line">local_umask&#x3D;022</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>vsftpd</tag>
      </tags>
  </entry>
  <entry>
    <title>minecraftæœåŠ¡å™¨æ­å»º</title>
    <url>/2019-06-12-ubuntu-minecraft-server.html</url>
    <content><![CDATA[<p>æš‘å‡ç©ç½‘æ˜“ä»£ç†æˆ‘çš„ä¸–ç•Œï¼›</p>
<p>ç©å¾—ä¸çˆ½ï¼Œæ¨¡ç»„å¤ªå°‘ï¼›</p>
<p>æƒ³ç€è‡ªå·±ç”¨æœåŠ¡å™¨æ­ä¸€ä¸ªç©ç©</p>
<p>å‚è€ƒï¼š<br><a href="https://linux.cn/article-9480-1.html" target="_blank" rel="noopener external nofollow noreferrer">åœ¨ubuntuæ­å»ºminecraftæœåŠ¡å™¨</a></p>
<a id="more"></a>

<h4><span id="å®‰è£…java18">å®‰è£…java1.8</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get install openjdk-8-jdk</span><br></pre></td></tr></table></figure>
<h4><span id="å¸è½½java">å¸è½½java</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get remove openjdk*</span><br></pre></td></tr></table></figure>
<h4><span id="1screenè¿›å…¥screen">1.screenè¿›å…¥screen</span></h4><h5><span id="11-æ–°å»ºscreen">1.1 æ–°å»ºscreen</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">screen -S newscreen</span><br></pre></td></tr></table></figure>
<h5><span id="12-æ‰“å¼€screenè¿›ç¨‹">1.2 æ‰“å¼€screenè¿›ç¨‹</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">screen -r</span><br></pre></td></tr></table></figure>
<h4><span id="2kill-pidé€€å‡ºscreenæŸä¸ªè¿›ç¨‹">2.kill pidé€€å‡ºscreenæŸä¸ªè¿›ç¨‹</span></h4><h4><span id="3è¿è¡Œminecraft">3.è¿è¡Œminecraft</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">java -Xms500M -Xmx1300M -jar minecraft_server.1.12.2.jar nogui</span><br></pre></td></tr></table></figure>
<h4><span id="4æ‰§è¡Œshè„šæœ¬">4.æ‰§è¡Œ.shè„šæœ¬</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;minecraft&#x2F;start.sh</span><br></pre></td></tr></table></figure>
<h4><span id="5è¿›å…¥æœåŠ¡å™¨æ§åˆ¶å°">5.è¿›å…¥æœåŠ¡å™¨æ§åˆ¶å°</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">screen -r minecraft</span><br></pre></td></tr></table></figure>
<h4><span id="6ä¸‹è½½æ–°ç‰ˆæœ¬minecraft">6.ä¸‹è½½æ–°ç‰ˆæœ¬minecraft</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;s3.amazonaws.com&#x2F;Minecraft.Download&#x2F;versions&#x2F;1.12.2&#x2F;minecraft_server.1.12.2.jar</span><br></pre></td></tr></table></figure>
<h5><span id="61æ¥ä¸‹æ¥è¿è¡Œå¹¶æ„å»ºæ–°æœåŠ¡ç«¯">6.1æ¥ä¸‹æ¥ï¼Œè¿è¡Œå¹¶æ„å»ºæ–°æœåŠ¡ç«¯ï¼š</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">java -Xms500M -Xmx1300M -jar minecraft_server.1.12.2.jar nogui</span><br></pre></td></tr></table></figure>
<h5><span id="62æœ€åæ›´æ–°ä½ çš„å¯åŠ¨è„šæœ¬">6.2æœ€åï¼Œæ›´æ–°ä½ çš„å¯åŠ¨è„šæœ¬ï¼š</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim minecraft&#x2F;start.sh</span><br></pre></td></tr></table></figure>
<h5><span id="63æ›´æ–°ç‰ˆæœ¬å·æ•°å­—">6.3æ›´æ–°ç‰ˆæœ¬å·æ•°å­—ï¼š</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">cd &#x2F;minecraft&#x2F; &amp;&amp; java -Xms500M -Xmx1300M -jar minecraft_server.1.12.2.jar nogui</span><br></pre></td></tr></table></figure>
<h4><span id="7serverpropertieså‚æ•°">7.server.propertieså‚æ•°</span></h4><p><a href="https://minecraft-zh.gamepedia.com/index.php?title=Server.properties&variant=zh" target="_blank" rel="noopener external nofollow noreferrer">server.propertieså‚æ•°</a></p>
<h4><span id="8">8.</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">screen -S yourname -&gt; æ–°å»ºä¸€ä¸ªå«yournameçš„session</span><br><span class="line">screen -ls -&gt; åˆ—å‡ºå½“å‰æ‰€æœ‰çš„session</span><br><span class="line">screen -r yourname -&gt; å›åˆ°yournameè¿™ä¸ªsession</span><br><span class="line">screen -d yourname -&gt; è¿œç¨‹detachæŸä¸ªsession</span><br><span class="line">screen -d -r yourname -&gt; ç»“æŸå½“å‰sessionå¹¶å›åˆ°yournameè¿™ä¸ªsession</span><br></pre></td></tr></table></figure>
<h4><span id="9minecraftæœåŠ¡ç«¯æŒ‡ä»¤">9.minecraftæœåŠ¡ç«¯æŒ‡ä»¤</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;op ç©å®¶å    &#x2F;&#x2F; ç»™æƒé™</span><br><span class="line">&#x2F;gamemode æ¨¡å¼ ç©å®¶å</span><br></pre></td></tr></table></figure>
<h4><span id="10forgeå®‰è£…">10.forgeå®‰è£…</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;files.minecraftforge.net&#x2F;maven&#x2F;net&#x2F;minecraftforge&#x2F;forge&#x2F;1.12.2-14.23.5.2808&#x2F;forge-1.12.2-14.23.5.2808-installer.jar</span><br><span class="line">java -jar forgeæ–‡ä»¶.jar --insatll</span><br></pre></td></tr></table></figure>
<h5><span id="101è¿è¡Œforge">10.1è¿è¡Œforge</span></h5><h5><span id="è¿è¡Œforgeéœ€è¦java18">è¿è¡Œforgeéœ€è¦java1.8</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">java -Xms500M -Xmx1300M -server -jar forge-1.12.2-14.23.5.2808-universal.jar -nogui</span><br></pre></td></tr></table></figure>
<h4><span id="11èµ‹äºˆshæ–‡ä»¶æƒé™">11èµ‹äºˆ.shæ–‡ä»¶æƒé™</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod +x start.sh</span><br></pre></td></tr></table></figure>
<h4><span id="12mcæœåŠ¡å™¨å´©æºƒè‡ªå¯è„šæœ¬">12MCæœåŠ¡å™¨å´©æºƒè‡ªå¯è„šæœ¬</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">while true</span><br><span class="line">do</span><br><span class="line">cd &#x2F;minecraft&#x2F; &amp;&amp; java -Xms500M -Xmx1300M -jar minecraft_server.1.12.2.jar nogui</span><br><span class="line">done</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>Minecraft</tag>
      </tags>
  </entry>
  <entry>
    <title>Arcgisä¸­çš„pythonç¼–ç¨‹(1)</title>
    <url>/2019-06-13-arcgis-python-1.html</url>
    <content><![CDATA[<h3><span id="å­¦ä¹ æ—¥å¿—-1">å­¦ä¹ æ—¥å¿— 1:</span></h3><p>ä¹¦ç±ï¼šåŸºäºArcGISçš„Pythonç¼–ç¨‹ç§˜ç¬ˆ(ç¬¬2ç‰ˆ);   </p>
<ul>
<li>arcpyåº“  </li>
<li>å¼•ç”¨mxdæ–‡æ¡£ã€æ•°æ®æ¡†ã€å›¾å±‚  </li>
<li>æ”¹å˜åœ°å›¾èŒƒå›´  </li>
<li>æ·»åŠ å›¾å±‚æ–‡ä»¶åˆ°æ•°æ®æ¡†  </li>
<li>æ’å…¥ä¸€ä¸ªå›¾å±‚åˆ°æŸä¸ªä½ç½®  </li>
</ul>
<a id="more"></a>

<h3><span id="1-arcpyåº“">1. arcpyåº“</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import arcpy.mapping as mapping</span><br></pre></td></tr></table></figure>
<h3><span id="2-å¼•ç”¨mxdæ–‡æ¡£-æ•°æ®æ¡†-å›¾å±‚">2. å¼•ç”¨mxdæ–‡æ¡£ã€æ•°æ®æ¡†ã€å›¾å±‚</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mxd &#x3D; mapping.MapDocument(&quot;H:\\upUpStudy\\pythonGis\\text\\text.mxd&quot;)</span><br><span class="line"></span><br><span class="line">#æˆ–</span><br><span class="line"></span><br><span class="line">mxd &#x3D; mapping.MapDocument(&quot;current&quot;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">df &#x3D; mapping.ListDataFrames(mxd)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">layers &#x3D; mapping.ListLayers(mxd, &quot;p&quot;, df)</span><br></pre></td></tr></table></figure>

<h3><span id="3-æ”¹å˜åœ°å›¾èŒƒå›´">3. æ”¹å˜åœ°å›¾èŒƒå›´</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import arcpy.mapping as mapping</span><br><span class="line">... mxd &#x3D; mapping.MapDocument(&quot;current&quot;)</span><br><span class="line">... </span><br><span class="line">... </span><br><span class="line">&gt;&gt;&gt; for df in mapping.ListDataFrames(mxd):</span><br><span class="line">...     if df &#x3D;&#x3D; &quot;df1&quot;:</span><br><span class="line">...         layers &#x3D; mapping.ListLayers(mxd, &#39;counties&#39;, df)</span><br><span class="line">...         for layer in layers:</span><br><span class="line">...             query &#x3D; &#39;&quot;county&quot; &#x3D; &quot;HAYS&quot;&#39;</span><br><span class="line">...             layer.definitionQuery &#x3D; query</span><br><span class="line">...             df.extent &#x3D; layer.getExtent()</span><br></pre></td></tr></table></figure>

<h3><span id="4-æ·»åŠ å›¾å±‚æ–‡ä»¶åˆ°æ•°æ®æ¡†">4. æ·»åŠ å›¾å±‚æ–‡ä»¶åˆ°æ•°æ®æ¡†</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import arcpy.mapping as mapping</span><br><span class="line">... mxd &#x3D; mapping.MapDocument(&quot;current&quot;)</span><br><span class="line">... df &#x3D; mapping.ListDataFrames(mxd)[0]</span><br><span class="line">#########</span><br><span class="line">... layer &#x3D; mapping.Layer(r&#39;H:\upUpStudy\pythonGis\data\counties.lyr&#39;)</span><br><span class="line">... mapping.AddLayer(df, layer, &quot;AUTO_ARRANGE&quot;)</span><br><span class="line">##########</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h4><span id="41-æ·»åŠ åˆ°å›¾å±‚ç»„-ç§»é™¤å›¾å±‚">4.1 æ·»åŠ åˆ°å›¾å±‚ç»„ã€ç§»é™¤å›¾å±‚</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mapping.AddLayerToGroup()</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mapping.RemoveLayer()</span><br></pre></td></tr></table></figure>
<h3><span id="5-æ’å…¥ä¸€ä¸ªå›¾å±‚åˆ°æŸä¸ªä½ç½®">5. æ’å…¥ä¸€ä¸ªå›¾å±‚åˆ°æŸä¸ªä½ç½®</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mapping.InsertLayer()</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import arcpy.mapping as mapping</span><br><span class="line">&gt;&gt;&gt; mxd &#x3D; mapping.MapDocument(&quot;current&quot;)</span><br><span class="line">&gt;&gt;&gt; df &#x3D; mapping.ListDataFrames(mxd)[0]</span><br><span class="line">&gt;&gt;&gt; # å‚è€ƒå›¾å±‚</span><br><span class="line">&gt;&gt;&gt; </span><br><span class="line">&gt;&gt;&gt; reflayer &#x3D; mapping.ListLayers(mxd, &#39;boun*&#39;, df)[0]</span><br><span class="line">&gt;&gt;&gt; # æ’å…¥çš„å›¾å±‚</span><br><span class="line">&gt;&gt;&gt; insertLayer &#x3D; mapping.Layer(r&#39;H:\upUpStudy\pythonGis\data\streets.shp&#39;)</span><br><span class="line">&gt;&gt;&gt; # æ’å…¥</span><br><span class="line">&gt;&gt;&gt; mapping.InsertLayer(df, reflayer, insertLayer, &quot;BEFORE&quot;)</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>pythonGIS</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€é¡ºåºæ ˆ</title>
    <url>/2019-03-19-c-yu-yan-shun-xu-zhan.html</url>
    <content><![CDATA[<p>ç¯å¢ƒï¼švscode Cè¯­è¨€</p>
<a id="more"></a>

<h4><span id="cè¯­è¨€é¡ºåºæ ˆ">Cè¯­è¨€é¡ºåºæ ˆ</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;stdlib.h&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç»“æ„ä½“å­˜å‚¨æ ˆèŠ‚ç‚¹æ•°æ®</span><br><span class="line">typedef struct student&#123;</span><br><span class="line">    char *name;</span><br><span class="line">    &#x2F;&#x2F;int age;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">&#125;student;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ ˆçš„ç»“æ„ä½“</span><br><span class="line">typedef struct stack</span><br><span class="line">&#123;</span><br><span class="line">    student *arr; &#x2F;&#x2F; ç»“æ„ä½“æ•°ç»„å­˜å‚¨èŠ‚ç‚¹æ•°æ®</span><br><span class="line">    int top;  &#x2F;&#x2F; æ ˆé¡¶å…ƒç´ çš„ä¸‹ä¸€ä½(æ ˆé¡¶æ¸¸æ ‡)</span><br><span class="line">    int size;  &#x2F;&#x2F; æ ˆçš„å¤§å°</span><br><span class="line">    int inc; &#x2F;&#x2F; æ‰©å¢æ ˆå¤§å°çš„å˜é‡</span><br><span class="line">&#125;stack;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ ˆçš„åˆå§‹åŒ–</span><br><span class="line">void stackInit(stack *s, int size, int inc)&#123;</span><br><span class="line">    printf(&quot;---åˆå§‹åŒ–æ ˆ---\n&quot;);</span><br><span class="line">    s-&gt;arr &#x3D; (student*)malloc(size*sizeof(student)); &#x2F;&#x2F; å¼€è¾Ÿå†…å­˜ç©ºé—´</span><br><span class="line">    s-&gt;size &#x3D; size;</span><br><span class="line">    s-&gt;inc &#x3D; inc;</span><br><span class="line">    s-&gt;top &#x3D; 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å…¥æ ˆæ“ä½œ</span><br><span class="line">void stackPush(stack *s, student e)&#123;</span><br><span class="line">    printf(&quot;å…¥æ ˆå…ƒç´ :%s\n&quot;, e.name);</span><br><span class="line">    if(s-&gt;top &gt;&#x3D; s-&gt;size)&#123; &#x2F;&#x2F;æ‰©å¢æ ˆçš„å¤§å°</span><br><span class="line">        student *base &#x3D; (student*)realloc(s-&gt;arr, (s-&gt;size+s-&gt;inc)*sizeof(student));</span><br><span class="line">        s-&gt;arr &#x3D; base;</span><br><span class="line">        s-&gt;size &#x3D; s-&gt;size + s-&gt;inc;</span><br><span class="line">        printf(&quot;å·²æ‰©å¢\n&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; å…¥æ ˆ</span><br><span class="line">    s-&gt;arr[s-&gt;top] &#x3D; e;</span><br><span class="line">    s-&gt;top &#x3D; s-&gt;top + 1;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å‡ºæ ˆæ“ä½œ</span><br><span class="line">void stackPull(stack *s)&#123; &#x2F;&#x2F; æ ˆé¡¶å…ƒç´ å‡º</span><br><span class="line">    printf(&quot;å‡ºæ ˆå…ƒç´ ï¼š%s\n&quot;, s-&gt;arr[s-&gt;top-1].name);</span><br><span class="line">    student p;</span><br><span class="line">    s-&gt;arr[s-&gt;top-1] &#x3D; p;</span><br><span class="line">    s-&gt;top &#x3D; s-&gt;top - 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ ˆçš„æ‰“å°</span><br><span class="line">void stackPrint(stack *s)&#123;</span><br><span class="line">    printf(&quot;æ‰“å°æ ˆ-----------\n&quot;);</span><br><span class="line">    int N &#x3D; s-&gt;top;</span><br><span class="line">    int i;</span><br><span class="line">    for(i&#x3D;N-1; i&gt;&#x3D;0; i--)&#123;</span><br><span class="line">        printf(&quot;æ ˆå…ƒç´ :%s\n&quot;, s-&gt;arr[i].name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; å…¥æ ˆçš„å…ƒç´ </span><br><span class="line">    student e1 &#x3D; &#123;&quot;n1&quot;&#125;;</span><br><span class="line">    student e2 &#x3D; &#123;&quot;n2&quot;&#125;;</span><br><span class="line">    student e3 &#x3D; &#123;&quot;n3&quot;&#125;;</span><br><span class="line">    student e4 &#x3D; &#123;&quot;n4&quot;&#125;;</span><br><span class="line">    student e5 &#x3D; &#123;&quot;n5&quot;&#125;;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; æ ˆ</span><br><span class="line">    stack *s &#x3D; (stack*)malloc(sizeof(stack));</span><br><span class="line">    stackInit(s, 3, 1); &#x2F;&#x2F; æ ˆåˆå§‹åŒ–</span><br><span class="line">    &#x2F;&#x2F; å…¥æ ˆ</span><br><span class="line">    stackPush(s, e1);</span><br><span class="line">    stackPush(s, e2);</span><br><span class="line">    stackPush(s, e3);</span><br><span class="line">    stackPush(s, e4);</span><br><span class="line">    stackPush(s, e5);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; æ‰“å°</span><br><span class="line">    stackPrint(s);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; å‡ºæ ˆ</span><br><span class="line">    stackPull(s);</span><br><span class="line">    stackPull(s);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; å†æ‰“å°å‘¢</span><br><span class="line">    stackPrint(s);</span><br><span class="line">    </span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>Cè¯­è¨€</tag>
      </tags>
  </entry>
  <entry>
    <title>python3 é“¾è¡¨ç»“æ„</title>
    <url>/2019-03-10-python3-lian-biao-jie-gou.html</url>
    <content><![CDATA[<p>ç¯å¢ƒ: python3<br>å·¥å…·: Spyder</p>
<a id="more"></a>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">Created on Sun Mar 10 17:09:47 2019</span><br><span class="line"></span><br><span class="line">@author: inno</span><br><span class="line">titleï¼› å•å‘é“¾è¡¨ï¼Œåˆ›å»ºï¼Œåˆ é™¤æŸä¸ªèŠ‚ç‚¹</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;èŠ‚ç‚¹ç±»&quot;&quot;&quot;</span><br><span class="line">class Node():</span><br><span class="line">    def __init__(self, data):</span><br><span class="line">        self.data &#x3D; data</span><br><span class="line">        self.pnext &#x3D; None</span><br><span class="line">        </span><br><span class="line">&quot;&quot;&quot;ç±»ï¼šå°è£…å„ç§æ–¹æ³•&quot;&quot;&quot;</span><br><span class="line">class Function():</span><br><span class="line">    def __init__(self, head):</span><br><span class="line">        self.head &#x3D; head</span><br><span class="line">    </span><br><span class="line">    # æ·»åŠ èŠ‚ç‚¹</span><br><span class="line">    def appendNode(self):</span><br><span class="line">        # ä»¤prä¸ºç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span><br><span class="line">        self.pr &#x3D; self.head</span><br><span class="line">        if self.head.data &#x3D;&#x3D; None: # è‹¥å¤´éƒ¨ä¸ºç©º</span><br><span class="line">            self.head.data &#x3D; input(&quot;Input data:&quot;)</span><br><span class="line">            self.head.pnext &#x3D; None</span><br><span class="line">        else:</span><br><span class="line">            while self.pr.pnext !&#x3D; None:</span><br><span class="line">                self.pr &#x3D; self.pr.pnext</span><br><span class="line">            </span><br><span class="line">            newNode &#x3D; Node(None)</span><br><span class="line">            self.pr.pnext &#x3D; newNode</span><br><span class="line">            newNode.data &#x3D; input(&quot;Input a data:&quot;)</span><br><span class="line">        return self.head</span><br><span class="line">    </span><br><span class="line">    # ä¼ å…¥dataï¼Œåˆ é™¤è¿™ä¸ªèŠ‚ç‚¹</span><br><span class="line">    def delNode(self, delData):</span><br><span class="line">        </span><br><span class="line">        pr &#x3D; self.head</span><br><span class="line">        p &#x3D; self.head</span><br><span class="line">        if str(self.head.data) &#x3D;&#x3D; str(delData):</span><br><span class="line">            return self.head.pnext</span><br><span class="line">        else:</span><br><span class="line">            while str(pr.data) !&#x3D; str(delData):</span><br><span class="line">                p &#x3D; pr</span><br><span class="line">                pr &#x3D; pr.pnext</span><br><span class="line">            if pr.pnext !&#x3D; None:</span><br><span class="line">                p.pnext &#x3D; pr.pnext</span><br><span class="line">            else:</span><br><span class="line">                p.pnext &#x3D; None</span><br><span class="line">        return self.head</span><br><span class="line">        </span><br><span class="line">                    </span><br><span class="line">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:</span><br><span class="line">    # æµ‹è¯•1</span><br><span class="line">    # æ‰‹åŠ¨åˆ›å»º3ä¸ªèŠ‚ç‚¹</span><br><span class="line">    node1 &#x3D; Node(1)</span><br><span class="line">    node2 &#x3D; Node(2)</span><br><span class="line">    node3 &#x3D; Node(3)</span><br><span class="line">    node1.pnext &#x3D; node2</span><br><span class="line">    node2.pnext &#x3D; node3</span><br><span class="line">    # è°ƒç”¨æ–¹æ³•ï¼Œæ·»åŠ ç¬¬4ç‚¹</span><br><span class="line">    fun &#x3D; Function(node1)</span><br><span class="line">    node &#x3D; fun.appendNode()</span><br><span class="line">    while node !&#x3D; None:</span><br><span class="line">        print(node.data)</span><br><span class="line">        node &#x3D; node.pnext</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    # æµ‹è¯•2</span><br><span class="line">    # åˆ©ç”¨å¾ªç¯åˆ›å»º5ä¸ªèŠ‚ç‚¹çš„é“¾è¡¨</span><br><span class="line">    link &#x3D; Node(None)</span><br><span class="line">    fun1 &#x3D; Function(link)</span><br><span class="line">    for i in range(5):</span><br><span class="line">        link &#x3D; fun1.appendNode()</span><br><span class="line">    p_link &#x3D; link</span><br><span class="line">    while p_link !&#x3D; None:</span><br><span class="line">        print(p_link.data)</span><br><span class="line">        p_link &#x3D; p_link.pnext</span><br><span class="line">    print(&#39;&#39;)</span><br><span class="line">        </span><br><span class="line">    </span><br><span class="line">    # æµ‹è¯•3</span><br><span class="line">    # åˆ é™¤èŠ‚ç‚¹æ•°æ®ä¸º555çš„èŠ‚ç‚¹</span><br><span class="line">    fun2 &#x3D; Function(link)</span><br><span class="line">    link &#x3D; fun2.delNode(555)</span><br><span class="line">    p_link2 &#x3D; link</span><br><span class="line">    while p_link2 !&#x3D; None:</span><br><span class="line">        print(p_link2.data)</span><br><span class="line">        p_link2 &#x3D; p_link2.pnext</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>pythonæ•°æ®ç»“æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>pygameé£æœºå¤§æˆ˜æ¸¸æˆæ‰“åŒ…ä¸ºexe</title>
    <url>/2019-03-07-pygame-exe.html</url>
    <content><![CDATA[<p>ç¯å¢ƒ: python 3.5<br>ä½¿ç”¨æ‰“åŒ…åº“ï¼šcx_Freeze<br><a href="http://sighingnow.github.io/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/cx_freeze.html" target="_blank" rel="noopener external nofollow noreferrer">å¯å‚è€ƒ</a></p>
<a id="more"></a>

<h4><span id="pygameé£æœºå¤§æˆ˜æ¸¸æˆæ‰“åŒ…ä¸ºexe">pygameé£æœºå¤§æˆ˜æ¸¸æˆæ‰“åŒ…ä¸ºexe</span></h4><h5><span id="å®‰è£…">å®‰è£…</span></h5><p>cmdä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip install cx_freeze</span><br></pre></td></tr></table></figure>
<h5><span id="è§£åŒ…">è§£åŒ…</span></h5><p>cmdåˆ°pythonå®‰è£…ç›®å½•scriptsç›®å½•ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">python cxfreeze-postinstall</span><br></pre></td></tr></table></figure>
<h5><span id="æ£€æŸ¥æ˜¯å¦å®‰è£…å¥½">æ£€æŸ¥æ˜¯å¦å®‰è£…å¥½</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cxfreeze -h</span><br></pre></td></tr></table></figure>
<h5><span id="æ‰“åŒ…">æ‰“åŒ…</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cxfreeze æ–‡ä»¶å.py</span><br></pre></td></tr></table></figure>
<h5><span id="æ³¨æ„">æ³¨æ„</span></h5><p><strong>æ‰“åŒ…ä¸»æ–‡ä»¶ï¼ŒåŠæ‰§è¡Œæ–‡ä»¶ï¼Œå…¶ä»–.pyæ–‡ä»¶åœ¨åŒä¸€ç›®å½•ï¼Œ<br>æœ‰å›¾ç‰‡æ³¨æ„ç›¸å¯¹è·¯å¾„</strong></p>
<p><strong>æ‰“åŒ…å®Œæˆä¼šç”Ÿæˆdistæ–‡ä»¶ç›®å½•ï¼Œå›¾ç‰‡æ–‡ä»¶åº”æ”¾åœ¨å…¶ä¸­ï¼Œä¸exeæ–‡ä»¶ç›¸å¯¹åº”çš„è·¯å¾„</strong></p>
<p>æ­¤æ—¶è¿è¡Œä¼šå¼¹å‡ºä¸€é—ªè€Œè¿‡çš„é»‘çª—å£</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cxfreeze .py(éœ€æ‰“åŒ…æ–‡ä»¶è·¯å¾„ï¼‰ --target-dir D:\aï¼ˆå­˜æ”¾exeçš„ç›®æ ‡æ–‡ä»¶å¤¹è·¯å¾„ï¼‰--base-name&#x3D;win32gui</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>pygame</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€é“¾è¡¨</title>
    <url>/2019-03-03-c-yu-yan-lian-biao.html</url>
    <content><![CDATA[<p>ç¯å¢ƒ: VC++ 6.0</p>
<a id="more"></a>

<h4><span id="cè¯­è¨€é“¾è¡¨">Cè¯­è¨€é“¾è¡¨</span></h4><h5><span id="1å¤´æ–‡ä»¶">1.å¤´æ–‡ä»¶</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#include &quot;stdafx.h&quot;  &#x2F;&#x2F; å¯ç•¥</span><br><span class="line">#include &quot;stdio.h&quot;</span><br><span class="line">#include &quot;stdlib.h&quot;</span><br></pre></td></tr></table></figure>
<h5><span id="2å‡½æ•°å">2.å‡½æ•°å</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">struct link *AppendNode(struct link *head);</span><br><span class="line">void DisplayNode(struct link *head);</span><br><span class="line">struct link *creat(struct link *head, int n);</span><br><span class="line">void DeleteMemory(struct link *head);</span><br><span class="line">struct link *DeleteNode(struct link *head, int nodedata);</span><br><span class="line">struct link *InsertNode(struct link *head, int nodedata);</span><br></pre></td></tr></table></figure>
<h5><span id="3-ç»“æ„ä½“">3. ç»“æ„ä½“</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; ç»“æ„ä½“</span><br><span class="line">typedef struct link</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	int data;</span><br><span class="line">	struct link *next;</span><br><span class="line">&#125;Link;</span><br></pre></td></tr></table></figure>
<h5><span id="4-ä¸»å‡½æ•°">4. ä¸»å‡½æ•°</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;* ä¸»å‡½æ•° *&#x2F;</span><br><span class="line">int main(int argc, char* argv[])</span><br><span class="line">&#123;</span><br><span class="line">	Link *head &#x3D; NULL;</span><br><span class="line">	&#x2F;&#x2F;head &#x3D; AppendNode(head);</span><br><span class="line">	head &#x3D; creat(head, 5);</span><br><span class="line">	DisplayNode(head);</span><br><span class="line">	printf(&quot;\n&quot;);</span><br><span class="line">	&#x2F;&#x2F;DeleteMemory(head);</span><br><span class="line">	Link *head1 &#x3D; DeleteNode(head, 555);</span><br><span class="line">	DisplayNode(head1);</span><br><span class="line">	printf(&quot;\n&quot;);</span><br><span class="line">	Link *head2 &#x3D; InsertNode(head1, 555);</span><br><span class="line">	DisplayNode(head2);</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5><span id="5-æ–¹æ³•æ–°å»ºä¸€ä¸ªèŠ‚ç‚¹å¹¶æ·»åŠ åˆ°é“¾è¡¨æœ«å°¾è¿”å›æ·»åŠ èŠ‚ç‚¹åçš„é“¾è¡¨çš„å¤´æŒ‡é’ˆ">5. æ–¹æ³•:æ–°å»ºä¸€ä¸ªèŠ‚ç‚¹å¹¶æ·»åŠ åˆ°é“¾è¡¨æœ«å°¾ï¼Œè¿”å›æ·»åŠ èŠ‚ç‚¹åçš„é“¾è¡¨çš„å¤´æŒ‡é’ˆ</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;* æ–°å»ºä¸€ä¸ªèŠ‚ç‚¹å¹¶æ·»åŠ åˆ°é“¾è¡¨æœ«å°¾ï¼Œè¿”å›æ·»åŠ èŠ‚ç‚¹åçš„é“¾è¡¨çš„å¤´æŒ‡é’ˆ *&#x2F;</span><br><span class="line">Link *AppendNode(Link *head)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	Link *p &#x3D; NULL, *pr &#x3D; head;</span><br><span class="line">	int data;</span><br><span class="line">	p &#x3D; (Link*)malloc(sizeof(Link));</span><br><span class="line">	if(p &#x3D;&#x3D; NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		&#x2F;&#x2F; æ–°å»ºå†…å­˜å¤±è´¥ï¼Œé€€å‡ºç¨‹åº</span><br><span class="line">		printf(&quot;No enough memory\n&quot;);</span><br><span class="line">		exit(0);</span><br><span class="line">	&#125;</span><br><span class="line">	&#x2F;&#x2F; è‹¥åŸé“¾è¡¨ä¸ºç©º</span><br><span class="line">	if(head &#x3D;&#x3D; NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		head &#x3D; p;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		while(pr-&gt;next !&#x3D; NULL)</span><br><span class="line">		&#123;</span><br><span class="line">			pr &#x3D; pr-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		pr-&gt;next &#x3D; p;</span><br><span class="line">	&#125;</span><br><span class="line">	printf(&quot;Input data:&quot;);</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;data);</span><br><span class="line">	p-&gt;data &#x3D; data;</span><br><span class="line">	p-&gt;next &#x3D; NULL;</span><br><span class="line">	return head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5><span id="6æ–¹æ³•-æ˜¾ç¤ºé“¾è¡¨ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹çš„èŠ‚ç‚¹å·å’Œæ•°æ®">6.æ–¹æ³•: æ˜¾ç¤ºé“¾è¡¨ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹çš„èŠ‚ç‚¹å·å’Œæ•°æ®</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;* æ˜¾ç¤ºé“¾è¡¨ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹çš„èŠ‚ç‚¹å·å’Œæ•°æ® *&#x2F;</span><br><span class="line">void DisplayNode(struct link *head)</span><br><span class="line">&#123;</span><br><span class="line">	Link *p &#x3D; head;</span><br><span class="line">	int j &#x3D; 1;</span><br><span class="line">	while(p !&#x3D; NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;%5d, %10d\n&quot;, j, p-&gt;data);</span><br><span class="line">		p &#x3D; p-&gt;next;</span><br><span class="line">		j++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5><span id="7-åˆ›å»ºé“¾è¡¨å­˜å‚¨nä¸ªæ•°æ®">7. åˆ›å»ºé“¾è¡¨,å­˜å‚¨nä¸ªæ•°æ®</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;* åˆ›å»ºé“¾è¡¨,å­˜å‚¨nä¸ªæ•°æ® *&#x2F;</span><br><span class="line">struct link *creat(struct link *head, int n)</span><br><span class="line">&#123;</span><br><span class="line">	for(int i &#x3D; 0; i &lt; n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		struct link *node &#x3D; NULL, *end &#x3D; head;</span><br><span class="line">		int data;</span><br><span class="line">		node &#x3D; (struct link*)malloc(sizeof(struct link));</span><br><span class="line">		if(head &#x3D;&#x3D; NULL)</span><br><span class="line">		&#123;</span><br><span class="line">			head &#x3D; node;</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			while(end-&gt;next !&#x3D; NULL)</span><br><span class="line">			&#123;</span><br><span class="line">				end &#x3D; end-&gt;next;</span><br><span class="line">			&#125;</span><br><span class="line">			end-&gt;next &#x3D; node;</span><br><span class="line">		&#125;</span><br><span class="line">		printf(&quot;Input data:&quot;);</span><br><span class="line">		scanf(&quot;%d&quot;, &amp;data);</span><br><span class="line">		node-&gt;data &#x3D; data;</span><br><span class="line">		node-&gt;next &#x3D; NULL;</span><br><span class="line">	&#125;</span><br><span class="line">	return head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5><span id="8-é‡Šæ”¾é“¾è¡¨èŠ‚ç‚¹çš„å†…å­˜">8. é‡Šæ”¾é“¾è¡¨èŠ‚ç‚¹çš„å†…å­˜</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;* é‡Šæ”¾é“¾è¡¨èŠ‚ç‚¹çš„å†…å­˜ *&#x2F;</span><br><span class="line">void DeleteMemory(struct link *head)</span><br><span class="line">&#123;</span><br><span class="line">	struct link *p &#x3D; head, *pr &#x3D; NULL;</span><br><span class="line">	while(p !&#x3D; NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		pr &#x3D; p;</span><br><span class="line">		p &#x3D; p-&gt;next;</span><br><span class="line">		free(pr);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5><span id="9-é“¾è¡¨çš„åˆ é™¤æŸä¸ªèŠ‚ç‚¹çš„æ“ä½œ">9. é“¾è¡¨çš„åˆ é™¤æŸä¸ªèŠ‚ç‚¹çš„æ“ä½œ</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;* é“¾è¡¨çš„åˆ é™¤æŸä¸ªèŠ‚ç‚¹çš„æ“ä½œ*&#x2F;</span><br><span class="line">struct link *DeleteNode(struct link *head, int nodedata)</span><br><span class="line">&#123;</span><br><span class="line">	struct link *p &#x3D; head, *pr &#x3D; head;</span><br><span class="line">	if(head &#x3D;&#x3D; NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;Linked Table is empty!\n&quot;);</span><br><span class="line">		return head;</span><br><span class="line">	&#125;</span><br><span class="line">	while(nodedata !&#x3D; p-&gt;data &amp;&amp; p-&gt;next !&#x3D; NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		pr &#x3D; p;</span><br><span class="line">		p &#x3D; p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	if(nodedata &#x3D;&#x3D; p-&gt;data)</span><br><span class="line">	&#123;</span><br><span class="line">		if(p &#x3D;&#x3D; head)</span><br><span class="line">		&#123;</span><br><span class="line">			head &#x3D; p-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		else</span><br><span class="line">		&#123;</span><br><span class="line">			pr-&gt;next &#x3D; p-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		free(p);</span><br><span class="line">	&#125;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;no the nodedata in the linked Table!\n&quot;);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	return head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5><span id="10-æœ‰åºé“¾è¡¨æ’å…¥æŸä¸ªèŠ‚ç‚¹">10. æœ‰åºé“¾è¡¨æ’å…¥æŸä¸ªèŠ‚ç‚¹</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;* æœ‰åºé“¾è¡¨æ’å…¥æŸä¸ªèŠ‚ç‚¹ *&#x2F;</span><br><span class="line">struct link *InsertNode(struct link *head, int nodedata)</span><br><span class="line">&#123;</span><br><span class="line">	struct link *pr &#x3D; head, *p &#x3D; head, *temp &#x3D; head;</span><br><span class="line">	&#x2F;&#x2F; ä¸ºæ’å…¥èŠ‚ç‚¹å¼€è¾Ÿå†…å­˜</span><br><span class="line">	p &#x3D; (struct link*)malloc(sizeof(struct link));</span><br><span class="line">	p-&gt;data &#x3D; nodedata;</span><br><span class="line">	p-&gt;next &#x3D; NULL;</span><br><span class="line">	&#x2F;&#x2F; é“¾è¡¨ä¸ºç©º</span><br><span class="line">	if(head &#x3D;&#x3D; NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;Linked Table is empty!\n&quot;);</span><br><span class="line">		head &#x3D; p;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	else &#x2F;&#x2F; é“¾è¡¨éç©º</span><br><span class="line">	&#123;</span><br><span class="line">		while(nodedata &gt; pr-&gt;data &amp;&amp; pr-&gt;next !&#x3D; NULL) &#x2F;&#x2F; å¾ªç¯åˆ°pr-&gt;data &gt;&#x3D; nodedata å¹¶ä¸”æœªåˆ°é“¾è¡¨å°¾</span><br><span class="line">		&#123;</span><br><span class="line">			temp &#x3D; pr;</span><br><span class="line">			pr &#x3D; pr-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		if(nodedata &lt;&#x3D; pr-&gt;data)</span><br><span class="line">		&#123;</span><br><span class="line">			if(pr &#x3D;&#x3D; head) &#x2F;&#x2F; å¤´èŠ‚ç‚¹</span><br><span class="line">			&#123;</span><br><span class="line">				&#x2F;&#x2F; åœ¨å¤´èŠ‚ç‚¹ä¹‹å‰æ’å…¥p</span><br><span class="line">				p-&gt;next &#x3D; pr;</span><br><span class="line">				head &#x3D; p;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				pr &#x3D; temp;</span><br><span class="line">				p-&gt;next &#x3D; pr-&gt;next;</span><br><span class="line">				pr-&gt;next &#x3D; p;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		else &#x2F;&#x2F; æœ«å°¾</span><br><span class="line">		&#123;</span><br><span class="line">			</span><br><span class="line">			pr-&gt;next &#x3D; p;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>Cè¯­è¨€</tag>
      </tags>
  </entry>
  <entry>
    <title>pythonçˆ¬è™«å…¥é—¨å­¦ä¹ ç¬”è®°</title>
    <url>/2019-02-19-python-spider.html</url>
    <content><![CDATA[<p>å­¦ä¹ ç¯å¢ƒ:python3<br>python IDLE</p>
<a id="more"></a>

<h4><span id="1pythonå®‰è£…30åŠä»¥ä¸Šç‰ˆæœ¬">1.pythonå®‰è£…3.0åŠä»¥ä¸Šç‰ˆæœ¬</span></h4><h4><span id="2å®‰è£…requestsåº“">2.å®‰è£…requestsåº“</span></h4><p>cmdæŒ‡ä»¤:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip install requests</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•:(æ‰“å¼€python çš„IDLE)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import requests</span><br><span class="line">&#x2F;&#x2F; è·å–ç½‘é¡µ</span><br><span class="line">r &#x3D; requests.get(&quot;https:&#x2F;&#x2F;www.baidu.com&quot;)</span><br><span class="line">&#x2F;&#x2F; è·å–çŠ¶æ€ç 200ä¸ºæ­£å¸¸</span><br><span class="line">r.status_code</span><br><span class="line">&#x2F;&#x2F; æ›´æ”¹ç¼–ç æ–¹å¼ä¸ºutf-8</span><br><span class="line">r.encoding &#x3D; &#39;utf-8&#39;</span><br><span class="line">&#x2F;&#x2F; æ‰“å°</span><br><span class="line">r.text</span><br></pre></td></tr></table></figure>
<h4><span id="3requestsåº“çš„getæ–¹æ³•">3.requestsåº“çš„get()æ–¹æ³•</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">requests.get(url)</span><br></pre></td></tr></table></figure>
<p>å®ƒæœ‰Requestå’ŒResponseä¸¤ä¸ªå¯¹è±¡</p>
<h4><span id="4responseå¯¹è±¡">4.Responseå¯¹è±¡</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import requests</span><br><span class="line">r &#x3D; requests.get(&quot;https:&#x2F;&#x2F;www.baidu.com&quot;)</span><br><span class="line">print(r.status_code)</span><br><span class="line">&#x2F;&#x2F; æŸ¥çœ‹rçš„ç±»å‹</span><br><span class="line">type(r)</span><br><span class="line">&#x2F;&#x2F; æŸ¥çœ‹rçš„å¤´</span><br><span class="line">r.headers</span><br></pre></td></tr></table></figure>
<h5><span id="41-responseå¯¹è±¡çš„å±æ€§">4.1 Responseå¯¹è±¡çš„å±æ€§</span></h5><p><img src="/python-spider/python-1.png" alt="image"></p>
<h5><span id="42-requeståº“å¼‚å¸¸">4.2 Requeståº“å¼‚å¸¸</span></h5><p><img src="/python-spider/python-2.png" alt="image"></p>
<h5><span id="43-åˆ¤æ–­æ˜¯å¦å¼‚å¸¸é€šç”¨ä»£ç æ¡†æ¶">4.3 åˆ¤æ–­æ˜¯å¦å¼‚å¸¸(é€šç”¨ä»£ç æ¡†æ¶)</span></h5><p>æ–¹æ³•:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">r.raise_for_status()</span><br><span class="line"># å¦‚æœçŠ¶æ€ä¸æ˜¯200ï¼ŒæŠ¥é”™</span><br></pre></td></tr></table></figure>
<p>é€šç”¨ä»£ç æ¡†æ¶:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import requests</span><br><span class="line">def getHTMLText(url):</span><br><span class="line">	try:</span><br><span class="line">		r &#x3D; requests.get(url, timeout &#x3D; 30)</span><br><span class="line">		r.raise_for_status() # åˆ¤æ–­çŠ¶æ€æ˜¯å¦ä¸º200</span><br><span class="line">		r.encoding &#x3D; r.apparent_encoding</span><br><span class="line">		return r.text</span><br><span class="line">	except:</span><br><span class="line">		return &quot;äº§ç”Ÿå¼‚å¸¸&quot;</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">     url &#x3D; &quot;https:&#x2F;&#x2F;www.baidu.com&quot;</span><br><span class="line">     print(getHTMLText(url))</span><br></pre></td></tr></table></figure>
<h4><span id="5-requeståº“çš„ä¸»è¦æ–¹æ³•">5 Requeståº“çš„ä¸»è¦æ–¹æ³•</span></h4><p> <img src="/python-spider/python-3.png" alt="image"><br>putæ–¹æ³•ä¼šå°†åŸæœ‰è¦†ç›–</p>
<p>patchå¯¹èµ„æºæ›´æ–°</p>
<h4><span id="6-ç½‘ç»œçˆ¬è™«çš„å°ºå¯¸">6 ç½‘ç»œçˆ¬è™«çš„å°ºå¯¸</span></h4><p><img src="/python-spider/python-4.png" alt="image"></p>
<h4><span id="7-å¯¹ç½‘ç»œçˆ¬è™«é™åˆ¶">7 å¯¹ç½‘ç»œçˆ¬è™«é™åˆ¶</span></h4><p><img src="/python-spider/python-5.png" alt="image"></p>
<h5><span id="71-robotsåè®®">7.1 Robotsåè®®</span></h5><p><img src="/python-spider/python-6.png" alt="image"></p>
<h4><span id="8-çˆ¬å–è¢«æ‹’ç»å¦‚æœæ˜¯user-agentå¦‚ä½•çˆ¬å–">8 çˆ¬å–è¢«æ‹’ç»ï¼Œå¦‚æœæ˜¯User-Agentï¼Œå¦‚ä½•çˆ¬å–ï¼Ÿ</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æŸ¥çœ‹å¤´éƒ¨User-Agent,å‘ç°User-Agent: python-requests...</span><br><span class="line">r.request.headers</span><br><span class="line"># å®šä¹‰é”®å€¼å¯¹å»æ¨¡æ‹Ÿæµè§ˆå™¨è®¿é—®ï¼Œæ›´æ”¹User-Agent</span><br><span class="line">kv &#x3D; &#123;&#39;User-Agent&#39;:&#39;Mozilla&#x2F;5.0&#39;&#125;</span><br><span class="line">url &#x3D; ...</span><br><span class="line"># çˆ¬å–é¡µé¢ï¼Œæ›´æ”¹User-Agent</span><br><span class="line">r &#x3D; requests.get(url,headers &#x3D; kv)</span><br><span class="line"># æŸ¥çœ‹çŠ¶æ€ç ï¼Œå¦‚ä¸º200åˆ™æˆåŠŸ</span><br><span class="line">r.status_code</span><br></pre></td></tr></table></figure>
<p>ä¾‹å¦‚çˆ¬å–amazonçš„é¡µé¢å…¨ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import requests</span><br><span class="line">def getHTMLText(url):</span><br><span class="line">    try:</span><br><span class="line">        kv &#x3D; &#123;&#39;User-Agent&#39;:&#39;Mozilla&#x2F;5.0&#39;&#125;</span><br><span class="line">        r &#x3D; requests.get(url,headers &#x3D; kv)</span><br><span class="line">        r.raise_for_status()</span><br><span class="line">        r.encoding &#x3D; r.apparent_encoding</span><br><span class="line">        print(r.text) # r.text[1000:2000]æŒ‡æ‰“å°ç¬¬1001~1999ä¸ªå­—ç¬¦</span><br><span class="line">    except:</span><br><span class="line">        print(&quot;é”™è¯¯&quot;)</span><br><span class="line"></span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">    url &#x3D; &quot;https:&#x2F;&#x2F;www.amazon.com&quot;</span><br><span class="line">    print(getHTMLText(url))</span><br></pre></td></tr></table></figure>
<h4><span id="9-çˆ¬å–ç™¾åº¦-360å…³é”®è¯æœç´¢ç»“æœ">9 çˆ¬å–ç™¾åº¦ 360å…³é”®è¯æœç´¢ç»“æœ</span></h4><p>æœç´¢å¼•æ“å…³é”®è¯æäº¤æ¥å£:<br>ç™¾åº¦</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;www.baidu.com&#x2F;s?wd&#x3D;keyword</span><br></pre></td></tr></table></figure>
<p>360ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;www.so.com&#x2F;s?q&#x3D;keyword</span><br></pre></td></tr></table></figure>
<h4><span id="10-çˆ¬å–ç½‘ç»œå›¾ç‰‡å¹¶ä¿å­˜">10 çˆ¬å–ç½‘ç»œå›¾ç‰‡å¹¶ä¿å­˜</span></h4><p>ç½‘ç»œå›¾ç‰‡é“¾æ¥çš„æ ¼å¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;www.example.com&#x2F;picture.jpg</span><br></pre></td></tr></table></figure>
<p>æ¡ˆä¾‹ï¼Œçˆ¬å–googleä¸€å¼ å›¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import requests</span><br><span class="line">import os</span><br><span class="line">url &#x3D; &quot;http:&#x2F;&#x2F;news.qingdaonews.com&#x2F;images&#x2F;attachement&#x2F;jpg&#x2F;site1&#x2F;20170720&#x2F;48d224f8c5531ada49cc0a.jpg&quot;</span><br><span class="line">root &#x3D; &quot;F:&#x2F;py&#x2F;py-creeper&#x2F;spider-picture&#x2F;&quot;</span><br><span class="line">path &#x3D; root  +  url.split(&#39;&#x2F;&#39;)[-1] # å‰ªåˆ‡å‡ºå›¾ç‰‡åç§°</span><br><span class="line">try:</span><br><span class="line">     if not os.path.exists(root): # åˆ¤æ–­rootè·¯å¾„æ˜¯å¦å­˜åœ¨</span><br><span class="line">          os.mkdir(root)</span><br><span class="line">     if not os.path.exists(path): # åˆ¤æ–­pathä¸‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span><br><span class="line">          r &#x3D; requests.get(url)</span><br><span class="line">          with open(path, &#39;wb&#39;) as f:</span><br><span class="line">               f.write(r.content)</span><br><span class="line">               f.close()</span><br><span class="line">               printf(&quot;OK&quot;)</span><br><span class="line">     else:</span><br><span class="line">          print(&quot;æ–‡ä»¶å·²å­˜åœ¨&quot;)</span><br><span class="line">except:</span><br><span class="line">     print(&quot;çˆ¬å–å¤±è´¥&quot;)</span><br></pre></td></tr></table></figure>
<h4><span id="11-ipåœ°å€å½’å±åœ°çš„è‡ªåŠ¨æŸ¥è¯¢">11 IPåœ°å€å½’å±åœ°çš„è‡ªåŠ¨æŸ¥è¯¢</span></h4><p>ip138æ¥å£å½¢å¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;m.ip138.com&#x2F;ip.asp?ip&#x3D;IpAddress</span><br></pre></td></tr></table></figure>
<p>å®Œæ•´ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import requests</span><br><span class="line">url &#x3D; &quot;http:&#x2F;&#x2F;m.ip138.com&#x2F;ip.asp?ip&#x3D;&quot;</span><br><span class="line">try:</span><br><span class="line">     r &#x3D; requests.get(url + &#39;202.204.80.112&#39;)</span><br><span class="line">     r.raise_for_status()</span><br><span class="line">     # r.encoding &#x3D; r.apparent.encoding</span><br><span class="line">     print(r.text)</span><br><span class="line">except:</span><br><span class="line">     print(&quot;çˆ¬å–å¤±è´¥&quot;)</span><br></pre></td></tr></table></figure>
<h4><span id="12-ç½‘é¡µæ•°æ®çš„è§£æbeautifulsoupåº“">12 ç½‘é¡µæ•°æ®çš„è§£æï¼Œbeautifulsoupåº“</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å®‰è£…,æ‰“å¼€cmd</span><br><span class="line">pip install beautifulsoup4</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from bs4 import BeautifulSoup # ä»BeautifulSoup4å¯¼å…¥BeautifulSoupç±»</span><br><span class="line"># dataæ˜¯ç½‘é¡µæ•°æ®,html.parseræ˜¯è§£ææ–¹å¼</span><br><span class="line">soup &#x3D; BeautifulSoup(&lt;p&gt;data&lt;&#x2F;p&gt;,&quot;html.parser&quot;)</span><br></pre></td></tr></table></figure>

<h5><span id="121-æµ‹è¯•è§£ææ•ˆæœ">12.1 æµ‹è¯•è§£ææ•ˆæœ</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import requests</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">try:</span><br><span class="line">     url &#x3D; &quot;https:&#x2F;&#x2F;python123.io&#x2F;ws&#x2F;demo.html&quot;</span><br><span class="line">     r &#x3D; requests.get(url)</span><br><span class="line">     r.raise_for_status() # åˆ¤æ–­çŠ¶æ€200</span><br><span class="line">     demo &#x3D; r.text</span><br><span class="line">     # è§£æç½‘é¡µ</span><br><span class="line">     soup &#x3D; BeautifulSoup(demo , &quot;html.parser&quot;) # html.parseræ˜¯è§£ææ–¹å¼</span><br><span class="line">     print(soup.prettify()) # prettifyæ„ä¸ºç¾åŒ–</span><br><span class="line">except:</span><br><span class="line">     print(&quot;å¤±è´¥&quot;)</span><br></pre></td></tr></table></figure>
<p>å®ƒå¯ä»¥å°†ç½‘é¡µæ ‡ç­¾è§£æä¸ºå®¹æ˜“çœ‹çš„æ ¼å¼</p>
<p>è§£æç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line"> &lt;head&gt;</span><br><span class="line">  &lt;title&gt;</span><br><span class="line">   This is a python demo page</span><br><span class="line">  &lt;&#x2F;title&gt;</span><br><span class="line"> &lt;&#x2F;head&gt;</span><br><span class="line"> &lt;body&gt;</span><br><span class="line">  &lt;p class&#x3D;&quot;title&quot;&gt;</span><br><span class="line">   &lt;b&gt;</span><br><span class="line">    The demo python introduces several python courses.</span><br><span class="line">   &lt;&#x2F;b&gt;</span><br><span class="line">  &lt;&#x2F;p&gt;</span><br><span class="line">  &lt;p class&#x3D;&quot;course&quot;&gt;</span><br><span class="line">   Python is a wonderful general-purpose programming language. You can learn Python from novice to professional by tracking the following courses:</span><br><span class="line">   &lt;a class&#x3D;&quot;py1&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-268001&quot; id&#x3D;&quot;link1&quot;&gt;</span><br><span class="line">    Basic Python</span><br><span class="line">   &lt;&#x2F;a&gt;</span><br><span class="line">   and</span><br><span class="line">   &lt;a class&#x3D;&quot;py2&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-1001870001&quot; id&#x3D;&quot;link2&quot;&gt;</span><br><span class="line">    Advanced Python</span><br><span class="line">   &lt;&#x2F;a&gt;</span><br><span class="line">   .</span><br><span class="line">  &lt;&#x2F;p&gt;</span><br><span class="line"> &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>
<h5><span id="122-ç†è§£beautifulsoup">12.2 ç†è§£BeautifulSoup</span></h5><p>å¦‚æœ‰éœ€è¦ï¼Œå¯ç›´æ¥å¯¼å…¥æ•´ä¸ªåº“</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import bs4</span><br></pre></td></tr></table></figure>
<p>BeautifulSoupæ˜¯bs4åº“ä¸­çš„ç±»</p>
<p>HTML = æ ‡ç­¾æ ‘ = BeautifulSoup</p>
<h5><span id="123-beautifulsoupè§£ææœ¬åœ°htmlæ–‡ä»¶æ–¹å¼">12.3 BeautifulSoupè§£ææœ¬åœ°htmlæ–‡ä»¶æ–¹å¼</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">from bs4 impor BeautifulSoup</span><br><span class="line"># ç¼–ç æ–¹å¼ä¸ºutf-8</span><br><span class="line">soup1 &#x3D; BeautifulSoup(open(&quot;F:\\HTML\\text2.html&quot; , encoding &#x3D; &quot;utf-8&quot;) , &quot;html.parser&quot; )</span><br><span class="line">print(soup1.prettify())</span><br></pre></td></tr></table></figure>
<h5><span id="124-beautifulsoupçš„è§£æå™¨">12.4 BeautifulSoupçš„è§£æå™¨</span></h5><p><img src="/python-spider/python-7.png" alt="image"></p>
<h5><span id="125-beautifulsoupçš„åŸºæœ¬å…ƒç´ ">12.5 BeautifulSoupçš„åŸºæœ¬å…ƒç´ </span></h5><p><img src="/python-spider/python-8.png" alt="image"></p>
<h5><span id="126-åˆ©ç”¨beautifulsoupæŸ¥çœ‹å…ƒç´ ä¿¡æ¯">12.6 åˆ©ç”¨BeautifulSoupæŸ¥çœ‹å…ƒç´ ä¿¡æ¯</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import requests</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">r &#x3D; requests.get(&quot;https:&#x2F;&#x2F;python123.io&#x2F;ws&#x2F;demo.html&quot;)</span><br><span class="line">demo &#x3D; r.text</span><br><span class="line">soup &#x3D; BeautifulSoup(demo , &quot;html.parser&quot;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æŸ¥çœ‹æ ‡é¢˜</span><br><span class="line">soup.title</span><br><span class="line"># è¾“å‡ºï¼š &lt;title&gt;This is a python demo page&lt;&#x2F;title&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢æ ‡ç­¾ä¸º&lt;a&gt;çš„</span><br><span class="line">tag &#x3D; soup.a</span><br><span class="line"># è¾“å‡ºå…¶ä¸­ç¬¬ä¸€ä¸ª: &lt;a class&#x3D;&quot;py1&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-268001&quot; id&#x3D;&quot;link1&quot;&gt;Basic Python&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æŸ¥çœ‹æ ‡ç­¾å</span><br><span class="line">soup.a.name</span><br><span class="line"># è¾“å‡ºï¼š &#39;a&#39;</span><br><span class="line"># æŸ¥çœ‹å…¶çˆ¶å</span><br><span class="line">soup.a.parent.name</span><br><span class="line"># è¾“å‡ºï¼š&#39;p&#39;</span><br><span class="line"># æŸ¥çœ‹å…¶çˆ¶çˆ¶å</span><br><span class="line">soup.a.parent.parent.name</span><br><span class="line"># è¾“å‡º ï¼š&#39;body&#39;</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹æ ‡ç­¾å±æ€§ä¿¡æ¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tag1 &#x3D; soup.a</span><br><span class="line"># .attrså±æ€§</span><br><span class="line">tag1.attrs # è¾“å‡ºï¼š&#123;&#39;href&#39;: &#39;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-268001&#39;, &#39;class&#39;: [&#39;py1&#39;], &#39;id&#39;: &#39;link1&#39;&#125;</span><br><span class="line"># &lt;a&gt;æ ‡ç­¾çš„å±æ€§ä¹Ÿæ˜¯ä¸€ä¸ªå­—å…¸</span><br></pre></td></tr></table></figure>
<p>æå–å±æ€§ä¸­çš„ä¿¡æ¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æå–classä¸­å€¼</span><br><span class="line">tag1.attrs[&#39;class&#39;]</span><br><span class="line"># è¾“å‡º: [&#39;py1&#39;]</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æå–é“¾æ¥</span><br><span class="line">tag1.attrs[&#39;href&#39;]</span><br><span class="line"># è¾“å‡ºï¼š&#39;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-268001&#39;</span><br></pre></td></tr></table></figure>
<p>æå–æ ‡ç­¾ä¸­çš„å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">soup.a.string</span><br><span class="line"># è¾“å‡ºï¼š &#39;Basic Python&#39;</span><br><span class="line">soup.p.string</span><br><span class="line"># è¾“å‡ºï¼š&#39;The demo python introduces several python courses.&#39;</span><br></pre></td></tr></table></figure>
<p>ç‰¹åˆ«çš„æ˜¯ï¼šæ³¨é‡Šæ ‡ç­¾ï¼Œè·å–å†…å®¹æ—¶ä¸ä¼šè¡¨ç¤ºå…¶ä¸­æ˜¯å¦æ˜¯æ³¨é‡Šï¼Œåªæœ‰é€šè¿‡æŸ¥çœ‹å®ƒçš„ç±»å‹æ¥åŒºåˆ†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; newsoup &#x3D; BeautifulSoup(&quot;&lt;b&gt;&lt;!--This is a comment--&gt;&lt;&#x2F;b&gt;&lt;p&gt;This is not a comment &lt;&#x2F;p&gt;&quot;, &quot;html.parser&quot;)</span><br><span class="line">&gt;&gt;&gt; newsoup.b.string</span><br><span class="line">&#39;This is a comment&#39;</span><br><span class="line">&gt;&gt;&gt; type(newsoup.b.string)</span><br><span class="line">&lt;class &#39;bs4.element.Comment&#39;&gt;</span><br><span class="line">&gt;&gt;&gt; newsoup.p.string</span><br><span class="line">&#39;This is not a comment &#39;</span><br><span class="line">&gt;&gt;&gt; type(newsoup.p.string)</span><br><span class="line">&lt;class &#39;bs4.element.NavigableString&#39;&gt;</span><br></pre></td></tr></table></figure>

<h5><span id="127-å…ƒç´ -å±æ€§æ€»ç»“">12.7 å…ƒç´ ã€å±æ€§æ€»ç»“</span></h5><p><img src="/python-spider/python-9.png" alt="image"></p>
<h4><span id="13-åŸºäºbs4çš„htmlçš„éå†æ–¹æ³•">13 åŸºäºbs4çš„HTMLçš„éå†æ–¹æ³•</span></h4><p><img src="/python-spider/python-10.png" alt="image"></p>
<h5><span id="131-æ ‡ç­¾æ ‘çš„ä¸‹è¡Œéå†">13.1 æ ‡ç­¾æ ‘çš„ä¸‹è¡Œéå†</span></h5><p><img src="/python-spider/python-11.png" alt="image"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; soup.head</span><br><span class="line">&lt;head&gt;&lt;title&gt;This is a python demo page&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;</span><br></pre></td></tr></table></figure>
<p>headçš„å­èŠ‚ç‚¹åˆ—è¡¨,bodyçš„å­èŠ‚ç‚¹åˆ—è¡¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># headçš„å­èŠ‚ç‚¹åˆ—è¡¨</span><br><span class="line">&gt;&gt;&gt; soup.head.contents</span><br><span class="line">[&lt;title&gt;This is a python demo page&lt;&#x2F;title&gt;]</span><br><span class="line"># bodyçš„å­èŠ‚ç‚¹åˆ—è¡¨</span><br><span class="line">&gt;&gt;&gt; soup.body.contents</span><br><span class="line">[&#39;\n&#39;, &lt;p class&#x3D;&quot;title&quot;&gt;&lt;b&gt;The demo python introduces several python courses.&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;, &#39;\n&#39;, &lt;p class&#x3D;&quot;course&quot;&gt;Python is a wonderful general-purpose programming language. You can learn Python from novice to professional by tracking the following courses:</span><br><span class="line"></span><br><span class="line">&lt;a class&#x3D;&quot;py1&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-268001&quot; id&#x3D;&quot;link1&quot;&gt;Basic Python&lt;&#x2F;a&gt; and &lt;a class&#x3D;&quot;py2&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-1001870001&quot; id&#x3D;&quot;link2&quot;&gt;Advanced Python&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;, &#39;\n&#39;]</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹bodyå­èŠ‚ç‚¹çš„ä¸ªæ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; len(soup.body.contents)</span><br><span class="line">5</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºbodyå­èŠ‚ç‚¹åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; soup.body.contents[1]</span><br><span class="line">&lt;p class&#x3D;&quot;title&quot;&gt;&lt;b&gt;The demo python introduces several python courses.&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>
<h5><span id="éå†å­èŠ‚ç‚¹-å­å­™èŠ‚ç‚¹">éå†å­èŠ‚ç‚¹ã€å­å­™èŠ‚ç‚¹</span></h5><p>==éå†å­èŠ‚ç‚¹==</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; for child in soup.body.children:</span><br><span class="line">	print(child)</span><br></pre></td></tr></table></figure>
<p>ç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;p class&#x3D;&quot;title&quot;&gt;&lt;b&gt;The demo python introduces several python courses.&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;p class&#x3D;&quot;course&quot;&gt;Python is a wonderful general-purpose programming language. You can learn Python from novice to professional by tracking the following courses:</span><br><span class="line"></span><br><span class="line">&lt;a class&#x3D;&quot;py1&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-268001&quot; id&#x3D;&quot;link1&quot;&gt;Basic Python&lt;&#x2F;a&gt; and &lt;a class&#x3D;&quot;py2&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-1001870001&quot; id&#x3D;&quot;link2&quot;&gt;Advanced Python&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>
<p>==éå†å­å­™èŠ‚ç‚¹==</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; for child in soup.body.descendants:</span><br><span class="line">	print(child)</span><br></pre></td></tr></table></figure>
<p>ç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;p class&#x3D;&quot;title&quot;&gt;&lt;b&gt;The demo python introduces several python courses.&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;b&gt;The demo python introduces several python courses.&lt;&#x2F;b&gt;</span><br><span class="line">The demo python introduces several python courses.</span><br><span class="line">&lt;p class&#x3D;&quot;course&quot;&gt;Python is a wonderful general-purpose programming language. You can learn Python from novice to professional by tracking the following courses:</span><br><span class="line">&lt;a class&#x3D;&quot;py1&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-268001&quot; id&#x3D;&quot;link1&quot;&gt;Basic Python&lt;&#x2F;a&gt; and &lt;a class&#x3D;&quot;py2&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-1001870001&quot; id&#x3D;&quot;link2&quot;&gt;Advanced Python&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;</span><br><span class="line">Python is a wonderful general-purpose programming language. You can learn Python from novice to professional by tracking the following courses:</span><br><span class="line">&lt;a class&#x3D;&quot;py1&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-268001&quot; id&#x3D;&quot;link1&quot;&gt;Basic Python&lt;&#x2F;a&gt;</span><br><span class="line">Basic Python</span><br><span class="line"> and </span><br><span class="line">&lt;a class&#x3D;&quot;py2&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-1001870001&quot; id&#x3D;&quot;link2&quot;&gt;Advanced Python&lt;&#x2F;a&gt;</span><br><span class="line">Advanced Python</span><br><span class="line">.</span><br></pre></td></tr></table></figure>
<h5><span id="132-æ ‡ç­¾æ ‘çš„ä¸Šè¡Œéå†">13.2 æ ‡ç­¾æ ‘çš„ä¸Šè¡Œéå†</span></h5><p><img src="/python-spider/python-12.png" alt="image"><br>ä¸ä¸‹è¡Œéå†ç±»ä¼¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">soup.body.parent</span><br><span class="line">soup.body.parents</span><br></pre></td></tr></table></figure>
<p>==soupæœ¬èº«çš„parentä¸ºç©º==</p>
<p>æ‰“å°&lt;a&gt;æ ‡ç­¾çš„.parents.name</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; demo &#x3D; r.text</span><br><span class="line">&gt;&gt;&gt; soup &#x3D; BeautifulSoup(demo , &quot;html.parser&quot;)</span><br><span class="line">&gt;&gt;&gt; for parent in soup.a.parents:</span><br><span class="line">	if parent is None:</span><br><span class="line">		print(parent)</span><br><span class="line">	else:</span><br><span class="line">		print(parent.name)</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">p</span><br><span class="line">body</span><br><span class="line">html</span><br><span class="line">[document]</span><br></pre></td></tr></table></figure>
<h5><span id="133-å¹³è¡Œéå†">13.3 å¹³è¡Œéå†</span></h5><p><img src="/python-spider/python-13.png" alt="image"></p>
<p>==æ¡ä»¶ï¼šå¹³è¡Œéå†å‘ç”Ÿåœ¨åŒä¸€ä¸ªçˆ¶å­èŠ‚ç‚¹ä¸‹çš„èŠ‚ç‚¹==</p>
<p>éå†&lt;a&gt;ä¹‹åçš„å¹³è¡ŒèŠ‚ç‚¹</p>
<p>==æ³¨æ„ï¼šèŠ‚ç‚¹æœ‰å¯èƒ½æ˜¯stringç±»å‹çš„andï¼Œè€Œä¸ä¸€å®šå®Œå…¨æ˜¯æ ‡ç­¾ç±»å‹==</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; for sibling in soup.a.next_siblings:</span><br><span class="line">	if isinstance(sibling,str):</span><br><span class="line">		print(sibling)</span><br><span class="line">	else:</span><br><span class="line">		print(sibling.name)</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line"> and </span><br><span class="line">a</span><br><span class="line">.</span><br></pre></td></tr></table></figure>
<p>éå†&lt;a&gt;ä¹‹åçš„å¹³è¡ŒèŠ‚ç‚¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; for sibling in soup.a.next_siblings:</span><br><span class="line">	print(sibling)</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"> and </span><br><span class="line">&lt;a class&#x3D;&quot;py2&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-1001870001&quot; id&#x3D;&quot;link2&quot;&gt;Advanced Python&lt;&#x2F;a&gt;</span><br><span class="line">.</span><br></pre></td></tr></table></figure>
<p>éå†&lt;a&gt;ä¹‹å‰çš„å¹³è¡ŒèŠ‚ç‚¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; for sibling in soup.a.previous_siblings:</span><br><span class="line">	print(sibling)</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">Python is a wonderful general-purpose programming language. You can learn Python from novice to professional by tracking the following courses:</span><br></pre></td></tr></table></figure>
<h5><span id="134-è§„æ•´è¾“å‡ºhtmlçš„prettifyæ–¹æ³•">13.4 è§„æ•´è¾“å‡ºHTMLçš„prettify()æ–¹æ³•</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">print(soup.prettify())</span><br><span class="line">print(soup.a.prettify())</span><br></pre></td></tr></table></figure>
<h4><span id="14-ä¿¡æ¯æ ‡è®°çš„ä¸‰ç§å½¢å¼">14 ä¿¡æ¯æ ‡è®°çš„ä¸‰ç§å½¢å¼</span></h4><p>XML</p>
<p><img src="/python-spider/python-14.png" alt="image"><br>JSON : æœ‰ç±»å‹çš„é”®å€¼å¯¹</p>
<p><img src="/python-spider/python-15.png" alt="image"><br>YAML ï¼šæ— ç±»å‹çš„é”®å€¼å¯¹</p>
<p><img src="/python-spider/python-16.png" alt="image"></p>
<h4><span id="15-ä¿¡æ¯çš„æå–">15 ä¿¡æ¯çš„æå–</span></h4><p>å®ä¾‹<br><img src="/python-spider/python-17.png" alt="image"><br>ä½¿ç”¨äº†soup.find_all()æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æŸ¥æ‰¾æ‰€æœ‰&lt;a&gt;</span><br><span class="line">soup.find_all(&#39;a&#39;)</span><br></pre></td></tr></table></figure>
<p>å®Œæ•´ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import requests</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">url &#x3D; &quot;https:&#x2F;&#x2F;python123.io&#x2F;ws&#x2F;demo.html&quot;</span><br><span class="line">try:</span><br><span class="line">     r &#x3D; requests.get(url)</span><br><span class="line">     r.raise_for_status()</span><br><span class="line">     demo &#x3D; r.text</span><br><span class="line">     soup &#x3D; BeautifulSoup(demo , &quot;html.parser&quot; )</span><br><span class="line">     for link in soup.find_all(&#39;a&#39;):</span><br><span class="line">          print(link.get(&#39;href&#39;))</span><br><span class="line">except:</span><br><span class="line">     print(&quot;å¤±è´¥&quot;)</span><br></pre></td></tr></table></figure>
<h5><span id="151-soupfind_allæ–¹æ³•çš„æŸ¥è¯¢ä¿¡æ¯">15.1 soup.find_all()æ–¹æ³•çš„æŸ¥è¯¢ä¿¡æ¯</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;&gt;.find_all(name,attrs,recursive,string,**kwargs)</span><br></pre></td></tr></table></figure>
<h6><span id="1511-å‚æ•°nameè¡¨ç¤ºå¯¹æ ‡ç­¾åå­—çš„æŸ¥æ‰¾å­—ç¬¦ä¸²">15.1.1 å‚æ•°nameï¼Œè¡¨ç¤ºå¯¹æ ‡ç­¾åå­—çš„æŸ¥æ‰¾å­—ç¬¦ä¸²</span></h6><p>å®ä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import requests</span><br><span class="line">&gt;&gt;&gt; from bs4 import BeautifulSoup</span><br><span class="line">&gt;&gt;&gt; url &#x3D; &quot;https:&#x2F;&#x2F;python123.io&#x2F;ws&#x2F;demo.html&quot;</span><br><span class="line">&gt;&gt;&gt; r &#x3D; requests.get(url)</span><br><span class="line">&gt;&gt;&gt; demo &#x3D; r.text</span><br><span class="line">&gt;&gt;&gt; soup &#x3D; BeautifulSoup(demo , &quot;html.parser&quot;)</span><br></pre></td></tr></table></figure>
<p>æŸ¥æ‰¾æ‰€æœ‰&lt;a&gt;æ ‡ç­¾ï¼Œè¾“å‡ºæ˜¯ä¸ªåˆ—è¡¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; soup.find_all(&#39;a&#39;)</span><br><span class="line">[&lt;a class&#x3D;&quot;py1&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-268001&quot; id&#x3D;&quot;link1&quot;&gt;Basic Python&lt;&#x2F;a&gt;, &lt;a class&#x3D;&quot;py2&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-1001870001&quot; id&#x3D;&quot;link2&quot;&gt;Advanced Python&lt;&#x2F;a&gt;]</span><br></pre></td></tr></table></figure>
<p>æŸ¥æ‰¾æ‰€æœ‰çš„&lt;a&gt;&lt;b&gt;æ ‡ç­¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; soup.find_all([&#39;a&#39; , &#39;b&#39;])</span><br><span class="line">[&lt;b&gt;The demo python introduces several python courses.&lt;&#x2F;b&gt;, &lt;a class&#x3D;&quot;py1&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-268001&quot; id&#x3D;&quot;link1&quot;&gt;Basic Python&lt;&#x2F;a&gt;, &lt;a class&#x3D;&quot;py2&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-1001870001&quot; id&#x3D;&quot;link2&quot;&gt;Advanced Python&lt;&#x2F;a&gt;]</span><br></pre></td></tr></table></figure>
<p>å¦‚æœsoup.find_all(True) , åˆ™è¡¨ç¤º==æŸ¥æ‰¾å‡ºæ‰€æœ‰çš„æ ‡ç­¾==</p>
<p>æ‰“å°é¡µé¢æ‰€æœ‰æ ‡ç­¾å</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; for tag in soup.find_all(True):</span><br><span class="line">	print(tag.name)</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">html</span><br><span class="line">head</span><br><span class="line">title</span><br><span class="line">body</span><br><span class="line">p</span><br><span class="line">b</span><br><span class="line">p</span><br><span class="line">a</span><br><span class="line">a</span><br></pre></td></tr></table></figure>
<p>æ‰“å°æ‰€æœ‰ä»¥bå¼€å¤´çš„æ ‡ç­¾</p>
<p>ç”¨åˆ°==æ­£åˆ™è¡¨è¾¾å¼åº“==</p>
<p>ä½¿ç”¨æ–¹æ³•:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æŸ¥æ‰¾æ‰€æœ‰ä»¥bå¼€å¤´çš„æ ‡ç­¾</span><br><span class="line">soup.find_all(re.compile(&#39;b&#39;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import re</span><br><span class="line">&gt;&gt;&gt; for tag in soup.find_all(re.compile(&#39;b&#39;)):</span><br><span class="line">	print(tag.name)</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">body</span><br><span class="line">b</span><br></pre></td></tr></table></figure>
<h6><span id="1512-å‚æ•°attrså¯¹æ ‡ç­¾å±æ€§å€¼çš„æ£€ç´¢å­—ç¬¦ä¸²å¯æ ‡æ³¨å±æ€§æ£€ç´¢">15.1.2 å‚æ•°attrsï¼Œå¯¹æ ‡ç­¾å±æ€§å€¼çš„æ£€ç´¢å­—ç¬¦ä¸²ï¼Œå¯æ ‡æ³¨å±æ€§æ£€ç´¢</span></h6><p>å®ä¾‹:</p>
<p>æ£€ç´¢å¸¦æœ‰courseå±æ€§å€¼çš„&lt;p&gt;æ ‡ç­¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; soup.find_all(&#39;p&#39; , &#39;course&#39;)</span><br><span class="line">[&lt;p class&#x3D;&quot;course&quot;&gt;Python is a wonderful general-purpose programming language. You can learn Python from novice to professional by tracking the following courses:</span><br><span class="line"></span><br><span class="line">&lt;a class&#x3D;&quot;py1&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-268001&quot; id&#x3D;&quot;link1&quot;&gt;Basic Python&lt;&#x2F;a&gt; and &lt;a class&#x3D;&quot;py2&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-1001870001&quot; id&#x3D;&quot;link2&quot;&gt;Advanced Python&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;]</span><br></pre></td></tr></table></figure>
<p>æŸ¥æ‰¾å±æ€§id=â€™link1â€™çš„æ ‡ç­¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">soup.find_all(id&#x3D;&#39;link1&#39;)</span><br><span class="line">[&lt;a class&#x3D;&quot;py1&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-268001&quot; id&#x3D;&quot;link1&quot;&gt;Basic Python&lt;&#x2F;a&gt;]</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ£€ç´¢æ‰€æœ‰idåŒ…å«â€™linkâ€™çš„æ ‡ç­¾ï¼Œlink1,link2â€¦</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import re</span><br><span class="line">&gt;&gt;&gt; soup.find_all(id &#x3D; re.compile(&#39;link&#39;))</span><br><span class="line">[&lt;a class&#x3D;&quot;py1&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-268001&quot; id&#x3D;&quot;link1&quot;&gt;Basic Python&lt;&#x2F;a&gt;, &lt;a class&#x3D;&quot;py2&quot; href&#x3D;&quot;http:&#x2F;&#x2F;www.icourse163.org&#x2F;course&#x2F;BIT-1001870001&quot; id&#x3D;&quot;link2&quot;&gt;Advanced Python&lt;&#x2F;a&gt;]</span><br></pre></td></tr></table></figure>
<h6><span id="1513-å‚æ•°-recursiveæ˜¯å¦å¯¹å­å­™å…¨éƒ¨æ£€ç´¢é»˜è®¤trueæ”¹ä¸ºfalseæ—¶è¡¨ç¤ºåªæ£€ç´¢å…¶å­èŠ‚ç‚¹">15.1.3 å‚æ•° recursiveï¼šæ˜¯å¦å¯¹å­å­™å…¨éƒ¨æ£€ç´¢ï¼Œé»˜è®¤True,æ”¹ä¸ºFalseæ—¶ï¼Œè¡¨ç¤ºåªæ£€ç´¢å…¶å­èŠ‚ç‚¹</span></h6><p>ä¾‹ï¼šè¡¨ç¤ºsoupçš„å­èŠ‚ç‚¹ä¸­æ²¡æœ‰&lt;a&gt;æ ‡ç­¾</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; soup.find_all(&#39;a&#39; , recursive&#x3D;False)</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>
<h6><span id="1514-å‚æ•°string-ltgtltgtä¸­å­—ç¬¦ä¸²åŒºåŸŸçš„æ£€ç´¢å­—ç¬¦ä¸²">15.1.4 å‚æ•°string : &lt;&gt;â€¦&lt;/&gt;ä¸­å­—ç¬¦ä¸²åŒºåŸŸçš„æ£€ç´¢å­—ç¬¦ä¸²</span></h6><p>ä¾‹:</p>
<p>æ£€ç´¢æ ‡ç­¾å†…å®¹ä¸­çš„ Basic Python</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; soup.find_all(string &#x3D; &quot;Basic Python&quot;)</span><br><span class="line">[&#39;Basic Python&#39;]</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ£€ç´¢æ ‡ç­¾å†…å®¹==å«æœ‰==Pythonçš„å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; soup.find_all(string &#x3D; re.compile(&quot;Python&quot;))</span><br><span class="line">[&#39;Python is a wonderful general-purpose programming language. You can learn Python from novice to professional by tracking the following courses:\r\n&#39;, &#39;Basic Python&#39;, &#39;Advanced Python&#39;]</span><br></pre></td></tr></table></figure>
<h6><span id="1515-findçš„æ‰©å±•æ–¹æ³•">15.1.5 findçš„æ‰©å±•æ–¹æ³•</span></h6><p><img src="/python-spider/python-18.png" alt="image"></p>
<p>ç”±äºfind_all()ååˆ†å¸¸ç”¨ï¼Œ==soup.find_all()ç­‰ä»·äºsoup()==</p>
<h4><span id="16-å®ä¾‹çˆ¬å–ä¸­å›½å¤§å­¦æ’åä¿¡æ¯">16 å®ä¾‹ï¼Œçˆ¬å–ä¸­å›½å¤§å­¦æ’åä¿¡æ¯</span></h4><p>å®Œæ•´ä»£ç :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import requests</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import bs4</span><br><span class="line"></span><br><span class="line"># çˆ¬å–å¤§å­¦æ’åç½‘é¡µ</span><br><span class="line">def getHTMLText(url):</span><br><span class="line">     try:</span><br><span class="line">          r &#x3D; requests.get(url , timeout &#x3D; 30)</span><br><span class="line">          r.raise_for_status() # åˆ¤æ–­çŠ¶æ€ç </span><br><span class="line">          r.encoding &#x3D; r.apparent_encoding</span><br><span class="line">          return r.text</span><br><span class="line">     except:</span><br><span class="line">          return &quot;çˆ¬å–å¤±è´¥&quot;</span><br><span class="line"></span><br><span class="line"># æå–ç½‘é¡µä¸­å¤§å­¦æ’åç›¸å…³ä¿¡æ¯ï¼Œå¹¶å­˜åˆ°åˆ—è¡¨</span><br><span class="line">def getUnivList(ulist , html):</span><br><span class="line">     soup &#x3D; BeautifulSoup(html , &quot;html.parser&quot;)</span><br><span class="line">     for tr in soup.find(&#39;tbody&#39;).children:</span><br><span class="line">          if isinstance(tr , bs4.element.Tag):</span><br><span class="line">               tds &#x3D; tr.find_all(&#39;td&#39;)</span><br><span class="line">               ulist.append( [tds[0].string , tds[1].string , tds[3].string] )</span><br><span class="line">               </span><br><span class="line">     </span><br><span class="line"># è¾“å‡ºå¤§å­¦æ’ååˆ—è¡¨</span><br><span class="line">def printUnivList(ulist , num):</span><br><span class="line">     tplt &#x3D; &quot;&#123;0:^6&#125;\t&#123;1:&#123;3&#125;^15&#125;\t&#123;2:^6&#125;&quot;</span><br><span class="line">     print(tplt.format(&quot;æ’å&quot; , &quot;å¤§å­¦åç§°&quot; , &quot;æ€»åˆ†&quot; , chr(12288)))</span><br><span class="line">     for i in range(num):</span><br><span class="line">          u &#x3D; ulist[i]</span><br><span class="line">          print(tplt.format(u[0] , u[1] , u[2] , chr(12288)))</span><br><span class="line">     print(str(num) + &quot;æ‰€å¤§å­¦&quot;)</span><br><span class="line">     </span><br><span class="line"></span><br><span class="line"># ä¸»å‡½æ•°</span><br><span class="line">def main():</span><br><span class="line">     uinfo &#x3D; []</span><br><span class="line">     url &#x3D; &quot;http:&#x2F;&#x2F;www.zuihaodaxue.com&#x2F;zuihaodaxuepaiming2019.html&quot;</span><br><span class="line">     html &#x3D; getHTMLText(url)</span><br><span class="line">     getUnivList(uinfo , html)</span><br><span class="line">     printUnivList(uinfo , 30)</span><br><span class="line">main()</span><br></pre></td></tr></table></figure>

<h5><span id="161-ä»£ç åˆ†æ">16.1 ä»£ç åˆ†æ</span></h5><hr>
<p>ä¸ºä»€ä¹ˆå¯¼å…¥ bs4åº“?</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># isinstance()ç”¨äºåˆ¤æ–­trç±»å‹æ—¶ï¼Œbs4.element.Tagéœ€è¦ç”¨åˆ°bs4åº“</span><br><span class="line"> isinstance(tr , bs4.element.Tag)</span><br></pre></td></tr></table></figure>
<hr>
<p> ä¸»å‡½æ•°<br> <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> def main():</span><br><span class="line">    ...</span><br><span class="line">main()</span><br></pre></td></tr></table></figure></p>
<hr>
<p>==æ³¨æ„ç½‘é¡µçš„ç¼–ç æ–¹å¼==</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">r.encoding &#x3D; r.apparent_encoding</span><br></pre></td></tr></table></figure>
<hr>
<p>ç½‘é¡µè¡¨æ ¼çš„çˆ¶å­å…³ç³»:  ==æ ‡ç­¾==</p>
<p>&lt;tbody&gt;â€“&gt;&lt;tr&gt;â€“&gt;&lt;td&gt;</p>
<p>&lt;tbody&gt;åŒ…å«æ•´ä¸ªè¡¨çš„ä¿¡æ¯ï¼Œè¿™é‡ŒåŒ…å«å…¨éƒ¨å¤§å­¦æ’ååŠå…¶ç›¸å…³çš„ä¿¡æ¯</p>
<p>&lt;tr&gt;åŒ…å«ä¸€ä¸ªå¤§å­¦çš„æ‰€æœ‰ç›¸å…³ä¿¡æ¯,è¡¨ç¤ºè¡¨çš„==æ¯ä¸€è¡Œ==</p>
<p>&lt;td&gt;å°±æ˜¯ä¸€ä¸ªå¤§å­¦ä¸­çš„ä¸€ä¸ªä¿¡æ¯ï¼Œå¦‚åç§°ï¼Œæ’åï¼›è¡¨æ ¼==ä¸€è¡Œä¸­çš„ä¸€ä¸ªä¿¡æ¯==</p>
<hr>
<p>æ•°æ®çš„å­˜å…¥ï¼š</p>
<p>ä½¿ç”¨äºŒç»´åˆ—è¡¨;</p>
<p>ä¸€ç»´åˆ—è¡¨ä¸­å†å­˜ä¸€ç»´åˆ—è¡¨æ„æˆäºŒç»´åˆ—è¡¨</p>
<hr>
<p>æ ¼å¼åŒ–è¾“å‡º str.format()</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">print(&quot;&#123;:^6&#125;\t&#123;:^15&#125;\t&#123;:^6&#125;&quot;.format(&quot;æ’å&quot;ï¼Œ&quot;å¤§å­¦åç§°&quot;,&quot;åˆ†æ•°&quot;))</span><br></pre></td></tr></table></figure>
<p>^ è¡¨ç¤ºå³å¯¹é½</p>
<hr>
<p>æ ¼å¼åŒ–è¾“å‡ºçš„ä¼˜åŒ–ï¼ˆä¸­è¥¿æ–‡è¾“å‡ºçš„ä¼˜åŒ–ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># è¡¨ç¤ºä¸­æ–‡çš„ç©ºæ ¼</span><br><span class="line">chr(12288)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># &#123;1:&#123;3&#125;^15&#125; å«ä¹‰:1ä»£è¡¨format()ä¸­ç¬¬äºŒä¸ªå‚æ•°æ¥å¡«å……è¿™ä¸ªä½ç½®ï¼›</span><br><span class="line"># &#123;3&#125;ä»£è¡¨ç”¨format()ä¸­ç¬¬å››ä¸ªå‚æ•°æ¥å¡«å……å­—ç¬¦å‰çš„ç©ºç™½åŒºåŸŸ</span><br><span class="line"># 15ä»£è¡¨å®½åº¦</span><br><span class="line">string1 &#x3D; &quot;&#123;0:^6&#125;\t&#123;1:&#123;3&#125;^15&#125;\t&#123;2:^6&#125;&quot;.format(u[0],u[1],u[2],chr(12288))</span><br></pre></td></tr></table></figure>
<h4><span id="17-æ­£åˆ™è¡¨è¾¾å¼">17 æ­£åˆ™è¡¨è¾¾å¼</span></h4><p><img src="/python-spider/python-19.png" alt="image"></p>
<p><img src="/python-spider/python-20.png" alt="image"></p>
<p><img src="/python-spider/python-21.png" alt="image"></p>
<p><img src="/python-spider/python-22.png" alt="image"></p>
<p><img src="/python-spider/python-23.png" alt="image"></p>
<p>æ­£åˆ™è¡¨è¾¾å¼çš„è¡¨ç¤ºç±»å‹<br><img src="/python-spider/python-24.png" alt="image"></p>
<p><img src="/python-spider/python-25.png" alt="image"></p>
<h4><span id="18-reåº“ä¸»è¦åŠŸèƒ½å‡½æ•°æ­£åˆ™è¡¨è¾¾å¼åº“">18 Reåº“ä¸»è¦åŠŸèƒ½å‡½æ•°(æ­£åˆ™è¡¨è¾¾å¼åº“)</span></h4><p><img src="/python-spider/python-26.png" alt="image"></p>
<h5><span id="181-research">18.1 re.search()</span></h5><p><img src="/python-spider/python-27.png" alt="image"></p>
<p><img src="/python-spider/python-28.png" alt="image"></p>
<p>ä¾‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import re</span><br><span class="line">&gt;&gt;&gt; match &#x3D; re.search(r&#39;[1-9]\d&#123;5&#125;&#39; , &#39;BIT 100081&#39;)</span><br><span class="line">&gt;&gt;&gt; if match:</span><br><span class="line">	print(match.group(0))</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">100081</span><br></pre></td></tr></table></figure>
<h5><span id="182-rematch">18.2 re.match()</span></h5><p>å®ƒåŒ¹é…å­—ç¬¦ä¸²æ˜¯åœ¨==å¤´ä½ç½®åŒ¹é…==</p>
<p>ä¾‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import re</span><br><span class="line">&gt;&gt;&gt; match &#x3D; re.match(r&#39;[1-9]\d&#123;5&#125;&#39; , &#39;100067 BIT&#39;)</span><br><span class="line">&gt;&gt;&gt; if match:</span><br><span class="line">	print(match.group(0))</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">100067</span><br></pre></td></tr></table></figure>
<h5><span id="183-refindall">18.3 re.findall()</span></h5><p>å®ƒè¿”å›çš„æ˜¯ä¸ªåˆ—è¡¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import re</span><br><span class="line">&gt;&gt;&gt; ls &#x3D; re.findall(r&#39;[1-9]\d&#123;5&#125;&#39; , &#39;IJK100088 OKL156009 IOP188899&#39;)</span><br><span class="line">&gt;&gt;&gt; print(ls)</span><br><span class="line">[&#39;100088&#39;, &#39;156009&#39;, &#39;188899&#39;]</span><br></pre></td></tr></table></figure>
<h5><span id="184-resplit">18.4 re.split()</span></h5><p><img src="/python-spider/python-29.png" alt="image"></p>
<p>maxsplit=1 å‚æ•°è¡¨ç¤ºï¼Œåªåˆ‡å‰²å‡ºç¬¬ä¸€ä¸ªï¼Œå‰©ä¸‹çš„åŸæ ·è¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; re.split(r&#39;[1-9]\d&#123;5&#125;&#39; , &#39;IJK100088 OKL156009 IOP188899&#39;)</span><br><span class="line">[&#39;IJK&#39;, &#39; OKL&#39;, &#39; IOP&#39;, &#39;&#39;]</span><br><span class="line">&gt;&gt;&gt; re.split(r&#39;[1-9]\d&#123;5&#125;&#39; , &#39;IJK100088 OKL156009 IOP188899&#39; , maxsplit&#x3D;1)</span><br><span class="line">[&#39;IJK&#39;, &#39; OKL156009 IOP188899&#39;]</span><br></pre></td></tr></table></figure>
<h5><span id="185-refinditer">18.5 re.finditer()</span></h5><p>finditer()éå†äº†æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯æ¬¡è¿”å›ä¸€ä¸ªmatchç±»å‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; for m in re.finditer(r&#39;[1-9]\d&#123;5&#125;&#39; , &#39;IJK100088 OKL156009 IOP188899&#39;):</span><br><span class="line">	if m:</span><br><span class="line">		print(m.group(0))</span><br><span class="line"></span><br><span class="line">100088</span><br><span class="line">156009</span><br><span class="line">188899</span><br></pre></td></tr></table></figure>
<h5><span id="186-resubpatternreplstringcount0flags0">18.6 re.sub(pattern,repl,string,count=0,flags=0)</span></h5><p><img src="/python-spider/python-30.png" alt="image"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; re.sub(r&#39;[1-9]\d&#123;5&#125;&#39; , &#39;zipcode&#39; , &#39;IJK100088 OKL156009 IOP188899&#39;)</span><br><span class="line">&#39;IJKzipcode OKLzipcode IOPzipcode&#39;</span><br></pre></td></tr></table></figure>
<h5><span id="187-æ­£åˆ™è¡¨è¾¾å¼çš„é¢å‘å¯¹è±¡çš„ç”¨æ³•">18.7 æ­£åˆ™è¡¨è¾¾å¼çš„é¢å‘å¯¹è±¡çš„ç”¨æ³•</span></h5><p><img src="/python-spider/python-31.png" alt="image"></p>
<p>å°†æ­£åˆ™è¡¨è¾¾å¼å­˜å‚¨ä¸º==æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡==</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pat &#x3D; re.compile(r&#39;[1-9]\d&#123;5&#125;&#39;)</span><br></pre></td></tr></table></figure>
<h5><span id="188-regex-recompilepatternflags0">18.8 regex = re.compile(pattern,flags=0)</span></h5><p>regex:æ­£åˆ™è¡¨è¾¾å¼</p>
<p>ç­‰ä»·ç”¨æ³•:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">regex.search()</span><br><span class="line">regex.match()</span><br><span class="line">regex.findall()</span><br><span class="line">regex.split()</span><br><span class="line">regex.finditer()</span><br><span class="line">regex.sub()</span><br></pre></td></tr></table></figure>
<h5><span id="189-matchå¯¹è±¡">18.9 matchå¯¹è±¡</span></h5><p>==matchå¯¹è±¡åªæœ‰ä¸€ä¸ªç»“æœï¼Œå­—ç¬¦ä¸²ä¸­æœ‰å¤šä¸ªå¯ç”¨finditer()==</p>
<p><img src="/python-spider/python-32.png" alt="image"></p>
<p><img src="/python-spider/python-33.png" alt="image"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt;&gt;&gt; import re</span><br><span class="line">&gt;&gt;&gt; m &#x3D; re.search(r&#39;[1-9]\d&#123;5&#125;&#39; , &#39;KLO100089 JIO100056&#39;)</span><br><span class="line">&gt;&gt;&gt; m.string</span><br><span class="line">&#39;KLO100089 JIO100056&#39;</span><br><span class="line">&gt;&gt;&gt; m.re</span><br><span class="line">re.compile(&#39;[1-9]\\d&#123;5&#125;&#39;)</span><br><span class="line">&gt;&gt;&gt; m.pos</span><br><span class="line">0</span><br><span class="line">&gt;&gt;&gt; m.endpos</span><br><span class="line">19</span><br><span class="line">&gt;&gt;&gt; m.group(0)</span><br><span class="line">&#39;100089&#39;</span><br><span class="line">&gt;&gt;&gt; m</span><br><span class="line">&lt;re.Match object; span&#x3D;(3, 9), match&#x3D;&#39;100089&#39;&gt;</span><br><span class="line">&gt;&gt;&gt; m.start()</span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt; m.end()</span><br><span class="line">9</span><br></pre></td></tr></table></figure>
<h4><span id="19-å®ä¾‹çˆ¬å–äº¬ä¸œé¼ æ ‡">19 å®ä¾‹ï¼šçˆ¬å–äº¬ä¸œé¼ æ ‡</span></h4><h5><span id="191-æŸ¥çœ‹é“¾æ¥ä¸æ¥å£">19.1 æŸ¥çœ‹é“¾æ¥ä¸æ¥å£</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># https:&#x2F;&#x2F;search.jd.com&#x2F;Search?keyword&#x3D;%E9%BC%A0%E6%A0%87&amp;enc&#x3D;utf-8&amp;wq&#x3D;%E9%BC%A0%E6%A0%87&amp;pvid&#x3D;ab1812a3adfc4abfa04fc59f52d3e6cb</span><br><span class="line"># https:&#x2F;&#x2F;search.jd.com&#x2F;Search?keyword&#x3D;%E9%BC%A0%E6%A0%87&amp;enc&#x3D;utf-8&amp;qrst&#x3D;1&amp;rt&#x3D;1&amp;stop&#x3D;1&amp;vt&#x3D;2&amp;wq&#x3D;%E9%BC%A0%E6%A0%87&amp;page&#x3D;3&amp;s&#x3D;59&amp;click&#x3D;0</span><br><span class="line"># https:&#x2F;&#x2F;search.jd.com&#x2F;Search?keyword&#x3D;%E9%BC%A0%E6%A0%87&amp;enc&#x3D;utf-8&amp;qrst&#x3D;1&amp;rt&#x3D;1&amp;stop&#x3D;1&amp;vt&#x3D;2&amp;wq&#x3D;%E9%BC%A0%E6%A0%87&amp;page&#x3D;5&amp;s&#x3D;114&amp;click&#x3D;0</span><br><span class="line"># https:&#x2F;&#x2F;search.jd.com&#x2F;Search?keyword&#x3D;%E9%BC%A0%E6%A0%87&amp;enc&#x3D;utf-8&amp;qrst&#x3D;1&amp;rt&#x3D;1&amp;stop&#x3D;1&amp;vt&#x3D;2&amp;wq&#x3D;%E9%BC%A0%E6%A0%87&amp;page&#x3D;7&amp;s&#x3D;166&amp;click&#x3D;0</span><br><span class="line"># https:&#x2F;&#x2F;search.jd.com&#x2F;Search?keyword&#x3D;%E9%BC%A0%E6%A0%87&amp;enc&#x3D;utf-8&amp;qrst&#x3D;1&amp;rt&#x3D;1&amp;stop&#x3D;1&amp;vt&#x3D;2&amp;wq&#x3D;%E9%BC%A0%E6%A0%87&amp;page&#x3D;9&amp;s&#x3D;218&amp;click&#x3D;0</span><br><span class="line"># https:&#x2F;&#x2F;search.jd.com&#x2F;Search?keyword&#x3D;%E9%BC%A0%E6%A0%87&amp;enc&#x3D;utf-8&amp;qrst&#x3D;1&amp;rt&#x3D;1&amp;stop&#x3D;1&amp;vt&#x3D;2&amp;wq&#x3D;%E9%BC%A0%E6%A0%87&amp;page&#x3D;11&amp;s&#x3D;271&amp;click&#x3D;0</span><br></pre></td></tr></table></figure>
<h5><span id="192-ä½¿ç”¨çš„åº“">19.2 ä½¿ç”¨çš„åº“</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import requests</span><br><span class="line">import re</span><br></pre></td></tr></table></figure>
<h5><span id="193-æŸ¥çœ‹ç½‘é¡µæºç æå–ä¿¡æ¯">19.3 æŸ¥çœ‹ç½‘é¡µæºç æå–ä¿¡æ¯</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if len(name[i].split(&#39;&gt;&#39;)) &lt; 3 :</span><br><span class="line">                name1 &#x3D; name[i].split(&#39;&gt;&#39;)[1]</span><br><span class="line">            elif len(name[i].split(&#39;&gt;&#39;)) &gt;&#x3D; 3 and len(name[i].split(&#39;&gt;&#39;)) &lt; 6 :</span><br><span class="line">                name1 &#x3D; name[i].split(&#39;&gt;&#39;)[2]</span><br><span class="line">            else:</span><br><span class="line">                name1 &#x3D; name[i].split(&#39;&gt;&#39;)[7]</span><br><span class="line">            name2 &#x3D; name1.split(&#39;&lt;&#39;)[0]</span><br><span class="line">            price1 &#x3D; price[i].split(&#39;&gt;&#39;)[1]</span><br><span class="line">            price2 &#x3D; price1.split(&#39;&lt;&#39;)[0]</span><br><span class="line">            ulist.append([name2 , price2])</span><br></pre></td></tr></table></figure>

<h5><span id="194-å®Œæ•´ä»£ç ">19.4 å®Œæ•´ä»£ç </span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import requests</span><br><span class="line">import re</span><br><span class="line"></span><br><span class="line">def getHTMLText(url):</span><br><span class="line">    try:</span><br><span class="line">        kv &#x3D; &#123;&#39;User-Agent&#39;:&#39;Mozilla&#x2F;5.0&#39;&#125;</span><br><span class="line">        r &#x3D; requests.get(url , headers &#x3D; kv)</span><br><span class="line">        r.raise_for_status()</span><br><span class="line">        r.encoding &#x3D; r.apparent_encoding</span><br><span class="line">        return r.text</span><br><span class="line">    except:</span><br><span class="line">        return &quot;çˆ¬å–å¤±è´¥&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def getInfo(ulist , html):</span><br><span class="line">    name &#x3D; re.findall(&#39;\&lt;em\&gt;.*?\&lt;font&#39; , html)</span><br><span class="line">    price &#x3D; re.findall(&#39;\&lt;i\&gt;[\d]*\.[\d]*\&lt;\&#x2F;i\&gt;&#39; , html)</span><br><span class="line">    for i in range(len(name)):</span><br><span class="line">        try:</span><br><span class="line">            if len(name[i].split(&#39;&gt;&#39;)) &lt; 3 :</span><br><span class="line">                name1 &#x3D; name[i].split(&#39;&gt;&#39;)[1]</span><br><span class="line">            elif len(name[i].split(&#39;&gt;&#39;)) &gt;&#x3D; 3 and len(name[i].split(&#39;&gt;&#39;)) &lt; 6 :</span><br><span class="line">                name1 &#x3D; name[i].split(&#39;&gt;&#39;)[2]</span><br><span class="line">            else:</span><br><span class="line">                name1 &#x3D; name[i].split(&#39;&gt;&#39;)[7]</span><br><span class="line">            name2 &#x3D; name1.split(&#39;&lt;&#39;)[0]</span><br><span class="line">            price1 &#x3D; price[i].split(&#39;&gt;&#39;)[1]</span><br><span class="line">            price2 &#x3D; price1.split(&#39;&lt;&#39;)[0]</span><br><span class="line">            ulist.append([name2 , price2])</span><br><span class="line">        except:</span><br><span class="line">            continue</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def printList(ulist):</span><br><span class="line">    string &#x3D; &#39;&#123;0:&lt;6&#125;\t&#123;1:&#123;3&#125;&lt;40&#125;\t&#123;2:&lt;6&#125;&#39;</span><br><span class="line">    print(string.format(&quot;å•†å“åºåˆ—&quot;,&quot;å•†å“åç§°&quot;,&quot;å•†å“ä»·æ ¼&quot;,chr(12288)))</span><br><span class="line">    for i in range(len(ulist)):</span><br><span class="line">        info &#x3D; ulist[i]</span><br><span class="line">        print(string.format(i+1,info[0],info[1],chr(12288)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    infoList &#x3D; []</span><br><span class="line">    pageNum &#x3D; 5</span><br><span class="line">    url &#x3D; &quot;https:&#x2F;&#x2F;search.jd.com&#x2F;Search?keyword&#x3D;%E9%BC%A0%E6%A0%87&amp;enc&#x3D;utf-8&quot;</span><br><span class="line">    </span><br><span class="line">    for i in range(pageNum):</span><br><span class="line">        html &#x3D; getHTMLText(url)</span><br><span class="line">        url &#x3D; &quot;https:&#x2F;&#x2F;search.jd.com&#x2F;Search?keyword&#x3D;%E9%BC%A0%E6%A0%87&amp;enc&#x3D;utf-8&quot; + &quot;&amp;qrst&#x3D;1&amp;rt&#x3D;1&amp;stop&#x3D;1&amp;vt&#x3D;2&amp;wq&#x3D;%E9%BC%A0%E6%A0%87&amp;page&#x3D;&quot; + str(3+2*i) + &quot;&amp;s&#x3D;&quot; + str(59*(i+1)) + &quot;&amp;click&#x3D;0&quot;</span><br><span class="line">        getInfo(infoList , html)</span><br><span class="line"></span><br><span class="line">    printList(infoList)</span><br><span class="line">    </span><br><span class="line">main()</span><br></pre></td></tr></table></figure>
<h4><span id="20-scrapyæ¡†æ¶">20 scrapyæ¡†æ¶</span></h4><p>å®‰è£…scrapy</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># cmd å‘½ä»¤</span><br><span class="line">pip install scrapy</span><br></pre></td></tr></table></figure>

<h5><span id="201-æ¡†æ¶ç»“æ„">20.1 æ¡†æ¶ç»“æ„</span></h5><p><img src="/python-spider/python-34.png" alt="image"></p>
<h5><span id="202-scrapy-å¸¸ç”¨å‘½ä»¤">20.2  scrapy å¸¸ç”¨å‘½ä»¤</span></h5><p>æŸ¥çœ‹å‘½ä»¤è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scrapy -h</span><br></pre></td></tr></table></figure>
<p><img src="/python-spider/python-35.png" alt="image"></p>
<h5><span id="203-å°å®ä¾‹">20.3 å°å®ä¾‹</span></h5><p>cmdä¸‹æ“ä½œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æŸç›®å½•ä¸‹åˆ›å»ºé¡¹ç›®</span><br><span class="line">scrapy startproject python123demo</span><br></pre></td></tr></table></figure>
<p><img src="/python-spider/python-36.png" alt="image"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd python123demo</span><br><span class="line"># ç”Ÿæˆçˆ¬è™«</span><br><span class="line">scrapy genspider demo python.io</span><br></pre></td></tr></table></figure>
<p>ç¼–è¾‘ç”Ÿæˆçš„demo.py</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">import scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class DemoSpider(scrapy.Spider):</span><br><span class="line">    # çˆ¬è™«å</span><br><span class="line">    name &#x3D; &#39;demo&#39;</span><br><span class="line">    # çˆ¬å–çš„é“¾æ¥</span><br><span class="line">    start_urls &#x3D; [&#39;http:&#x2F;&#x2F;python.io&#x2F;ws&#x2F;demo.html&#39;]</span><br><span class="line"></span><br><span class="line">    def parse(self, response):</span><br><span class="line">        # çˆ¬å–çš„é¡µé¢ä¿å­˜ä¸ºæ–‡ä»¶</span><br><span class="line">        fname &#x3D; response.url.split(&#39;&#x2F;&#39;)[-1]</span><br><span class="line">        with open(fname , &#39;wb&#39;) as f:</span><br><span class="line">            f.write(response.body)</span><br><span class="line">            fname.close()</span><br><span class="line">        self.log(&#39;saved file %s&#39; % fname)</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œçˆ¬è™«æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># cmd è¿è¡Œçˆ¬è™«æ–‡ä»¶</span><br><span class="line">scrapy crawl demo.py</span><br></pre></td></tr></table></figure>
<h5><span id="204-yield-å…³é”®å­—">20.4 yield å…³é”®å­—</span></h5><p>yeildæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œå½“è¿è¡Œåˆ°å®ƒæ—¶ï¼Œå®ƒä¼šç”Ÿæˆä¸€ä¸ªå€¼ï¼Œç„¶åå†»ç»“ï¼Œç›´åˆ°å†æ¬¡å”¤é†’å®ƒï¼Œå†ç”Ÿæˆä¸€ä¸ªå€¼,ä¸€èˆ¬ä¸å¾ªç¯è¿ç”¨</p>
<p>ä¾‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">def gen(n):</span><br><span class="line">	for i in range(n):</span><br><span class="line">		yield i**2</span><br><span class="line"></span><br><span class="line">for i in gen(5):</span><br><span class="line">    print(i,&quot; &quot;,end&#x3D;&quot;&quot;)</span><br><span class="line"></span><br><span class="line"># ç»“æœ: 0  1  4  9  16</span><br></pre></td></tr></table></figure>
<h5><span id="205-ä½¿ç”¨yieldä¼˜åŒ–demoçˆ¬è™«">20.5 ä½¿ç”¨yieldä¼˜åŒ–demoçˆ¬è™«</span></h5><p>åœ¨é“¾æ¥éå¸¸å¤šçš„æƒ…å†µä¸‹ï¼Œèƒ½æœ‰æ•ˆåœ°èŠ‚çº¦èµ„æº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">import scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class DemoSpider(scrapy.Spider):</span><br><span class="line">    # çˆ¬è™«å</span><br><span class="line">    name &#x3D; &#39;demo&#39;</span><br><span class="line">    # çˆ¬å–çš„é“¾æ¥</span><br><span class="line">    def start_requests(self):</span><br><span class="line">        urls &#x3D; [&#39;http:&#x2F;&#x2F;python123.io&#x2F;ws&#x2F;demo.html&#39;]</span><br><span class="line">        # ä½¿ç”¨ç”Ÿæˆå™¨å»è°ƒç”¨é“¾æ¥</span><br><span class="line">        for url in urls:</span><br><span class="line">            yield scrapy.Request(url&#x3D;url , callback&#x3D;self.parse)</span><br><span class="line"></span><br><span class="line">    def parse(self, response):</span><br><span class="line">        # çˆ¬å–çš„é¡µé¢ä¿å­˜ä¸ºæ–‡ä»¶</span><br><span class="line">        fname &#x3D; response.url.split(&#39;&#x2F;&#39;)[-1]</span><br><span class="line">        with open(fname , &#39;wb&#39;) as f:</span><br><span class="line">            f.write(response.body)</span><br><span class="line">            fname.close()</span><br><span class="line">        self.log(&#39;saved file %s&#39; % fname)</span><br></pre></td></tr></table></figure>
<h4><span id="21-scrapyçˆ¬è™«çš„æ•°æ®ç±»å‹">21 scrapyçˆ¬è™«çš„æ•°æ®ç±»å‹</span></h4><h5><span id="211-requestç±»">21.1 Requestç±»</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class scrapy.http.Request()</span><br></pre></td></tr></table></figure>
<p>è¡¨ç¤ºä¸€ä¸ªhttpè¯·æ±‚</p>
<p><img src="/python-spider/python-37.png" alt="image"></p>
<h5><span id="212-responseç±»">21.2 Responseç±»</span></h5><p><img src="/python-spider/python-38.png" alt="image"></p>
<h5><span id="213-itemç±»">21.3 Itemç±»</span></h5><h4><span id="22-å®ä¾‹çˆ¬å–è‚¡ç¥¨æ•°æ®">22 å®ä¾‹:çˆ¬å–è‚¡ç¥¨æ•°æ®</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ–°æµªè‚¡ç¥¨</span><br><span class="line">https:&#x2F;&#x2F;finance.sina.com.cn&#x2F;stock&#x2F;</span><br><span class="line"># ç™¾åº¦è‚¡ç¥¨</span><br><span class="line">https:&#x2F;&#x2F;gupiao.baidu.com&#x2F;stock</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># è‚¡ç¥¨ä»£ç ä¸€è§ˆè¡¨</span><br><span class="line">http:&#x2F;&#x2F;quote.eastmoney.com&#x2F;stocklist.html</span><br></pre></td></tr></table></figure>
<p>å…¨éƒ¨ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># -*- coding:utf-8 -*-</span><br><span class="line"></span><br><span class="line">import requests</span><br><span class="line">import re</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import traceback</span><br><span class="line">import bs4</span><br><span class="line"></span><br><span class="line">class SpiderStock:</span><br><span class="line">    # åˆå§‹åŒ–</span><br><span class="line">    def __init__(self):</span><br><span class="line">        pass</span><br><span class="line">    </span><br><span class="line">    # è·å–é¡µé¢</span><br><span class="line">    def getHTMLText(self,url):</span><br><span class="line">        try:</span><br><span class="line">            kv &#x3D; &#123;&#39;User-Agent&#39;:&#39;Mozilla&#x2F;5.0&#39;&#125;</span><br><span class="line">            r &#x3D; requests.get(url , headers &#x3D; kv)</span><br><span class="line">            r.raise_for_status()</span><br><span class="line">            r.encoding &#x3D; r.apparent_encoding</span><br><span class="line">            return r.text</span><br><span class="line">        except:</span><br><span class="line">            print(&quot;\rçˆ¬å–å¤±è´¥&quot;,end&#x3D;&#39;&#39;)</span><br><span class="line"></span><br><span class="line">    # æå–ä¿¡æ¯</span><br><span class="line">    def getInfo(self,sCodeList,fname):</span><br><span class="line">        count &#x3D; 0</span><br><span class="line">        infoDict &#x3D; &#123;&#125;</span><br><span class="line">        for stock in sCodeList:</span><br><span class="line">            try:</span><br><span class="line">                    url &#x3D; &quot;https:&#x2F;&#x2F;gupiao.baidu.com&#x2F;stock&#x2F;&quot; + stock</span><br><span class="line">                    if url &#x3D;&#x3D; &#39;&#39;:</span><br><span class="line">                        continue</span><br><span class="line">                        </span><br><span class="line">                    html &#x3D; self.getHTMLText(url)</span><br><span class="line">                        </span><br><span class="line">                    soup &#x3D; BeautifulSoup(html,&#39;html.parser&#39;)</span><br><span class="line">                    # æŸ¥è¯¢è‚¡ç¥¨ä¿¡æ¯çš„ä½ç½®</span><br><span class="line">                    infoStock &#x3D; soup.find(&#39;div&#39;,attrs &#x3D; &#123;&#39;class&#39;:&#39;stock-bets&#39;&#125;)</span><br><span class="line">                    # è‚¡ç¥¨åç§°</span><br><span class="line">                    name &#x3D; infoStock.find(&#39;a&#39;,attrs &#x3D; &#123;&#39;class&#39;:&#39;bets-name&#39;&#125;)</span><br><span class="line">                    # å­˜æ”¾åœ¨å­—å…¸ä¸­</span><br><span class="line">                    infoDict.update(&#123;&#39;è‚¡ç¥¨åç§°&#39;:name.text.split()[0]&#125;)</span><br><span class="line">                    </span><br><span class="line">                    keyList &#x3D; infoStock.find_all(&#39;dt&#39;)</span><br><span class="line">                    valueList &#x3D; infoStock.find_all(&#39;dd&#39;)</span><br><span class="line">                </span><br><span class="line">                    </span><br><span class="line">                    for j in range(len(valueList)):</span><br><span class="line">                        key &#x3D; keyList[j].text</span><br><span class="line">                        value &#x3D; valueList[j].text</span><br><span class="line">                        # å­—å…¸æ·»åŠ å€¼</span><br><span class="line">                        infoDict[key] &#x3D; value</span><br><span class="line"></span><br><span class="line">                    # å°†ä¿¡æ¯ä¿å­˜åœ¨æ–‡ä»¶</span><br><span class="line">                    with open(fname,&#39;a&#39;,encoding&#x3D;&#39;utf-8&#39;) as f:</span><br><span class="line">                        f.write(str(infoDict) + &#39;\n&#39;)</span><br><span class="line">                        count &#x3D; count + 1</span><br><span class="line">                        print(&#39;\rå½“å‰è¿›åº¦: &#123;:.2f&#125;%&#39;.format(count*100&#x2F;len(sCodeList)),end&#x3D;&#39;&#39;)</span><br><span class="line">            except:</span><br><span class="line">                count &#x3D; count + 1</span><br><span class="line">                print(&#39;\rå½“å‰è¿›åº¦: &#123;:.2f&#125;%&#39;.format(count*100&#x2F;len(sCodeList)),end&#x3D;&#39;&#39;)</span><br><span class="line">                # traceback.print_exc()  æ˜¾ç¤ºé”™è¯¯</span><br><span class="line">                continue</span><br><span class="line">                </span><br><span class="line">    # è·å–è‚¡ç¥¨ä»£ç </span><br><span class="line">    def getStockList(self,sUrl):</span><br><span class="line">        try:</span><br><span class="line">            string &#x3D; r&#39;[s][hz][\d]&#123;6&#125;\.[h][t][m][l]&#39;</span><br><span class="line">            html &#x3D; self.getHTMLText(sUrl)</span><br><span class="line">            sCodeList &#x3D; re.findall(string,html)</span><br><span class="line">            return sCodeList</span><br><span class="line">        except:</span><br><span class="line">            print(&quot;\rè·å–è‚¡ç¥¨ä»£ç å¤±è´¥&quot;,end&#x3D;&#39;&#39;)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    # è¾“å‡ºè¡¨</span><br><span class="line">    def printList(self , slist):</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line">    # ä¸»å‡½æ•°</span><br><span class="line">    def main(self):</span><br><span class="line">        url &#x3D; &quot;https:&#x2F;&#x2F;gupiao.baidu.com&#x2F;stock&quot;</span><br><span class="line">        sCodeUrl &#x3D; &quot;http:&#x2F;&#x2F;quote.eastmoney.com&#x2F;stocklist.html&quot;</span><br><span class="line">        # å­˜å‚¨æ–‡ä»¶è·¯å¾„</span><br><span class="line">        fname &#x3D; &quot;F:\\py\\py-spider\\spider-stock\\info_stock.txt&quot;</span><br><span class="line">        slist &#x3D; []</span><br><span class="line">        lack_slist &#x3D; []</span><br><span class="line">        slist &#x3D; self.getStockList(sCodeUrl)</span><br><span class="line">        # ç¡®å®šè‚¡ç¥¨æ•°</span><br><span class="line">        for i in range(20):</span><br><span class="line">            lack_slist.append(slist[i])</span><br><span class="line">        </span><br><span class="line">        self.getInfo(lack_slist , fname)</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">spiderstock &#x3D; SpiderStock()</span><br><span class="line">spiderstock.main()</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>pythonçˆ¬è™«</tag>
      </tags>
  </entry>
  <entry>
    <title>HTMLå­¦ä¹ ç¬”è®°</title>
    <url>/2019-06-12-html-note.html</url>
    <content><![CDATA[<p>ç”±äºè‡ªå·±å­¦ç€ruby on railsç½‘ç«™çš„éƒ¨ç½²ï¼Œç°åœ¨ä¹Ÿéƒ¨ç½²æˆåŠŸäº†ï¼›<br>å› æ­¤å¼€å§‹å­¦ä¹ å‰ç«¯çš„ä¸€äº›çŸ¥è¯†ï¼›<br>è¿™é‡Œæ˜¯æˆ‘å­¦ä¹ htmlçš„å­¦ä¹ ç¬”è®°ã€‚</p>
<p>æˆ‘æ˜¯åœ¨w3schoolå­¦ä¹ çš„;<a href="www.w3school.com.cn/">w3school</a></p>
<a id="more"></a>

<hr>
<h4><span id="1-htmlæ ‡ç­¾çš„å­¦ä¹ ">1. htmlæ ‡ç­¾çš„å­¦ä¹ </span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body bgcolor&#x3D;&quot;blue&quot;&gt;</span><br><span class="line">&lt;!--æ ‡é¢˜--&gt;</span><br><span class="line">&lt;h1 align&#x3D;&quot;center&quot;&gt;ä¸€çº§æ ‡é¢˜(heading1)&lt;&#x2F;h1&gt;</span><br><span class="line">&lt;h2&gt;äºŒçº§æ ‡é¢˜(heading2)&lt;&#x2F;h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--æ®µè½--&gt;</span><br><span class="line">&lt;p&gt;è¿™æ˜¯æ®µè½å†…å®¹(paragraph)&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--é“¾æ¥--&gt;</span><br><span class="line">&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;inno-hua.xyz&quot;&gt;è¿™æ˜¯ä¸€ä¸ªé“¾æ¥(Link)(href&#x3D;hypertext reference)&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--å›¾ç‰‡,name.jpgåœ¨åŒä¸€æ–‡ä»¶å¤¹ä¸‹&gt;</span><br><span class="line">&lt;img src&#x3D;&quot;name.jpg&quot; width&#x3D;&quot;100&quot; hight&#x3D;&quot;100&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;br &#x2F;&gt;  &lt;!--æ¢è¡Œ--&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr &#x2F;&gt;  &lt;!--æ°´å¹³çº¿--&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;!--ä½¿ç”¨styleå±æ€§--&gt;</span><br><span class="line">&lt;body style&#x3D;&quot;background-color:red&quot;&gt;</span><br><span class="line">&lt;h1 style&#x3D;&quot;background:blue&quot;&gt;è¿™æ˜¯æ ‡é¢˜&lt;&#x2F;h1&gt;</span><br><span class="line">&lt;hr&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--å…ƒç´ ä¸­æ–‡æœ¬çš„å­—ä½“ç³»åˆ—ã€é¢œè‰²å’Œå­—ä½“å°ºå¯¸--&gt;</span><br><span class="line">&lt;h2 style&#x3D;&quot;font-family:arial;color:blue;font-size:20px&quot;&gt;a heading2&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;p style&#x3D;&quot;text-align:center;font-family:arial;font-size:30px&quot;&gt;a paragraph&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p style&#x3D;&quot;background:green&quot;&gt;è¿™æ˜¯æ®µè½&lt;&#x2F;p&gt;</span><br><span class="line">&lt;hr &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--æ–‡æœ¬æ ¼å¼åŒ–æ ‡ç­¾--&gt;</span><br><span class="line">&lt;p&gt;&lt;b&gt;é»‘ä½“&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;tt&gt;å‘ˆç°ç±»ä¼¼æ‰“å­—æœºæˆ–è€…ç­‰å®½çš„æ–‡æœ¬æ•ˆæœ&lt;&#x2F;tt&gt;</span><br><span class="line">&lt;i&gt;æ–œä½“å­—&lt;&#x2F;i&gt;</span><br><span class="line">&lt;big&gt;å¤§å·å­—&lt;&#x2F;big&gt;</span><br><span class="line">&lt;small&gt;å°å·å­—&lt;&#x2F;small&gt;</span><br><span class="line">&lt;em&gt;å®šä¹‰ç€é‡æ–‡å­—ã€‚&lt;&#x2F;em&gt; </span><br><span class="line">&lt;strong&gt;å®šä¹‰åŠ é‡è¯­æ°”ã€‚&lt;&#x2F;strong&gt; </span><br><span class="line">&lt;sub&gt;å®šä¹‰ä¸‹æ ‡å­—ã€‚&lt;&#x2F;sub&gt; </span><br><span class="line">&lt;sup&gt;å®šä¹‰ä¸Šæ ‡å­—ã€‚&lt;&#x2F;sup&gt; </span><br><span class="line">&lt;ins&gt;å®šä¹‰æ’å…¥å­—ã€‚&lt;&#x2F;ins&gt; </span><br><span class="line">&lt;del&gt;å®šä¹‰åˆ é™¤å­—ã€‚&lt;&#x2F;del&gt;</span><br><span class="line">&lt;hr &#x2F;&gt;</span><br><span class="line">&lt;!--â€œè®¡ç®—æœºè¾“å‡ºâ€æ ‡ç­¾--&gt;</span><br><span class="line">&lt;code&gt;å®šä¹‰è®¡ç®—æœºä»£ç ã€‚&lt;&#x2F;code&gt; </span><br><span class="line">&lt;kbd&gt;å®šä¹‰é”®ç›˜ç ã€‚&lt;&#x2F;kbd&gt; </span><br><span class="line">&lt;smap&gt;å®šä¹‰è®¡ç®—æœºä»£ç æ ·æœ¬ã€‚&lt;&#x2F;smap&gt; </span><br><span class="line">&lt;tt&gt;å®šä¹‰æ‰“å­—æœºä»£ç ã€‚&lt;&#x2F;tt&gt; </span><br><span class="line">&lt;var&gt;å®šä¹‰å˜é‡ã€‚&lt;&#x2F;var&gt; </span><br><span class="line">&lt;pre&gt;å®šä¹‰é¢„æ ¼å¼æ–‡æœ¬ã€‚&lt;&#x2F;pre&gt;</span><br><span class="line">&lt;hr &#x2F;&gt;</span><br><span class="line">&lt;!--å¼•ç”¨ã€å¼•ç”¨å’Œæœ¯è¯­å®šä¹‰--&gt;</span><br><span class="line">&lt;abbr&gt;å®šä¹‰ç¼©å†™ã€‚&lt;&#x2F;abbr&gt; </span><br><span class="line">&lt;acronym&gt;å®šä¹‰é¦–å­—æ¯ç¼©å†™ã€‚&lt;&#x2F;acronym&gt; </span><br><span class="line">&lt;address&gt;å®šä¹‰åœ°å€ã€‚&lt;&#x2F;address&gt; </span><br><span class="line">&lt;bdo&gt;å®šä¹‰æ–‡å­—æ–¹å‘ã€‚&lt;&#x2F;bdo&gt; </span><br><span class="line">&lt;blockquote&gt;å®šä¹‰é•¿çš„å¼•ç”¨ã€‚&lt;&#x2F;blockquote&gt; </span><br><span class="line">&lt;q&gt;å®šä¹‰çŸ­çš„å¼•ç”¨è¯­ã€‚&lt;&#x2F;q&gt; </span><br><span class="line">&lt;cite&gt;å®šä¹‰å¼•ç”¨ã€å¼•è¯ã€‚&lt;&#x2F;cite&gt; </span><br><span class="line">&lt;dfn&gt;å®šä¹‰ä¸€ä¸ªå®šä¹‰é¡¹ç›®ã€‚&lt;&#x2F;dfn&gt;</span><br><span class="line">&lt;br &#x2F;&gt;</span><br><span class="line">&lt;!--å®ä¾‹--&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">	my goals are &lt;q&gt;can complete the learn.&lt;&#x2F;q&gt;</span><br><span class="line">	&lt;br &#x2F;&gt;</span><br><span class="line">	&lt;p&gt;ä»¥ä¸‹å†…å®¹å¼•ç”¨è‡ª WWF çš„ç½‘ç«™ï¼š&lt;&#x2F;p&gt;</span><br><span class="line">	&lt;blockquote cite&#x3D;&quot;http:&#x2F;&#x2F;www.worldwildlife.org&#x2F;who&#x2F;index.html&quot;&gt;</span><br><span class="line">		äº”åå¹´æ¥ï¼ŒWWF ä¸€ç›´è‡´åŠ›äºä¿æŠ¤è‡ªç„¶ç•Œçš„æœªæ¥ã€‚</span><br><span class="line">ä¸–ç•Œé¢†å…ˆçš„ç¯ä¿ç»„ç»‡ï¼ŒWWF å·¥ä½œäº 100 ä¸ªå›½å®¶ï¼Œ</span><br><span class="line">å¹¶å¾—åˆ°ç¾å›½ä¸€ç™¾äºŒåä¸‡ä¼šå‘˜åŠå…¨çƒè¿‘äº”ç™¾ä¸‡ä¼šå‘˜çš„æ”¯æŒã€‚</span><br><span class="line">	&lt;&#x2F;blockquote&gt;</span><br><span class="line">&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">	&lt;abbr title&#x3D;&quot;World Health Organization&quot;&gt;WHO&lt;&#x2F;abbr&gt;</span><br><span class="line">	æˆç«‹äº 1948 å¹´ã€‚</span><br><span class="line">	&lt;p&gt;&lt;dfn&gt;&lt;abbr title&#x3D;&quot;World Health Organization&quot;&gt;WHO&lt;&#x2F;abbr&gt;&lt;&#x2F;dfn&gt; æˆç«‹äº 1948 å¹´ã€‚&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;p&gt;</span><br><span class="line">&lt;!--HTML &lt;address&gt; å…ƒç´ å®šä¹‰æ–‡æ¡£æˆ–æ–‡ç« çš„è”ç³»ä¿¡æ¯ï¼ˆä½œè€…&#x2F;æ‹¥æœ‰è€…ï¼‰ã€‚æ­¤å…ƒç´ é€šå¸¸ä»¥æ–œä½“æ˜¾ç¤º--&gt;</span><br><span class="line">&lt;address&gt;</span><br><span class="line">	written by inno.&lt;br &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;address&gt;</span><br><span class="line">&lt;!--&lt;cite&gt; å…ƒç´ å®šä¹‰è‘—ä½œçš„æ ‡é¢˜ã€‚--&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">	&lt;cite&gt;The Scream&lt;&#x2F;cite&gt;by Edward Munch. Painted in 1893.</span><br><span class="line">&lt;&#x2F;p&gt;</span><br><span class="line">&lt;!--HTML &lt;bdo&gt; å…ƒç´ å®šä¹‰åŒæµå‘è¦†ç›–ï¼ˆbi-directional overrideï¼‰ã€‚&lt;bdo&gt; å…ƒç´ ç”¨äºè¦†ç›–å½“å‰æ–‡æœ¬æ–¹å‘ï¼š--&gt;</span><br><span class="line">	&lt;p&gt;</span><br><span class="line">		&lt;bdo dir&#x3D;&quot;rtl&quot;&gt;This text will be written from right to left&lt;&#x2F;bdo&gt;</span><br><span class="line">	&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!--HTML é”®ç›˜æ ¼å¼ HTML &lt;kbd&gt; å…ƒç´ å®šä¹‰é”®ç›˜è¾“å…¥ï¼š--&gt;</span><br><span class="line">&lt;p&gt;To open a file, select:&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;&lt;kbd&gt;File | Open...&lt;&#x2F;kbd&gt;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;!--code--&gt;</span><br><span class="line">&lt;p&gt;Coding Example:&lt;&#x2F;p&gt;</span><br><span class="line">&lt;code&gt;</span><br><span class="line">&lt;pre&gt;</span><br><span class="line">var person &#x3D; &#123;</span><br><span class="line">    firstName:&quot;Bill&quot;,</span><br><span class="line">    lastName:&quot;Gates&quot;,</span><br><span class="line">    age:50,</span><br><span class="line">    eyeColor:&quot;blue&quot;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;pre&gt;</span><br><span class="line">&lt;&#x2F;code&gt;</span><br><span class="line">&lt;hr &#x2F;&gt;</span><br><span class="line">&lt;!--HTML &lt;var&gt; å…ƒç´ å®šä¹‰æ•°å­¦å˜é‡ï¼š--&gt;</span><br><span class="line">&lt;p&gt;Einstein wrote:&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;&lt;var&gt;E &#x3D; m c&lt;sup&gt;2&lt;&#x2F;sup&gt;&lt;&#x2F;var&gt;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&lt;!--æ ·å¼css--&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;</span><br><span class="line">h1 &#123;color: red&#125;</span><br><span class="line">p &#123;color: blue&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;header 1&lt;&#x2F;h1&gt;</span><br><span class="line">&lt;p&gt;A paragraph.&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&lt;!--æ²¡æœ‰ä¸‹æ»‘çº¿çš„é“¾æ¥--&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;gb2312&quot; &#x2F;&gt;</span><br><span class="line">&lt;meta http-equiv&#x3D;&quot;Content-Language&quot; content&#x3D;&quot;zh-cn&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;a href&#x3D;&quot;&#x2F;example&#x2F;html&#x2F;lastpage.html&quot; style&#x3D;&quot;text-decoration:none&quot;&gt;</span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªé“¾æ¥ï¼</span><br><span class="line">&lt;&#x2F;a&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&lt;!--å¤–éƒ¨æ ·å¼è¡¨--&gt;</span><br><span class="line">&lt;!--å½“æ ·å¼éœ€è¦è¢«åº”ç”¨åˆ°å¾ˆå¤šé¡µé¢çš„æ—¶å€™ï¼Œå¤–éƒ¨æ ·å¼è¡¨å°†æ˜¯ç†æƒ³çš„é€‰æ‹©ã€‚ä½¿ç”¨å¤–éƒ¨æ ·å¼è¡¨ï¼Œä½ å°±å¯ä»¥é€šè¿‡æ›´æ”¹ä¸€ä¸ªæ–‡ä»¶æ¥æ”¹å˜æ•´ä¸ªç«™ç‚¹çš„å¤–è§‚ã€‚--&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;link rel&#x3D;&quot;stylesheet&quot; type&#x3D;&quot;text&#x2F;css&quot; href&#x3D;&quot;&#x2F;html&#x2F;csstest1.css&quot; &gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;æˆ‘é€šè¿‡å¤–éƒ¨æ ·å¼è¡¨è¿›è¡Œæ ¼å¼åŒ–ã€‚&lt;&#x2F;h1&gt;</span><br><span class="line">&lt;p&gt;æˆ‘ä¹Ÿä¸€æ ·ï¼&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr &#x2F;&gt;</span><br><span class="line">&lt;!--å†…éƒ¨æ ·å¼è¡¨--&gt;</span><br><span class="line">&lt;!--å½“å•ä¸ªæ–‡ä»¶éœ€è¦ç‰¹åˆ«æ ·å¼æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨å†…éƒ¨æ ·å¼è¡¨ã€‚ä½ å¯ä»¥åœ¨ head éƒ¨åˆ†é€šè¿‡ &lt;style&gt; æ ‡ç­¾å®šä¹‰å†…éƒ¨æ ·å¼è¡¨ã€‚--&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">&lt;head&gt;</span><br><span class="line"></span><br><span class="line">&lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;</span><br><span class="line">body &#123;background-color: red&#125;</span><br><span class="line">p &#123;margin-left: 20px&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">--&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&lt;!--å†…è”æ ·å¼--&gt;</span><br><span class="line">&lt;!--å½“ç‰¹æ®Šçš„æ ·å¼éœ€è¦åº”ç”¨åˆ°ä¸ªåˆ«å…ƒç´ æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨å†…è”æ ·å¼ã€‚ ä½¿ç”¨å†…è”æ ·å¼çš„æ–¹æ³•æ˜¯åœ¨ç›¸å…³çš„æ ‡ç­¾ä¸­ä½¿ç”¨æ ·å¼å±æ€§ã€‚æ ·å¼å±æ€§å¯ä»¥åŒ…å«ä»»ä½• CSS å±æ€§ã€‚ä»¥ä¸‹å®ä¾‹æ˜¾ç¤ºå‡ºå¦‚ä½•æ”¹å˜æ®µè½çš„é¢œè‰²å’Œå·¦å¤–è¾¹è·ã€‚--&gt;	</span><br><span class="line">&lt;p style&#x3D;&quot;color: red; margin-left: 20px&quot;&gt;</span><br><span class="line">This is a paragraph</span><br><span class="line">&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!--HTML é“¾æ¥ - target å±æ€§--&gt;</span><br><span class="line">&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.w3school.com.cn&#x2F;&quot; target&#x3D;&quot;_blank&quot;&gt;Visit W3School!&lt;&#x2F;a&gt;</span><br><span class="line">&lt;p&gt;å¦‚æœæŠŠé“¾æ¥çš„ target å±æ€§è®¾ç½®ä¸º &quot;_blank&quot;ï¼Œè¯¥é“¾æ¥ä¼šåœ¨æ–°çª—å£ä¸­æ‰“å¼€ã€‚&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--é“¾æ¥åˆ°åŒä¸€é¡µé¢çš„æŸä¸€ä½ç½®--&gt;</span><br><span class="line">&lt;p&gt;&lt;a href&#x3D;&quot;#top&quot;&gt;åˆ°è¾¾é¡¶ç«¯&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;!--é‚®ä»¶é“¾æ¥--&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">è¿™æ˜¯é‚®ä»¶é“¾æ¥ï¼š</span><br><span class="line">&lt;a href&#x3D;&quot;mailto:someone@microsoft.com?subject&#x3D;Hello%20again&quot;&gt;å‘é€é‚®ä»¶&lt;&#x2F;a&gt;</span><br><span class="line">&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">&lt;b&gt;æ³¨æ„ï¼š&lt;&#x2F;b&gt;åº”è¯¥ä½¿ç”¨ %20 æ¥æ›¿æ¢å•è¯ä¹‹é—´çš„ç©ºæ ¼ï¼Œè¿™æ ·æµè§ˆå™¨å°±å¯ä»¥æ­£ç¡®åœ°æ˜¾ç¤ºæ–‡æœ¬äº†ã€‚</span><br><span class="line">&lt;&#x2F;p&gt;</span><br><span class="line">&lt;hr&gt;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»™serviceæ·»åŠ ssh port</title>
    <url>/2019-06-12-service-add-ssh-port.html</url>
    <content><![CDATA[<p>ç»™serviceæ·»åŠ ssh port</p>
<a id="more"></a>

<h5><span id="1è¿œç¨‹ç™»å½•æœåŠ¡å™¨å">1.è¿œç¨‹ç™»å½•æœåŠ¡å™¨å</span></h5><p>è¾“å…¥æŒ‡ä»¤:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;ssh&#x2F;sshd_config</span><br></pre></td></tr></table></figure>
<p>åœ¨æœ«å°¾æ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Port 22</span><br></pre></td></tr></table></figure>
<p>é‡å¯ssh</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">service ssh restart</span><br></pre></td></tr></table></figure>
<h5><span id="2vimæœªå®‰è£…">2.vimæœªå®‰è£…</span></h5><p>å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt install vim</span><br></pre></td></tr></table></figure>
<h5><span id="3è‹¥å†æ¬¡ç™»å½•æ—¶å‡ºç°warning-remote-host-identification-has-changed">3.è‹¥å†æ¬¡ç™»å½•æ—¶å‡ºç°WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!</span></h5><p>è§£å†³è§<a href="https://zuahua.github.io/2018/12/08/ss-issue1/" target="_blank" rel="noopener external nofollow noreferrer">è¿™ç¯‡æ–‡ç« </a></p>
]]></content>
      <tags>
        <tag>ss</tag>
      </tags>
  </entry>
  <entry>
    <title>ruby on Railså»ºç«™æ€è·¯</title>
    <url>/2018-12-07-ruby-on-rails-jian-zhan-si-lu.html</url>
    <content><![CDATA[<p>å»ºç½‘ç«™éœ€è¦æˆ‘ä¼šruby,ruby on rails,nodejs,gitï¼Œgemâ€¦â€¦.</p>
<p>ç„¶è€Œæˆ‘åªä¼šâ€œæ•™ç¨‹â€</p>
<p>å¾ˆèœå¾ˆä½›</p>
<p>æ‰€ä»¥ç†ç†æ€è·¯</p>
<p>äº†è§£ä¸€ä¸‹æˆ‘ä¸äº†è§£çš„ä¸œè¥¿</p>
<a id="more"></a>

<h4><span id="1nodejsæ˜¯jsçš„æœåŠ¡å™¨è¿è¡Œç¯å¢ƒ">1.nodejsæ˜¯jsçš„æœåŠ¡å™¨è¿è¡Œç¯å¢ƒ</span></h4><h4><span id="2rbenv-æ˜¯rubyçš„ç‰ˆæœ¬ç®¡ç†å™¨">2.rbenv æ˜¯rubyçš„ç‰ˆæœ¬ç®¡ç†å™¨</span></h4><h4><span id="3gemå’Œbundle">3.Gemå’Œbundle</span></h4><p>gemä¸bundleræ˜¯å…³äºä¸€ä¸ªrubyé¡¹ç›®çš„è½¯ä»¶åŒ…ä¾èµ–çš„, å®ƒä»¬æ˜¯ä»¥ä¸€ä¸ªrubyé¡¹ç›®ä¸ºä¸­å¿ƒçš„</p>
<p>é¡¹ç›®çš„æ ¹ç›®å½•ä¼šæœ‰ä¸€ä¸ªGemfile, é‡Œé¢å®šä¹‰äº†è¯¥é¡¹ç›®çš„è½¯ä»¶åŒ…ä¾èµ–çš„ç›¸å…³äº‹é¡¹. å‘ç°å®ƒé»˜è®¤æ˜¯ä»rubygems.orgè¿™ä¸ªç½‘ç«™è·å–å†…å®¹çš„. æˆ‘æƒ³æŠŠæºæ¢æˆtaobao.org. å¯ä»¥ä¿®æ”¹Gemfileæ–‡ä»¶. æŠŠsourceé‚£ä¸€è¡Œæ”¹æˆ: source â€˜<a href="http://ruby.taobao.org/&#39;" target="_blank" rel="noopener external nofollow noreferrer">http://ruby.taobao.org/&#39;</a></p>
<p> bundleæ˜¯ç”¨æ¥ç®¡ç†ç»´æŠ¤é¡¹ç›®çš„è½¯ä»¶åŒ…çš„;</p>
<p> gemåˆ™æ˜¯ç”¨æ¥ç®¡ç†å…·ä½“çš„æ¯ä¸€ä¸ªè½¯ä»¶åŒ…çš„. </p>
<h6><span id="bundleré…ç½®æ–‡ä»¶">bundleré…ç½®æ–‡ä»¶</span></h6><p>é¡¹ç›®ç‰¹å®šé…ç½®æ–‡ä»¶, æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„.bundle/configæ–‡ä»¶ä¸­.</p>
<p>å…¨å±€çš„é…ç½®æ–‡ä»¶, æ”¾åœ¨ ~/.bundle/configæ–‡ä»¶ä¸­.</p>
<p>æˆ‘å‚è€ƒäº†è¿™å„¿<a href="https://blog.csdn.net/zdq0394123/article/details/8075493" target="_blank" rel="noopener external nofollow noreferrer">ä»–ä¹Ÿä¸çŸ¥é“å‚è€ƒçš„è°</a></p>
<h4><span id="4-nginxå’Œpassanger">4. Nginxå’ŒPassanger</span></h4><h5><span id="41-nginxè¿™ä¸ªè½¯ä»¶ç”¨æ¥å¤„ç†httpè¯·æ±‚">4.1 Nginxè¿™ä¸ªè½¯ä»¶ç”¨æ¥å¤„ç†HTTPè¯·æ±‚</span></h5><h5><span id="42-nginxæ¥æ”¶åˆ°è¯·æ±‚è½¬æ‰‹ç»™phusion-passengerç”¨äºéƒ¨ç½²">4.2 Nginxæ¥æ”¶åˆ°è¯·æ±‚è½¬æ‰‹ç»™Phusion Passengerï¼Œç”¨äºéƒ¨ç½²</span></h5><h5><span id="43-passengeræ˜¯nginxé›†æˆçš„è½¯ä»¶">4.3 Passengeræ˜¯Nginxé›†æˆçš„è½¯ä»¶</span></h5><h5><span id="44-ä¿®æ”¹é…ç½®æ–‡ä»¶å‘Šè¯‰nginxä½¿ç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬çš„ruby">4.4 ä¿®æ”¹é…ç½®æ–‡ä»¶å‘Šè¯‰Nginxä½¿ç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬çš„ruby</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo vim &#x2F;etc&#x2F;nginx&#x2F;conf.d&#x2F;mod-http-passenger.conf</span><br></pre></td></tr></table></figure>
<p>æ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">passenger_ruby &#x2F;home&#x2F;my&#x2F;.rbenv&#x2F;shims&#x2F;ruby;</span><br></pre></td></tr></table></figure>
<p>æ³¨é‡Šæ‰è¿™è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">### passenger_ruby &#x2F;usr&#x2F;bin&#x2F;passenger_free_ruby; ###</span><br></pre></td></tr></table></figure>
<h4><span id="5capistranoæ˜¯ä¸€ä¸ªç”¨rubyå†™çš„å¯ä»¥è‡ªåŠ¨å¸ƒç½²çš„è½¯ä»¶">5.Capistranoæ˜¯ä¸€ä¸ªç”¨Rubyå†™çš„å¯ä»¥è‡ªåŠ¨å¸ƒç½²çš„è½¯ä»¶</span></h4><p><a href="https://capistranorb.com/" target="_blank" rel="noopener external nofollow noreferrer">Capistrano</a></p>
<h4><span id="6capistranoè‡ªåŠ¨éƒ¨ç½²">6.Capistranoè‡ªåŠ¨éƒ¨ç½²</span></h4><h5><span id="61æ–°å»ºrailsé¡¹ç›®">6.1æ–°å»ºrailsé¡¹ç›®</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rails new project-ruby -d mysql</span><br></pre></td></tr></table></figure>
<h5><span id="62å°†é¡¹ç›®åŠ å…¥ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ">6.2å°†é¡¹ç›®åŠ å…¥ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ</span></h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd project-ruby</span><br><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">git status</span><br><span class="line">git commit -m &quot;First Commit&quot;</span><br></pre></td></tr></table></figure>
<hr>
<h5><span id="å‡ºç°é—®é¢˜">==å‡ºç°é—®é¢˜==</span></h5><p>*** è¯·å‘Šè¯‰æˆ‘ä½ æ˜¯è°ã€‚</p>
<p>è¿è¡Œ</p>
<p>  git config â€“global user.email â€œ<a href="mailto:you@example.com" rel="external nofollow noreferrer">you@example.com</a>â€œ<br>  git config â€“global user.name â€œYour Nameâ€</p>
<p>æ¥è®¾ç½®æ‚¨è´¦å·çš„ç¼ºçœèº«ä»½æ ‡è¯†ã€‚<br>å¦‚æœä»…åœ¨æœ¬ä»“åº“è®¾ç½®èº«ä»½æ ‡è¯†ï¼Œåˆ™çœç•¥ â€“global å‚æ•°ã€‚</p>
<p>==è§£å†³ï¼š==</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git config --global user.email &quot;you@example.com&quot;</span><br></pre></td></tr></table></figure>
<p>==ç„¶åå†==</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git commit -m &quot;First Commit&quot;</span><br></pre></td></tr></table></figure>
<hr>
<p>ä½¿ç”¨githubå­˜æ”¾ä»£ç ï¼Œæ–°å»ºgithubä»“åº“</p>
<p>æ–°å»ºä»“åº“åï¼šmyWebSight</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git remote add origin git@github.com:zuahua&#x2F;myWebSite.git</span><br></pre></td></tr></table></figure>
<p>push ä¸Šå»</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>
<hr>
<p>==å‡ºç°é—®é¢˜==<br>Warning: Permanently added â€˜github.com,â€”â€˜ (RSA) to the list of known hosts.<br><a href="mailto:git@github.com" rel="external nofollow noreferrer">git@github.com</a>: Permission denied (publickey).<br>fatal: æ— æ³•è¯»å–è¿œç¨‹ä»“åº“ã€‚</p>
<p>è¯·ç¡®è®¤æ‚¨æœ‰æ­£ç¡®çš„è®¿é—®æƒé™å¹¶ä¸”ä»“åº“å­˜åœ¨ã€‚</p>
<p>==åŸå› :æœ¬åœ°æœºæœªä¸githubå»ºç«‹ssh key==</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;youremail@example.com&quot;</span><br></pre></td></tr></table></figure>
<p>å°†ç”Ÿæˆçš„id_rsa.pubä¸­çš„å†…å®¹å¤åˆ¶åˆ°githubçš„sshä¸­</p>
<p>è¿™æ ·githubæ‰èƒ½è¯†åˆ«å‡ºä½ </p>
<hr>
<p>==å†==<br>push ä¸Šå»</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>
<hr>
<p>æ²¡å‡ å¤©åˆé‡pushæ—¶</p>
<p>error: æ— æ³•æ¨é€ä¸€äº›å¼•ç”¨åˆ° â€˜git@github.com:zuahua/myWebSite.gitâ€™<br>æç¤ºï¼šæ›´æ–°è¢«æ‹’ç»ï¼Œå› ä¸ºè¿œç¨‹ä»“åº“åŒ…å«æ‚¨æœ¬åœ°å°šä¸å­˜åœ¨çš„æäº¤ã€‚è¿™é€šå¸¸æ˜¯å› ä¸ºå¦å¤–<br>æç¤ºï¼šä¸€ä¸ªä»“åº“å·²å‘è¯¥å¼•ç”¨è¿›è¡Œäº†æ¨é€ã€‚å†æ¬¡æ¨é€å‰ï¼Œæ‚¨å¯èƒ½éœ€è¦å…ˆæ•´åˆè¿œç¨‹å˜æ›´</p>
<p>==å¼ºè¡Œpush==</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git push -u origin +master</span><br></pre></td></tr></table></figure>

<hr>
<h4><span id="7é…ç½®gemfile">7.é…ç½®Gemfile</span></h4><p>åœ¨railsé¡¹ç›®æ–‡ä»¶å¤¹å†…</p>
<p>æ‰“å¼€Gemfileæ–‡ä»¶é…ç½®</p>
<p>åœ¨æœ«å°¾åŠ å…¥</p>
<p>ä¸»è¦ç›®çš„æ˜¯å®‰è£…è¿™äº›Gem</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim Gemfile</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">  # Windows does not include zoneinfo files, so bundle the tzinfo-data gem</span><br><span class="line">  </span><br><span class="line">gem &#39;tzinfo&#39;,platforms: [:mingw, :mswin, :x64_mingw, :jruby]</span><br><span class="line">group :development do</span><br><span class="line">  gem &#39;capistrano&#39;, &#39;~&gt; 3.11&#39;</span><br><span class="line">  gem &#39;capistrano-rails&#39;, &#39;~&gt; 1.4&#39;</span><br><span class="line">  gem &#39;capistrano-passenger&#39;, &#39;~&gt; 0.2.0&#39;</span><br><span class="line">  gem &#39;capistrano-rbenv&#39;, &#39;~&gt; 2.1&#39;, &#39;&gt;&#x3D; 2.1.3&#39;</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p>ä¿å­˜ï¼Œé€€å‡ºå</p>
<p>bundleå‘½ä»¤å®‰è£…ä¸Šé¢çš„gem</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">bundle</span><br><span class="line">bundle --binstubs</span><br></pre></td></tr></table></figure>
<p>ç„¶åå†ç”Ÿæˆcapistranoçš„é…ç½®æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cap install STAGES&#x3D;production</span><br></pre></td></tr></table></figure>
<p>ç»“æœä¸ç”Ÿæˆçš„æ–‡ä»¶å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mkdir -p config&#x2F;deploy</span><br><span class="line">create config&#x2F;deploy.rb</span><br><span class="line">create config&#x2F;deploy&#x2F;production.rb</span><br><span class="line">mkdir -p lib&#x2F;capistrano&#x2F;tasks</span><br><span class="line">create Capfile</span><br><span class="line">Capified</span><br></pre></td></tr></table></figure>
<h5><span id="71ç”Ÿæˆäº†capistranoè¿™äº›é…ç½®æ–‡ä»¶ä»¥åå†å¯¹è¿™äº›é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®">7.1ç”Ÿæˆäº†Capistranoè¿™äº›é…ç½®æ–‡ä»¶ä»¥åï¼Œå†å¯¹è¿™äº›é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®</span></h5><h6><span id="711-deployrb">7.1.1 deploy.rb</span></h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim config&#x2F;deploy.rb</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">######################################################è¿™å„¿</span><br><span class="line">set :application, &quot;myWebSite&quot;</span><br><span class="line"></span><br><span class="line">set :repo_url, &quot;git@github.com:zuahua&#x2F;myWebSite.git&quot;</span><br><span class="line">########################################################</span><br><span class="line"></span><br><span class="line"># Default branch is :master</span><br><span class="line"># ask :branch, &#96;git rev-parse --abbrev-ref HEAD&#96;.chomp</span><br><span class="line">######################################################è¿™å„¿</span><br><span class="line"># Default deploy_to directory is &#x2F;var&#x2F;www&#x2F;my_app_name</span><br><span class="line"># set :deploy_to, &quot;&#x2F;var&#x2F;www&#x2F;my_app_name&quot;</span><br><span class="line">set :deploy_to, &quot;&#x2F;home&#x2F;my&#x2F;myWebSite&quot;</span><br><span class="line">######################################################</span><br><span class="line"># Default value for :format is :airbrussh.</span><br><span class="line"># set :format, :airbrussh</span><br><span class="line"></span><br><span class="line"># You can configure the Airbrussh format using :format_options.</span><br><span class="line"># These are the defaults.</span><br><span class="line"># set :format_options, command_output: true, log_file: &quot;log&#x2F;capistrano.log&quot;, color: :auto, truncate: :auto</span><br><span class="line"></span><br><span class="line"># Default value for :pty is false</span><br><span class="line"># set :pty, true</span><br><span class="line">######################################################è¿™å„¿</span><br><span class="line"># Default value for :linked_files is []</span><br><span class="line"># append :linked_files, &quot;config&#x2F;database.yml&quot;</span><br><span class="line">append :linked_files, &quot;config&#x2F;database.yml&quot;, &quot;config&#x2F;master.key&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Default value for linked_dirs is []</span><br><span class="line"># append :linked_dirs, &quot;log&quot;, &quot;tmp&#x2F;pids&quot;, &quot;tmp&#x2F;cache&quot;, &quot;tmp&#x2F;sockets&quot;, &quot;public&#x2F;system&quot;</span><br><span class="line">append :linked_dirs, &quot;log&quot;, &quot;tmp&#x2F;pids&quot;, &quot;tmp&#x2F;cache&quot;, &quot;tmp&#x2F;sockets&quot;, &quot;vendor&#x2F;bundle&quot;, &quot;public&#x2F;system&quot;, &quot;public&#x2F;uploads&quot;</span><br><span class="line">######################################################</span><br></pre></td></tr></table></figure>
<h6><span id="712-productionrb">7.1.2 production.rb</span></h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim config&#x2F;deploy&#x2F;production.rb</span><br></pre></td></tr></table></figure>

<p>ç¡®å®šéƒ¨ç½²åœ¨å“ªå„¿</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">################################## è¿™å„¿</span><br><span class="line">server &#39;104.225.237.232&#39;, user: &#39;my&#39;, roles: %w&#123;app db web&#125;</span><br><span class="line">#################################</span><br><span class="line"># server-based syntax</span><br><span class="line"># &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line"># Defines a single server with a list of roles and multiple properties.</span><br><span class="line"># You can define all roles on a single server, or split them:</span><br><span class="line"></span><br><span class="line"># server &quot;example.com&quot;, user: &quot;deploy&quot;, roles: %w&#123;app db web&#125;, my_property: :my_value</span><br><span class="line"># server &quot;example.com&quot;, user: &quot;deploy&quot;, roles: %w&#123;app web&#125;, other_property: :other_value</span><br><span class="line"># server &quot;db.example.com&quot;, user: &quot;deploy&quot;, roles: %w&#123;db&#125;</span><br></pre></td></tr></table></figure>
<h6><span id="723-capfile">7.2.3 Capfile</span></h6><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim Capfile</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># require &quot;capistrano&#x2F;rvm&quot;</span><br><span class="line"># require &quot;capistrano&#x2F;rbenv&quot;</span><br><span class="line"># require &quot;capistrano&#x2F;chruby&quot;</span><br><span class="line"># require &quot;capistrano&#x2F;bundler&quot;</span><br><span class="line"># require &quot;capistrano&#x2F;rails&#x2F;assets&quot;</span><br><span class="line"># require &quot;capistrano&#x2F;rails&#x2F;migrations&quot;</span><br><span class="line"># require &quot;capistrano&#x2F;passenger&quot;</span><br><span class="line">#########################################  è¿™å„¿</span><br><span class="line">require &#39;capistrano&#x2F;rails&#39;</span><br><span class="line">require &#39;capistrano&#x2F;passenger&#39;</span><br><span class="line">require &#39;capistrano&#x2F;rbenv&#39;</span><br><span class="line">set :rbenv_type, :user</span><br><span class="line">set :rbenv_ruby, &#39;2.5.1&#39;</span><br><span class="line">#######################################</span><br><span class="line"># Load custom tasks from &#96;lib&#x2F;capistrano&#x2F;tasks&#96; if you have any defined</span><br><span class="line">Dir.glob(&quot;lib&#x2F;capistrano&#x2F;tasks&#x2F;*.rake&quot;).each &#123; |r| import r &#125;</span><br></pre></td></tr></table></figure>
<h4><span id="8åœ¨æœ¬åœ°å¼€å‘æœºä¸Šéšè—ä¸€äº›æ•æ„Ÿä¿¡æ¯">8.åœ¨æœ¬åœ°å¼€å‘æœºä¸Šéšè—ä¸€äº›æ•æ„Ÿä¿¡æ¯</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">echo &quot;config&#x2F;database.yml&quot; &gt;&gt; .gitignore</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim .gitignore</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Ignore bundler config.</span><br><span class="line">&#x2F;.bundle</span><br><span class="line">#####################################è¿™å„¿</span><br><span class="line"># Ignore all logfiles and tempfiles.</span><br><span class="line">&#x2F;log&#x2F;*</span><br><span class="line">!&#x2F;log&#x2F;.keep</span><br><span class="line">&#x2F;tmp&#x2F;.keep</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Ignore uploaded files in development.</span><br><span class="line">&#x2F;storage&#x2F;*</span><br><span class="line">!&#x2F;storage&#x2F;.keep</span><br><span class="line"></span><br><span class="line">&#x2F;node_modeles</span><br><span class="line">&#x2F;yarn-error.log</span><br><span class="line"></span><br><span class="line">&#x2F;public&#x2F;assets</span><br><span class="line">.byebug_history</span><br><span class="line"></span><br><span class="line"># Igore master key for decrypting credentials and more.</span><br><span class="line">config&#x2F;master.key</span><br><span class="line">config&#x2F;database.yml</span><br><span class="line">################################</span><br></pre></td></tr></table></figure>
<p>æ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git add .gitignore</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git mv config&#x2F;database.yml config&#x2F;database.yml.sample</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git commit -m &quot;Only store sample database config&quot;</span><br><span class="line">cp config&#x2F;database.yml.sample config&#x2F;database.yml</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;configure Capistrano&quot;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<p>push ä¸Šå»</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git push</span><br></pre></td></tr></table></figure>
<h4><span id="9åœ¨æœ¬åœ°æœºå™¨ä¸Šæ‰§è¡Œå‘½ä»¤å¸ƒç½²">9.åœ¨æœ¬åœ°æœºå™¨ä¸Šæ‰§è¡Œå‘½ä»¤å¸ƒç½²</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cap production deploy</span><br></pre></td></tr></table></figure>

<h5><span id="91é—®é¢˜">9.1==é—®é¢˜==</span></h5><p>æœåŠ¡å™¨ä¸Šæ‰¾ä¸åˆ°database.yml</p>
<p>/home/â€¦/shared/configè¿™ä¸ªç›®å½•ä¸‹ï¼Œåœ¨å»ºç«‹çš„database.ymlä¸­è¾“å…¥å¦‚ä¸‹å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">production:</span><br><span class="line">  adapter: mysql2</span><br><span class="line">  database: myWebSite</span><br><span class="line">  username: root</span><br><span class="line">  password: .......</span><br></pre></td></tr></table></figure>
<h6><span id="92æœåŠ¡å™¨ä¸Šæ‰¾ä¸åˆ°masterkeyæ–‡ä»¶">9.2==æœåŠ¡å™¨ä¸Šæ‰¾ä¸åˆ°master.keyæ–‡ä»¶==</span></h6> <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scp config&#x2F;master.key my@104.225.237.232:&#x2F;home&#x2F;my&#x2F;myWebSite&#x2F;shared&#x2F;config</span><br></pre></td></tr></table></figure>
<hr>
<p>==ç”±äºæœªçŸ¥åŸå› ï¼Œæœ¬åœ°configç›®å½•ä¸‹ä¹Ÿæœªè‡ªåŠ¨ç”Ÿæˆmaster.keyï¼Œå› æ­¤å‡ºç°é—®é¢˜==</p>
<p>ä¹‹åå°†secrets.ymlä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œä¿®æ”¹deploy.rbé…ç½®æ–‡ä»¶ä¸­çš„Link:mater.keyä¹Ÿæ›¿æ¢æˆsecrets.yml</p>
<p>å¹¶åœ¨.gitignoreä¸­æ·»åŠ äº†secrets.yml</p>
<hr>
<h5><span id="93æ‰¾ä¸åˆ°javascriptåº“">9.3æ‰¾ä¸åˆ°JavaScriptåº“</span></h5><p>æœåŠ¡å™¨ä¸Šå®‰è£…</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt install nodejs</span><br></pre></td></tr></table></figure>
<h4><span id="10é…ç½®nginx">10é…ç½®Nginx</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo vim &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;default ~&#x2F;default20181215</span><br><span class="line"># ~&#x2F;default20181215å¤‡ä»½</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen 80 default_server;</span><br><span class="line">        listen [::]:80 default_server;</span><br><span class="line"></span><br><span class="line">        server_name innohua.com;</span><br><span class="line">        passenger_enabled on;</span><br><span class="line">        rails_env    production;</span><br><span class="line">        root         &#x2F;home&#x2F;my&#x2F;myWebSite&#x2F;current&#x2F;public;</span><br><span class="line"></span><br><span class="line">        # redirect server error pages to the static page &#x2F;50x.html</span><br><span class="line">        error_page   500 502 503 504  &#x2F;50x.html;</span><br><span class="line">        location &#x3D; &#x2F;50x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é‡å¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo service nginx restart</span><br></pre></td></tr></table></figure>
<h4><span id="11éƒ¨ç½²æµ‹è¯•">11.éƒ¨ç½²æµ‹è¯•</span></h4><p>æœ¬åœ°æœº</p>
<p>å»ºç«‹æ•°æ®åº“</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo mysql -u root -p</span><br><span class="line">create database myWebSite_development;</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>
<hr>
<p>ä¹‹åå‡ºç°æœ¬åœ°æ— æ³•éƒ¨ç½²çš„æƒ…å†µ<br>å¹¶ä¸”root@localhostè¢«æ‹’</p>
<p>å¯èƒ½æ˜¯mysqlæœªä½¿ç”¨æŸä¸ªdatabaseå’Œdatabase.ymlæ²¡é…ç½®å¥½</p>
<p>ä¹‹ååœ¨mysqlæ–°å»ºäº†ä¸€ä¸ªç”¨æˆ·ï¼Œå¹¶åˆ›å»ºä½¿ç”¨æŸä¸ªdatabase,ä¿®æ”¹äº†database.ymlé…ç½®æ–‡ä»¶ï¼ŒæˆåŠŸ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE USER &#39;inno&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;</span><br><span class="line"># æ‰€æœ‰æƒé™éƒ½ç»™inno</span><br><span class="line">GRANT ALL PRIVILEGES ON * . * TO &#39;inno&#39;@&#39;localhost&#39;;</span><br><span class="line">exit;</span><br><span class="line"></span><br><span class="line">mysql -u inno -p</span><br><span class="line">create database myWebSite_development4;</span><br><span class="line">use myWebSite_development4;</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>

<hr>
<p>æŸ¥çœ‹å¹¶ä¿®æ”¹database.yml</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim config&#x2F;database.yml</span><br></pre></td></tr></table></figure>
<hr>
<p>ä¿®æ”¹:ä¸»è¦ä¿®æ”¹äº†ç”¨æˆ·ã€å¯†ç ã€æ•°æ®åº“å</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">default: &amp;default</span><br><span class="line">  adapter: mysql2</span><br><span class="line">  encoding: utf8</span><br><span class="line">  pool: 5</span><br><span class="line">  username: inno</span><br><span class="line">  password: mypassword</span><br><span class="line">  socket: &#x2F;var&#x2F;run&#x2F;mysqld&#x2F;mysqld.sock</span><br><span class="line"></span><br><span class="line">development:</span><br><span class="line">  &lt;&lt;: *default</span><br><span class="line">  # database: projectruby4_development</span><br><span class="line">  database: myWebSite_development4</span><br></pre></td></tr></table></figure>
<hr>
<p>å»ºç«‹å°æµ‹è¯•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rails g scaffold phone name</span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹è·¯ç”±</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim config&#x2F;routes.rb</span><br></pre></td></tr></table></figure>
<hr>
<p>==é—®é¢˜==<br>å¦‚æœæ²¡æœ‰æŒ‡å‘è·¯ç”±ï¼Œæ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root to:&quot;phones#index&quot;</span><br></pre></td></tr></table></figure>
<hr>
<p>æ“ä½œæ•°æ®åº“</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># rails db:migrateæ˜¯ruby5.0ç‰ˆæœ¬ä¹‹åçš„</span><br><span class="line">rails db:migrate</span><br><span class="line"># ä½ç‰ˆæœ¬ rake db:migrate</span><br></pre></td></tr></table></figure>



<p>æŸ¥çœ‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rails s</span><br></pre></td></tr></table></figure>
<p>å¯æœ¬åœ°æŸ¥çœ‹äº†</p>
<p>éƒ¨ç½²åˆ°ç½‘é¡µ</p>
<p>å…ˆæ¨é€åˆ°github</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git status</span><br><span class="line">git commit -m &quot;text deploy&quot;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<p>éƒ¨ç½²</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cap production deploy</span><br></pre></td></tr></table></figure>
<hr>
<p>==é”™è¯¯==</p>
<p>å‡ºç°phonesè¡¨å·²å­˜åœ¨</p>
<p>æœåŠ¡å™¨ç«¯ç™»å½•mysql;åˆ æ‰è‡ªå·±åˆ›å»ºçš„æ•°æ®åº“ä¸­çš„phonesè¡¨</p>
<p>å†æœ¬åœ°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cap production deploy</span><br></pre></td></tr></table></figure>

<hr>
<hr>
<p>==é—®é¢˜==</p>
<p>éƒ¨ç½²åç½‘é¡µå‡ºç°</p>
<p>==Incomplete response received from application==</p>
<p>è¿è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rake secret</span><br></pre></td></tr></table></figure>
<p>å¤åˆ¶ç»“æœåˆ°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim config&#x2F;secrets.yml</span><br></pre></td></tr></table></figure>
<p>productionåçš„ç¯å¢ƒå˜é‡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">secret_key_base: &lt;%&#x3D; ENV[&quot;SECRET_KEY_BASE&quot;] %&gt;</span><br></pre></td></tr></table></figure>
<p>æ›¿æ¢å†’å·åçš„</p>
<p>å°†è¿™ä¸ªæ–‡ä»¶copyåˆ°æœåŠ¡å™¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">scp config&#x2F;secrets.yml my@104.225.237.232:&#x2F;home&#x2F;my&#x2F;myWebSite&#x2F;shared&#x2F;config</span><br></pre></td></tr></table></figure>
<p>æœåŠ¡å™¨ç«¯é‡å¯app</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">passenger-config restart-app</span><br></pre></td></tr></table></figure>

<hr>
<p>ç»§ç»­æµ‹è¯•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim app&#x2F;views&#x2F;phones&#x2F;index.html.erb</span><br></pre></td></tr></table></figure>
<p>æ›´æ”¹æ ‡é¢˜ä¸ºâ€¦å</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git status</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;change of index.html.erb&quot;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cap production deploy</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>RubyWebå»ºç«™</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‚ä¸‰è§’å½¢å¤–æ¥åœ†çš„åœ†å¿ƒ</title>
    <url>/2019-06-12-qiu-san-jiao-xing-wai-jie-yuan-de-yuan-xin.html</url>
    <content><![CDATA[<p>å·²çŸ¥ä¸‰ç‚¹åæ ‡<br>æ±‚ä¸‰è§’å½¢å¤–æ¥åœ†çš„åœ†å¿ƒ</p>
<a id="more"></a>

<hr>
<h4><span id="æ±‚ä¸‰è§’å½¢å¤–æ¥åœ†çš„åœ†å¿ƒ">æ±‚ä¸‰è§’å½¢å¤–æ¥åœ†çš„åœ†å¿ƒ</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; å¤–æ¥åœ†åœ†å¿ƒã€åŠå¾„</span><br><span class="line">double x,y,r;</span><br><span class="line">double A1,B1,C1,A2,B2,C2;</span><br><span class="line">&#x2F;&#x2F; ä¸‰ç‚¹</span><br><span class="line">double x1,x2,x3,y1,y2,y3;</span><br><span class="line">&#x2F;&#x2F; ç»™ç‚¹èµ‹å€¼</span><br><span class="line">x1 &#x3D; p[0].x;</span><br><span class="line">x2 &#x3D; p[1].x;</span><br><span class="line">x3 &#x3D; p[2].x;</span><br><span class="line">y1 &#x3D; p[0].y;</span><br><span class="line">y2 &#x3D; p[1].y;</span><br><span class="line">y3 &#x3D; p[2].y;</span><br><span class="line">A1 &#x3D; 2*(x2-x1);</span><br><span class="line">B1 &#x3D; 2*(y2-y1);</span><br><span class="line">C1 &#x3D; x2*x2+y2*y2-x1*x1-y1*y1;</span><br><span class="line">A2 &#x3D; 2*(x3-x2);</span><br><span class="line">B2 &#x3D; 2*(y3-y2);</span><br><span class="line">C2 &#x3D; x3*x3+y3*y3-x2*x2-y2*y2;</span><br><span class="line">	</span><br><span class="line">x &#x3D; ((C1*B2)-(C2*B1))&#x2F;((A1*B2)-(A2*B1));</span><br><span class="line">y &#x3D; ((A1*C2)-(A2*C1))&#x2F;((A1*B2)-(A2*B1));</span><br><span class="line">r &#x3D; sqrt((x-p[0].x)*(x-p[0].x)+(y-p[0].y)*(y-p[0].y));</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>ç®—æ³•ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>bwgæ­å»ºssæ•™ç¨‹</title>
    <url>/2018-11-22-bwg-ss.html</url>
    <content><![CDATA[<p>bwgæ­å»ºssæ•™ç¨‹</p>
<p>æœ¬æ–‡æ¥è‡ªï¼š<a href="https://www.vpnask.com/fanqiang/bandwagonhost-install-shadowsocks/" target="_blank" rel="noopener external nofollow noreferrer">æ¬ç“¦å·¥(BandwagonHost)å–æ¶ˆäº†ä¸€é”®å®‰è£…SSåï¼Œæœ€æ–°æ¬ç“¦å·¥æ‰‹åŠ¨å®‰è£…SSæ•™ç¨‹ï¼</a></p>
<a id="more"></a>

<hr>
<h4><span id="å®‰è£…ssrè„šæœ¬">å®‰è£…SSRè„šæœ¬</span></h4><p><strong>ç¬¬ä¸€æ­¥</strong>ï¼šï¼ˆç™»å½•æœåŠ¡å™¨åï¼‰ç­‰åˆ°å‡ºç°root@host~å­—æ ·ï¼Œå¤åˆ¶ä¸‹é¢è„šæœ¬ç¬¬1æ¡å‘½ä»¤ï¼Œå›è½¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget --no-check-certificate -O shadowsocks-all.sh https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;teddysun&#x2F;shadowsocks_install&#x2F;master&#x2F;shadowsocks-all.sh</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„âš ï¸ï¼šå›½å¤–æœåŠ¡å™¨è¿è¡Œè„šæœ¬æ—¶å®¹æ˜“å‡ºé”™ï¼Œå¦‚å‡ºç°é”™è¯¯æç¤º bash: wget: command not foundï¼Œå¯ä»¥è¯·åœ¨å…ˆæ‰§è¡Œ yum -y install wget å‘½ä»¤ã€‚æˆåŠŸåï¼Œå†æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ã€‚å¦‚æœæ²¡æœ‰å‡ºç°æç¤ºé”™è¯¯ï¼Œè¯·ç•¥è¿‡ã€‚</p>
<p><strong>ç¬¬äºŒæ­¥</strong>ï¼šç­‰å¾…å¦‚ä¸Šå›¾æ‰€ç¤ºä¹‹åï¼Œæˆ‘ä»¬è¾“å…¥ç¬¬2æ¡è„šæœ¬å‘½ä»¤ï¼Œå›è½¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">chmod +x shadowsocks-all.sh</span><br></pre></td></tr></table></figure>
<p><strong>ç¬¬ä¸‰æ­¥</strong>ï¼šç­‰å¾…å¦‚ä¸Šå›¾æ‰€ç¤ºä¹‹åï¼Œè¾“å…¥ç¬¬3æ¡è„šæœ¬å‘½ä»¤ï¼Œå›è½¦ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;shadowsocks-all.sh 2&gt;&amp;1 | tee shadowsocks-all.log</span><br></pre></td></tr></table></figure>
<p><strong>ç¬¬å››æ­¥</strong>ï¼šå‡ºç°ä»¥ä¸Šç”»é¢ï¼Œæ ¹æ®éœ€è¦é€‰æ‹©ï¼Œä¸æ‡‚çš„è¯ç›´æ¥é€‰1ï¼Œæˆ–è€…é»˜è®¤å›è½¦ã€‚ä¸‹é¢ä¼šæç¤ºä½ è¾“å…¥ä½ çš„SS SERVERçš„å¯†ç ï¼Œå’Œç«¯å£ã€‚ä¸è¾“å…¥å°±æ˜¯é»˜è®¤ã€‚è·‘å®Œå‘½ä»¤åä¼šå‡ºæ¥ä½ çš„SSå®¢æˆ·ç«¯çš„ä¿¡æ¯ã€‚</p>
<p><strong>ç¬¬äº”æ­¥</strong>ï¼šæˆ‘ä»¬è¾“å…¥å®Œæˆssçš„å¯†ç å’Œç«¯å£å·ä¹‹åï¼Œè¿›è¡Œå›è½¦ï¼š</p>
<p><strong>ç¬¬å…­æ­¥</strong>ï¼šç‰¹åˆ«æ³¨æ„ï¼Œç”±äºiPhoneç«¯çš„çš„wingyç›®å‰åªæ”¯æŒåˆ°cfbï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©aes-256-cfbï¼Œå³7 ï¼Œå›è½¦ï¼š</p>
<p> <strong>ç¬¬ä¸ƒæ­¥</strong>ï¼šè¿™ä¸€æ­¥æŒ‰å›è½¦ç»§ç»­ï¼Œç„¶åéœ€è¦å‡ åˆ†é’Ÿçš„å®‰è£…è¿‡ç¨‹ï¼Œè¯·è€å¿ƒç­‰å¾…å‡ºç°ä¸‹é¢çš„ç”»é¢ï¼š</p>
<p><strong>ç¬¬å…«æ­¥</strong>ï¼šå½“æˆ‘ä»¬çœ‹åˆ°Congratulations, Shadowsocks-Python server install completed!æ—¶ï¼Œåˆ™è¯æ˜æˆ‘ä»¬å·²ç»æˆåŠŸå®‰è£…äº†ssã€‚è¯·ç«‹å³å°†è¿™äº›ä¿¡æ¯å¤åˆ¶ä¸‹æ¥åŠ ä»¥ä¿å­˜ï¼Œæˆ‘ä»¬å°±ä¼šç”¨åˆ°è¿™å‡ ä¸ªæ¯”è¾ƒé‡è¦çš„ä¿¡æ¯ï¼šä¸»æœºæœåŠ¡å™¨IPåœ°å€ã€ç«¯å£å·ã€å¯†ç å’ŒåŠ å¯†æ–¹å¼ã€‚ä¸Šé¢çš„å‘½ä»¤å…¨éƒ¨å›è½¦æ‰§è¡Œåï¼Œå¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œå³ä¸ºæ‰§è¡ŒæˆåŠŸï¼Œå‡ºç°ç¡®è®¤æç¤ºçš„æ—¶å€™ï¼Œè¾“å…¥ y åï¼Œå›è½¦å³å¯ã€‚</p>
]]></content>
      <tags>
        <tag>ss</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‚å‚ç‚¹ä¸å¹³è¡Œçº¿çš„ç®—æ³•</title>
    <url>/2019-06-12-qiu-chui-dian-yu-ping-xing-xian-de-suan-fa.html</url>
    <content><![CDATA[<p>å·²çŸ¥ä¸¤ç‚¹æ„æˆçš„çº¿æ®µ</p>
<p>æ±‚ç¬¬ä¸‰ç‚¹åˆ°å·²çŸ¥çº¿æ®µçš„å‚ç‚¹</p>
<p>æ±‚è¿‡ç¬¬å››ç‚¹ä¸å·²çŸ¥çº¿æ®µå¹³è¡Œçš„ç›´çº¿</p>
<a id="more"></a>

<hr>
<h4><span id="1ä»¥ä¸‹ç»™å‡ºç®—æ³•">1.ä»¥ä¸‹ç»™å‡ºç®—æ³•</span></h4><h5><span id="11æ±‚å‚ç‚¹åæ ‡">1.1æ±‚å‚ç‚¹åæ ‡</span></h5><p>é—®é¢˜ï¼šå·²çŸ¥ä¸¤ç‚¹: (x0,y0) (x1,y1)æ„æˆçº¿æ®µï¼›</p>
<p>æ±‚ç¬¬ä¸‰ç‚¹(x2,y2)åˆ°è¿™æ¡çº¿æ®µçš„å‚çº¿æ®µã€‚</p>
<p>æ±‚è§£ï¼š</p>
<p>çº¿æ®µLå‡½æ•°ï¼š(y1-y0)/(x1-x0)=(y-y0)(x-x0)</p>
<p>å‚çº¿æ®µå‡½æ•°ï¼šy-y2=(x0-x1)(x-x2)/(y1-y2) +y2</p>
<p>è”ç«‹è§£å¾—ï¼š</p>
<p>x = [ x2(x0-x1)^2 + x0(y1-y2)^2 + (y0-y2)(y1-y0)(x0-x1) ] / [ (x0-x1)^2 + (y1-y0)^2]</p>
<p>å°†xä»£å…¥å‡½æ•°æ±‚y</p>
<h5><span id="12æ±‚å¹³è¡Œçº¿">1.2æ±‚å¹³è¡Œçº¿</span></h5><p>å·²çŸ¥ç¬¬å››ç‚¹(x3,y3)ï¼Œæ±‚è¿‡è¿™ç‚¹ä¸çº¿æ®µå¹³è¡Œçš„ç›´çº¿</p>
<p>çº¿æ®µæ–œç‡ï¼š</p>
<p>k = (y1-y0)/(x1-x0)</p>
<p>å¹³è¡Œçº¿çš„å‡½æ•°è¡¨è¾¾å¼ï¼š</p>
<p>y = k*(x - x3)+y3</p>
<p>x=999æ—¶ï¼Œy=k*(999 - x3)+y3</p>
<p>x=-999æ—¶ï¼Œy=k*(-999 - x3)+y3</p>
<p>å¾—åˆ°è¾ƒè¿œå¤„å¹³è¡Œçº¿ä¸Šä¸¤ç‚¹ï¼Œè¿æ¥å¯çœ‹æˆç›´çº¿</p>
<h5><span id="13ç¼ºé™·">1.3ç¼ºé™·ï¼š</span></h5><p>æœªè€ƒè™‘çº¿æ®µæ–œç‡ä¸º0çš„æƒ…å†µï¼Œç®€å•ï¼Œæ‡’å¾—å†™äº†</p>
]]></content>
      <tags>
        <tag>ç®—æ³•ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>C_ALGåæ ‡å˜æ¢å…¬å¼</title>
    <url>/2019-06-12-c-alg-zuo-biao-bian-huan-gong-shi.html</url>
    <content><![CDATA[<p>Cè¯­è¨€å®ç°GISç®—æ³•ä¸­çš„åæ ‡å˜æ¢</p>
<p>å¹³ç§»å˜æ¢ã€æ¯”ä¾‹å˜æ¢ã€æ—‹è½¬å˜æ¢</p>
<a id="more"></a>

<h3><span id="c_algåæ ‡å˜æ¢å…¬å¼">C_ALGåæ ‡å˜æ¢å…¬å¼</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; X, Y    </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¹³ç§»</span><br><span class="line">X +&#x3D; Xm;</span><br><span class="line">Y +&#x3D; Ym;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ¯”ä¾‹</span><br><span class="line">&#x2F;&#x2F; ä»¥åæ ‡åŸç‚¹ä¸ºå‚ç…§ç‚¹</span><br><span class="line">X *&#x3D; Xs;</span><br><span class="line">Y *&#x3D; Ys;</span><br><span class="line">&#x2F;&#x2F; ä»¥x0y0ä¸ºå‚ç…§ç‚¹çš„æ¯”ä¾‹å˜æ¢</span><br><span class="line">X &#x3D; (X-x0)*Xs + x0;</span><br><span class="line">Y &#x3D; (Y-y0)*Ys + y0;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ—‹è½¬</span><br><span class="line">X &#x3D; X*cosA + Y*sinA</span><br><span class="line">Y &#x3D; X*sinA - Y*cosA</span><br><span class="line"></span><br><span class="line">******å¦‚æœæ˜¯å±å¹•åæ ‡ï¼Œé¡ºæ—¶é’ˆæ—‹è½¬ï¼Œ</span><br><span class="line">&#x2F;&#x2F; ä»¥åæ ‡åŸç‚¹</span><br><span class="line">X &#x3D; X*cosA - Y*sinA;</span><br><span class="line">Y &#x3D; X*sinA + Y*cosA;</span><br><span class="line">&#x2F;&#x2F; ä»¥æŒ‡å®šç‚¹æ—‹è½¬</span><br><span class="line">X &#x3D; (X-x0)*cos(A) - (Y-y0)*sin(A);</span><br><span class="line">Y &#x3D; (X-x0)*sin(A) + (Y-y0)*cos(A);</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>ç®—æ³•ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>Cè¯­è¨€çš„å†™å…¥æ–‡ä»¶æ•°æ®ä¸è¯»å–æ–‡ä»¶æ•°æ®</title>
    <url>/2018-10-22-c-yu-yan-de-xie-ru-wen-jian-shu-ju-yu-du-qu-wen-jian-shu-ju.html</url>
    <content><![CDATA[<p>Cè¯­è¨€çš„å†™å…¥æ–‡ä»¶æ•°æ®ä¸è¯»å–æ–‡ä»¶æ•°æ®</p>
<p>vc6.0</p>
<p>MFC</p>
<a id="more"></a>

<hr>
<h3><span id="cè¯­è¨€çš„å†™å…¥æ–‡ä»¶">Cè¯­è¨€çš„å†™å…¥æ–‡ä»¶</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">FILE *fp;</span><br><span class="line">fp &#x3D; fopen(&quot;F:\\Clanuage\\GISALG\\dataFile\\fffffff.txt&quot;,&quot;w&quot;);</span><br><span class="line">&#x2F;&#x2F; ç¬¬ä¸€è¡Œè¾“å‡ºç‚¹çš„ä¸ªæ•°</span><br><span class="line">fprintf(fp,&quot;%d\n&quot;,num);</span><br><span class="line">&#x2F;&#x2F; è¾“å‡ºç‚¹çš„åæ ‡</span><br><span class="line">for(int i&#x3D;0;i&lt;num;i++)</span><br><span class="line">&#123;</span><br><span class="line">	fprintf(fp,&quot;%d,%d\n&quot;,p[i].x,p[i].y);</span><br><span class="line">&#125;</span><br><span class="line">fclose(fp);</span><br></pre></td></tr></table></figure>
<h3><span id="è¯»å–æ–‡ä»¶æ•°æ®">è¯»å–æ–‡ä»¶æ•°æ®</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">FILE *fp;</span><br><span class="line">fp &#x3D; fopen(&quot;F:\\Clanuage\\GISALG\\dataFile\\fffffff.txt&quot;,&quot;r&quot;);</span><br><span class="line">fscanf(fp,&quot;%d&quot;,&amp;num);</span><br><span class="line">for(int i&#x3D;0;i&lt;num;i++)</span><br><span class="line">&#123;</span><br><span class="line">	fscanf(fp,&quot;%d,%d&quot;,&amp;p[i].x,&amp;p[i].y);</span><br><span class="line">&#125;</span><br><span class="line">fclose(fp);</span><br><span class="line">&#x2F;&#x2F; ç»˜åˆ¶</span><br><span class="line">CDC *pdc &#x3D; GetDC();</span><br><span class="line">for(int j&#x3D;0;j&lt;num;j++)</span><br><span class="line">&#123;</span><br><span class="line">	pdc-&gt;Ellipse(p[j].x-5,p[j].y-5,p[j].x+5,p[j].y+5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>Cè¯­è¨€</tag>
      </tags>
  </entry>
  <entry>
    <title>vc6.0;MFCï¼›ç”»ç¬”ä¸å¡«å……</title>
    <url>/2018-10-22-vc6.0-mfc-hua-bi-yu-ju-xing-tian-chong.html</url>
    <content><![CDATA[<p>Cè¯­è¨€MFCä¸­ç”»ç¬”ä¸çŸ©å½¢å¡«å……</p>
<a id="more"></a>

<hr>
<h3><span id="ç”»ç¬”ä¸å¡«å……">ç”»ç¬”ä¸å¡«å……</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CDC *pDC &#x3D; GetDC();</span><br><span class="line">&#x2F;&#x2F;ç»˜åˆ¶çº¢çº¿</span><br><span class="line">CPen pen;</span><br><span class="line">pen.CreatePen(PS_SOLID,2,RGB(255,0,0));</span><br><span class="line">pDC-&gt;SelectObject(&amp;pen);</span><br><span class="line">&#x2F;&#x2F;çŸ©å½¢é€æ˜</span><br><span class="line">CBrush *pBrush &#x3D; CBrush::FromHandle((HBRUSH)GetStockObject(NULL_BRUSH));</span><br><span class="line">CBrush *pOldBrush &#x3D; pDC-&gt;SelectObject(pBrush);</span><br><span class="line">pDC-&gt;Rectangle(xmin,ymin,xmax,ymax);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; çŸ©å½¢å¡«å……</span><br><span class="line">CRect rt(x1+i*b1,y1+j*b2,x2+i*b1,y2+j*b2);</span><br><span class="line">pdc-&gt;FillSolidRect(&amp;rt,RGB(255,0,0));</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>Cè¯­è¨€</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤ä¹ Cè¯­è¨€äºŒçº§ç¬”è®°</title>
    <url>/2018-08-23-fu-xi-c-yu-yan-er-ji-bi-ji.html</url>
    <content><![CDATA[<p>å­¦å®Œä¸€å­¦æœŸCè¯­è¨€ï¼Œæ²¡å•¥æ„Ÿè§‰</p>
<p>å¥½å¤šé¢˜ä¹Ÿä¸ä¼šåš</p>
<p>äºŒçº§ä¸´è¿‘ï¼Œåªæœ‰è¾¹åˆ·é¢˜ï¼Œè¾¹å­¦ä¹ äº†</p>
<p>å†…å®¹æ¯”è¾ƒæ‚ä¹±ï¼Œåˆ·é¢˜é‡åˆ°ä¾¿é€æ¸è§£å†³çš„é—®é¢˜</p>
<a id="more"></a>

<hr>
<h3><span id="1-a-getchar-åªè·å–é”®ç›˜ä¸Šä¸€ä¸ªå­—ç¬¦getcharå‡½æ•°çš„ä½œç”¨æ˜¯ä»ç»ˆç«¯è¯»å…¥ä¸€ä¸ªå­—ç¬¦">1ã€   a = getchar() åªè·å–é”®ç›˜ä¸Š++ä¸€ä¸ª++å­—ç¬¦ï¼›getcharå‡½æ•°çš„ä½œç”¨æ˜¯ä»==ç»ˆç«¯==è¯»å…¥ä¸€ä¸ªå­—ç¬¦</span></h3><hr>
<h3><span id="2-æ•°æ®åº“å¸¸ç”¨çš„å…³ç³»è¿ç®—ä¸ºä¸‰ç§">2ã€æ•°æ®åº“å¸¸ç”¨çš„å…³ç³»è¿ç®—ä¸ºä¸‰ç§ï¼š</span></h3><p>1ã€å³é€‰æ‹©ã€‚</p>
<p>2ã€æŠ•å½±ã€‚</p>
<p>3ã€è¿æ¥ã€‚ </p>
<p>ï¼ˆ1ï¼‰é€‰æ‹©ï¼Œæ˜¯ä»äºŒç»´è¡¨ä¸­é€‰å‡ºç¬¦åˆæ¡ä»¶çš„è®°å½•ï¼Œå®ƒæ˜¯ä»è¡Œçš„è§’åº¦å¯¹å…³ç³»è¿›è¡Œçš„è¿ç®—ã€‚</p>
<p>ï¼ˆ2ï¼‰æŠ•å½±ï¼Œæ˜¯ä»äºŒç»´è¡¨ä¸­é€‰å‡ºæ‰€éœ€è¦çš„åˆ—ï¼Œå®ƒæ˜¯ä»åˆ—çš„è§’åº¦å¯¹å…³ç³»è¿›è¡Œçš„è¿ç®—ã€‚</p>
<p>ï¼ˆ3ï¼‰è¿æ¥ï¼Œæ˜¯åŒæ—¶æ¶‰åŠåˆ°ä¸¤ä¸ªäºŒç»´è¡¨çš„è¿ç®—ï¼Œå®ƒæ˜¯å°†ä¸¤ä¸ªå…³ç³»åœ¨ç»™å®šçš„å±æ€§ä¸Šæ»¡è¶³ç»™å®šæ¡ä»¶çš„è®°å½•è¿æ¥èµ·æ¥è€Œå¾—åˆ°çš„ä¸€ä¸ªæ–°çš„å…³ç³»</p>
<hr>
<h3><span id="3-cè¯­è¨€æ²¡æœ‰é€»è¾‘å€¼ç”¨-1-0-ä»£æ›¿">3ã€   Cè¯­è¨€æ²¡æœ‰é€»è¾‘å€¼ï¼Œç”¨ <strong>1 0</strong> ä»£æ›¿</span></h3><hr>
<h3><span id="4-å½“æœ‰åºé“¾è¡¨ä¸ºé¡ºåºå­˜å‚¨æ—¶æ‰èƒ½é‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾äºŒåˆ†æŸ¥æ‰¾æœ€å¤šéœ€è¦æ¯”è¾ƒlog2-næ¬¡è€Œé¡ºåºæŸ¥æ‰¾æœ€å¤šéœ€è¦næ¬¡">4ã€å½“æœ‰åºé“¾è¡¨ä¸ºé¡ºåºå­˜å‚¨æ—¶æ‰èƒ½é‡‡ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼ŒäºŒåˆ†æŸ¥æ‰¾æœ€å¤šéœ€è¦æ¯”è¾ƒlog2 næ¬¡ï¼Œè€Œé¡ºåºæŸ¥æ‰¾æœ€å¤šéœ€è¦næ¬¡ã€‚</span></h3><hr>
<h3><span id="5-æ•°æ®æµç¨‹å›¾dfdå›¾æ˜¯ç»“æ„åŒ–æ–¹æ³•çš„éœ€æ±‚åˆ†æå·¥å…·">5ã€æ•°æ®æµç¨‹å›¾ï¼ˆDFDå›¾ï¼‰æ˜¯ç»“æ„åŒ–æ–¹æ³•çš„<strong>éœ€æ±‚åˆ†æå·¥å…·</strong></span></h3><hr>
<h3><span id="6-å­—ç¬¦æ•°ç»„çš„èµ‹å€¼">6ã€ å­—ç¬¦æ•°ç»„çš„èµ‹å€¼ï¼š</span></h3><p>char str[] = {â€˜hâ€™,â€™aâ€™,â€™pâ€™,â€™pâ€™,â€™yâ€™,â€™\0â€™}</p>
<p>char str[] = â€œhappyâ€;        </p>
<p>char str[] = {â€œhappyâ€};</p>
<p>char *str;                 str = â€œhappyâ€;</p>
<p>==é”™è¯¯èµ‹å€¼==ï¼šchar str[6];  str = â€œhappyâ€;</p>
<p>char *str;  str={â€œhappyâ€};</p>
<hr>
<h3><span id="7-å…³äºè‡ªå®šä¹‰å‡½æ•°ä¸­çš„return">7ã€å…³äºè‡ªå®šä¹‰å‡½æ•°ä¸­çš„return:</span></h3><p>ä¸€ä¸ªè‡ªå®šä¹‰å‡½æ•°ä¸­å¯ä»¥æ²¡æœ‰è¿”å›å€¼ï¼Œå®šä¹‰ä¸ºvoidï¼Œç¨‹åºæ‰§è¡Œç»“æŸåè‡ªåŠ¨è¿”å›åˆ°è°ƒç”¨å¤„ï¼›</p>
<p>è‡ªå®šä¹‰å‡½æ•°ä¸­å¯ä»¥è®¾ç½®å¤šä¸ªreturnè¯­å¥ï¼Œä½†è¿”å›å€¼åªèƒ½æ˜¯ä¸€ä¸ªã€‚</p>
<hr>
<h3><span id="8-æŒ‡é’ˆä¸æ•°ç»„">8ã€æŒ‡é’ˆä¸æ•°ç»„ï¼š</span></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">int a=10,*p;</span><br><span class="line">int a=10;</span><br><span class="line">p=&amp;a;  //int *p=&amp;a;</span><br><span class="line"><span class="built_in">printf</span>(â€œ%pâ€,p);  //ä¸ºaçš„åœ°å€</span><br><span class="line"><span class="built_in">printf</span>(â€œ%dâ€,*p)  //ä¸ºaçš„å€¼ï¼Œ*pä»£è¡¨æŒ‡å‘aåœ°å€çš„å€¼</span><br><span class="line"><span class="built_in">printf</span>(â€œ%dâ€ï¼Œ&amp;p);  //ä¸ºæŒ‡é’ˆå‹å˜é‡pè‡ªå·±çš„åœ°å€</span><br><span class="line">/////////////////////////////</span><br><span class="line">int a[5]=&#123;1,2,3,4,5&#125;;</span><br><span class="line">int *p=a;  //açš„é¦–åœ°å€ç»™äº†æŒ‡é’ˆp</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d"</span>,*(p+1));ç­‰ä»·äº<span class="built_in">printf</span>(<span class="string">"%d"</span>,*(a+1));  //è¾“å‡ºä¸º2</span><br></pre></td></tr></table></figure>
<hr>
<h3><span id="9-æŒ‡é’ˆæ•°ç»„å’Œæ•°ç»„æŒ‡é’ˆ">9ã€æŒ‡é’ˆæ•°ç»„å’Œæ•°ç»„æŒ‡é’ˆ</span></h3><h4><span id="æ•°ç»„æŒ‡é’ˆ">æ•°ç»„æŒ‡é’ˆï¼š</span></h4><p>int (*p)[3];  //å®šä¹‰äº†ä¸€ä¸ªæŒ‡é’ˆå‹å˜é‡pï¼ŒæŒ‡å‘ä¸€ä¸ªæ•´å‹æ•°ç»„</p>
<h4><span id="æŒ‡é’ˆæ•°ç»„">æŒ‡é’ˆæ•°ç»„ï¼š</span></h4><p>int *p[3];     //å®šä¹‰äº†ä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢å­˜æ”¾æŒ‡é’ˆå‹å…ƒç´ ï¼ŒæŒ‡å‘æ•´å‹</p>
<hr>
<h3><span id="10-é™æ€å˜é‡static">10ã€é™æ€å˜é‡static</span></h3><h4><span id="é™æ€å±€éƒ¨å˜é‡">é™æ€å±€éƒ¨å˜é‡ï¼š</span></h4><p>åœ¨å‡½æ•°ä¸­æ—¶ï¼Œå‡½æ•°è¿è¡Œç»“æŸï¼Œè¿™ä¸ªé™æ€å˜é‡çš„å€¼ä¸ä¼šè¢«é”€æ¯ï¼Œå‡½æ•°ä¸‹æ¬¡ä½¿ç”¨æ—¶ä»èƒ½ä½¿ç”¨ã€‚</p>
<h4><span id="é™æ€å…¨å±€å˜é‡">é™æ€å…¨å±€å˜é‡ï¼š</span></h4><p>é™æ€å…¨å±€å˜é‡ ä½œç”¨äºä»…é™äºå˜é‡è¢«å®šä¹‰çš„æ–‡ä»¶ã€‚åœ¨å‡½æ•°ä¸­å¼•ç”¨ä¸ä¼šæ”¹å˜ä»–çš„å€¼</p>
<hr>
<h3><span id="11-ç»“æ„ä½“">11ã€ç»“æ„ä½“</span></h3><p>ç»“æ„ä½“ç±»å‹çš„å˜é‡åœ¨ç¨‹åºè¿è¡ŒæœŸé—´è¦ä½œ==ä¸ºä¸€ä¸ªæ•´ä½“å ç”¨è¿ç»­çš„å†…å­˜å•å…ƒ==</p>
<h4><span id="ç»“æ„ä½“çš„å®šä¹‰">ç»“æ„ä½“çš„å®šä¹‰</span></h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">struct student   //struct studentä¸ºç»“æ„ä½“ç±»å‹</span><br><span class="line">        &#123; </span><br><span class="line">         int num;</span><br><span class="line">         char  name[20];</span><br><span class="line">         char sex;</span><br><span class="line">         int age;</span><br><span class="line">         <span class="built_in">float</span> score;</span><br><span class="line">         char addr[30];</span><br><span class="line">        &#125;; </span><br><span class="line">struct student   stu1,stu2;   //å£°æ˜ç»“æ„ä½“å˜é‡stu1,stu2</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">struct student</span><br><span class="line">    &#123; </span><br><span class="line">     int num;</span><br><span class="line">     char  name[20];</span><br><span class="line">     char sex;</span><br><span class="line">     int age;</span><br><span class="line">     <span class="built_in">float</span> score;</span><br><span class="line">     char addr[30];</span><br><span class="line">    &#125;stu1,stu2;</span><br></pre></td></tr></table></figure>

<h4><span id="åˆå§‹åŒ–">åˆå§‹åŒ–ï¼š</span></h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">struct student</span><br><span class="line">    &#123; char name[10];</span><br><span class="line">    int age;</span><br><span class="line">    <span class="built_in">float</span> score[5];</span><br><span class="line">    &#125;stu=&#123;â€œzhangsanâ€,20,78,92,83,75,69&#125;;</span><br><span class="line">    struct student li,zhang=&#123;<span class="string">"zhangsan"</span>,20,78,92,83,75,69&#125;; </span><br><span class="line">    li=zhang; //å°†zhangå¯¹è±¡æ‹·è´ä¸€ä»½èµ‹å€¼ç»™li</span><br><span class="line">      /*</span><br><span class="line">      ä½†li=&#123; â€œli siâ€,19,76,56,90,69,80&#125;;æ˜¯éæ³•çš„</span><br><span class="line">      */</span><br></pre></td></tr></table></figure>
<h4><span id="typedefå®šä¹‰çš„æ•°æ®ç±»å‹">typedefå®šä¹‰çš„æ•°æ®ç±»å‹</span></h4><p>typedef struct student STUDENT  ä¸º==ç»“æ„ä½“ç±»å‹==å®šä¹‰ä¸€ä¸ªæ–°çš„åå­—ï¼Œå³==strct studentä¸STUDENTåŒä¹‰==</p>
<p>ç­‰ä»·äºä¸‹ç¨‹åº</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">typedef struct student</span><br><span class="line">    &#123; char name[10];</span><br><span class="line">    int age;</span><br><span class="line">    float score[5];</span><br><span class="line">    &#125;STUDENT;</span><br></pre></td></tr></table></figure>

<h3><span id="111-å…±ç”¨ä½“">11.1 å…±ç”¨ä½“</span></h3><p>å…±ç”¨ä½“çš„æ¯ä¸ªæˆå‘˜çš„==èµ·å§‹åœ°å€éƒ½ç›¸åŒ==</p>
<p>å˜é‡æ‰€å çš„å†…å­˜é•¿åº¦ç­‰äº==æœ€é•¿çš„æˆå‘˜çš„é•¿åº¦==</p>
<p>C è¯­è¨€è§„å®š ,==ä¸èƒ½==æŠŠå…±ç”¨ä½“å˜é‡ä½œä¸ºå‡½æ•°çš„å‚æ•°</p>
<hr>
<h3><span id="12-æ–‡ä»¶æ“ä½œ">12ã€æ–‡ä»¶æ“ä½œ</span></h3><p>æ–‡ä»¶çš„æ‰“å¼€æ“ä½œ fopen æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶</p>
<p>æ–‡ä»¶çš„å…³é—­æ“ä½œ fclose å…³é—­ä¸€ä¸ªæ–‡ä»¶</p>
<p>æ–‡ä»¶çš„è¯»å†™æ“ä½œ fgetc ä»æ–‡ä»¶ä¸­è¯»å–ä¸€ä¸ªå­—ç¬¦</p>
<p>fputc å†™ä¸€ä¸ªå­—ç¬¦åˆ°æ–‡ä»¶ä¸­å»</p>
<p>fgets ä»æ–‡ä»¶ä¸­è¯»å–ä¸€ä¸ªå­—ç¬¦ä¸²</p>
<p>fputs å†™ä¸€ä¸ªå­—ç¬¦ä¸²åˆ°æ–‡ä»¶ä¸­å»</p>
<p>fprintf å¾€æ–‡ä»¶ä¸­å†™æ ¼å¼åŒ–æ•°æ®</p>
<p>fscanf(fp,â€%dâ€,n) æ ¼å¼åŒ–è¯»å–æ–‡ä»¶ä¸­æ•°æ®</p>
<p>fread(stu,sizeof(STUDENT),n,fp) ä»¥äºŒè¿›åˆ¶å½¢å¼è¯»å–æ–‡ä»¶ä¸­çš„æ•°æ®</p>
<p>fwrite ä»¥äºŒè¿›åˆ¶å½¢å¼å†™æ•°æ®åˆ°æ–‡ä»¶ä¸­å»</p>
<p>getw ä»¥äºŒè¿›åˆ¶å½¢å¼è¯»å–ä¸€ä¸ªæ•´æ•°</p>
<p>putw ä»¥äºŒè¿›åˆ¶å½¢å¼å­˜è´®ä¸€ä¸ªæ•´æ•°</p>
<p>æ–‡ä»¶çŠ¶æ€æ£€æŸ¥å‡½æ•° feof æ–‡ä»¶ç»“æŸ</p>
<p>ferror æ–‡ä»¶è¯»/å†™å‡ºé”™</p>
<p>feof è¯»å…¥åˆ°å­—ç¬¦å°¾â€™\0â€™æ—¶è¿”å›0</p>
<p>ä»¥ â€œwtâ€ æ–¹å¼å†™å…¥çš„æ˜¯å­—ç¬¦æ–‡ä»¶ ,è½¬ä¹‰å­—ç¬¦ \n è¢«çœ‹ä½œä¸¤ä¸ªå­—ç¬¦æ¥å¤„ç†</p>
<p>â€œwbâ€æ–¹å¼å†™å…¥çš„æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ ,è½¬ä¹‰å­—ç¬¦ â€˜\nâ€™æ˜¯ä¸€ä¸ªå­—ç¬¦</p>
<hr>
<h3><span id="13-è®¾æŸå¾ªç¯é˜Ÿåˆ—çš„å®¹é‡ä¸º50å¦‚æœå¤´æŒ‡é’ˆfront-45æŒ‡å‘é˜Ÿå¤´å…ƒç´ çš„å‰ä¸€ä½ç½®å°¾æŒ‡é’ˆ-rear-10æŒ‡å‘é˜Ÿå°¾å…ƒç´ åˆ™è¯¥å¾ªç¯é˜Ÿåˆ—ä¸­å…±æœ‰15ä¸ªå…ƒç´ ">13ã€è®¾æŸå¾ªç¯é˜Ÿåˆ—çš„å®¹é‡ä¸º50ï¼Œå¦‚æœå¤´æŒ‡é’ˆfront ï¼45ï¼ˆæŒ‡å‘é˜Ÿå¤´å…ƒç´ çš„å‰ä¸€ä½ç½®ï¼‰ï¼Œå°¾æŒ‡é’ˆ rear ï¼10ï¼ˆæŒ‡å‘é˜Ÿå°¾å…ƒç´ ï¼‰ï¼Œåˆ™è¯¥å¾ªç¯é˜Ÿåˆ—ä¸­å…±æœ‰15ä¸ªå…ƒç´ ã€‚</span></h3><h4><span id="è®¡ç®—å…¬å¼é˜Ÿåˆ—å¤´ä¸ºfronté˜Ÿåˆ—å°¾ä¸ºrearmä¸ºå®¹é‡">è®¡ç®—å…¬å¼ï¼ˆé˜Ÿåˆ—å¤´ä¸ºfront,é˜Ÿåˆ—å°¾ä¸ºrear,Mä¸ºå®¹é‡ï¼‰</span></h4><h4><span id="rear-front-mm">|rear - front + M|%M</span></h4><p>è¿™é‡Œä¸º |10-45+50|%50=15</p>
<hr>
<h3><span id="14-äºŒå‰æ ‘çš„éå†">14ã€äºŒå‰æ ‘çš„éå†</span></h3><p>éå†å°±æ˜¯ä¸é‡å¤åœ°è®¿é—®äºŒå‰æ ‘çš„æ‰€æœ‰ç»“ç‚¹ã€‚</p>
<p>äºŒå‰æ ‘éå†çš„æ–¹æ³•æœ‰3ç§ï¼š++å‰åºéå†ã€ä¸­åºéå†å’Œååºéå†++ã€‚</p>
<p>è®°ä½3ç§éå†çš„é¡ºåºï¼š</p>
<p>â‘ å‰åºï¼Œè®¿é—®æ ¹â†’æŒ‰å‰åºéå†å·¦å­æ ‘â†’æŒ‰å‰åºéå†å³å­æ ‘ã€‚ </p>
<p>â‘¡ä¸­åºï¼ŒæŒ‰ä¸­åºéå†å·¦å­æ ‘â†’è®¿é—®æ ¹â†’æŒ‰ä¸­åºéå†å³å­æ ‘ã€‚ </p>
<p>â‘¢ååºï¼ŒæŒ‰ååºéå†å·¦å­æ ‘â†’æŒ‰ååºéå†å³å­æ ‘â†’è®¿é—®æ ¹ã€‚</p>
<h4><span id="ä¾‹å­ååºéå†">ä¾‹å­ï¼šååºéå†</span></h4><p>  E</p>
<p> /  \</p>
<p>S    C</p>
<p>|    / \</p>
<p>A   B  P</p>
<p>ç»“æœï¼šASBPCE</p>
<h4><span id="14-1-åœ¨ä»»æ„ä¸€æ£µäºŒå‰æ ‘ä¸­-åº¦ä¸º-0-çš„ç»“ç‚¹-å³å¶å­ç»“ç‚¹-æ€»æ˜¯æ¯”åº¦ä¸º-2-çš„ç»“ç‚¹å¤šä¸€ä¸ª">14ã€1  åœ¨ä»»æ„ä¸€æ£µäºŒå‰æ ‘ä¸­ ,åº¦ä¸º 0 çš„ç»“ç‚¹ (å³å¶å­ç»“ç‚¹ )æ€»æ˜¯æ¯”åº¦ä¸º 2 çš„ç»“ç‚¹==å¤šä¸€ä¸ª==ã€‚</span></h4><h4><span id="142-åœ¨æ ‘å½¢ç»“æ„ä¸­-æ¯ä¸€ä¸ªç»“ç‚¹åªæœ‰ä¸€ä¸ªå‰ä»¶-ç§°ä¸ºçˆ¶ç»“ç‚¹æ²¡æœ‰å‰ä»¶çš„ç»“ç‚¹åªæœ‰ä¸€ä¸ª-ç§°ä¸ºæ ‘çš„æ ¹ç»“ç‚¹-æ¯ä¸€ä¸ªç»“ç‚¹å¯ä»¥æœ‰å¤šä¸ªåä»¶-å®ƒä»¬éƒ½ç§°ä¸ºè¯¥ç»“ç‚¹çš„å­ç»“ç‚¹-æ²¡æœ‰åä»¶çš„ç»“ç‚¹ç§°ä¸ºå¶å­ç»“ç‚¹">14.2 åœ¨æ ‘å½¢ç»“æ„ä¸­ ,æ¯ä¸€ä¸ªç»“ç‚¹åªæœ‰ä¸€ä¸ª==å‰ä»¶== ,ç§°ä¸º==çˆ¶ç»“ç‚¹==;æ²¡æœ‰å‰ä»¶çš„ç»“ç‚¹åªæœ‰ä¸€ä¸ª ,ç§°ä¸º==æ ‘çš„æ ¹ç»“ç‚¹== ;æ¯ä¸€ä¸ªç»“ç‚¹å¯ä»¥æœ‰å¤šä¸ª==åä»¶== ,å®ƒä»¬éƒ½ç§°ä¸ºè¯¥ç»“ç‚¹çš„==å­ç»“ç‚¹== ;æ²¡æœ‰åä»¶çš„ç»“ç‚¹ç§°ä¸º==å¶å­ç»“ç‚¹==ã€‚</span></h4><hr>
<h3><span id="15-è½¯ä»¶æ˜¯ç¨‹åºæ•°æ®å’Œæ–‡æ¡£çš„é›†åˆ">15ã€è½¯ä»¶æ˜¯==ç¨‹åºæ•°æ®==å’Œ==æ–‡æ¡£==çš„é›†åˆ</span></h3><hr>
<h3><span id="16-else-ä¸å…¶æœ€è¿‘çš„æ²¡æœ‰é…å¯¹çš„ifé…å¯¹">16ã€else ä¸å…¶æœ€è¿‘çš„æ²¡æœ‰é…å¯¹çš„ifé…å¯¹</span></h3><h4><span id="ä¸‹é¢˜æ³¨æ„else-ifä¸elseçš„é…å¯¹">ä¸‹é¢˜æ³¨æ„else ifä¸elseçš„é…å¯¹</span></h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        int a&#x3D;1,b&#x3D;2,c&#x3D;3,d&#x3D;0;</span><br><span class="line">        if ï¼ˆ a&#x3D;&#x3D;1 ï¼‰</span><br><span class="line">        &#123;</span><br><span class="line">                if ï¼ˆ b!&#x3D;2 ï¼‰</span><br><span class="line">                &#123;</span><br><span class="line">                        if ï¼ˆ c&#x3D;&#x3D;3 ï¼‰</span><br><span class="line">                        &#123;</span><br><span class="line">                                d&#x3D;1;</span><br><span class="line">                        &#125;</span><br><span class="line">                        else</span><br><span class="line">                        &#123;</span><br><span class="line">                                d&#x3D;2;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                else if ï¼ˆ c!&#x3D;3 ï¼‰ </span><br><span class="line">                &#123;       </span><br><span class="line">                        d&#x3D;3;    </span><br><span class="line">                &#125;       </span><br><span class="line">                else    </span><br><span class="line">                &#123;       </span><br><span class="line">                        d&#x3D;4;    </span><br><span class="line">                &#125;       </span><br><span class="line">        &#125;       </span><br><span class="line">        else    </span><br><span class="line">        &#123;       </span><br><span class="line">                d&#x3D;5;    </span><br><span class="line">        &#125;</span><br><span class="line">        printf ï¼ˆ &quot; %d\n &quot; ,d ï¼‰ ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3><span id="17-cè¯­è¨€ä¸­çš„å­—ç¬¦æ•°ç»„çš„ç»“å°¾">17ã€cè¯­è¨€ä¸­çš„å­—ç¬¦æ•°ç»„çš„ç»“å°¾</span></h3><p>å› ä¸ºcè¯­è¨€ä¸­æ²¡æœ‰å­—ç¬¦ä¸²ç±»å‹ï¼Œæ‰€ä»¥å€ŸåŠ©å­—ç¬¦æ•°ç»„æ¥å­˜å‚¨å­—ç¬¦ä¸²ï¼Œä¸ºäº†åŒºåˆ«å­—ç¬¦ä¸²ï¼Œéœ€è¦åœ¨å­—ç¬¦æ•°ç»„çš„æœ«å°¾æ·»åŠ ASCIIä¸º0ï¼Œå³â€™\0â€™ï¼Œæ¥ä½œä¸ºå­—ç¬¦ä¸²çš„ç»“æŸæ ‡å¿—ï¼Œå¹¶ä¸”ä¸è®¡å…¥å­—ç¬¦ä¸²é•¿åº¦ã€‚</p>
<h4><span id="å³strlenè¾“å‡ºç»“æœä¸ºå®é™…æ•°ç»„é•¿åº¦">å³strlen()è¾“å‡ºç»“æœä¸ºå®é™…æ•°ç»„é•¿åº¦</span></h4><hr>
<h2><span id="ç®—æ³•åŠç†è®ºé¢˜æ±‡æ€»">ç®—æ³•åŠç†è®ºé¢˜æ±‡æ€»</span></h2><h3><span id="181-n-så›¾">18.1 ã€N-Så›¾</span></h3><p>ä¸ºäº†é¿å…æµç¨‹å›¾åœ¨æè¿°ç¨‹åºé€»è¾‘æ—¶çš„çµæ´»æ€§,æå‡ºäº†ç”¨æ–¹æ¡†å›¾æ¥ä»£æ›¿ä¼ ç»Ÿçš„ç¨‹åºæµç¨‹å›¾ ,é€šå¸¸ä¹ŸæŠŠè¿™ç§å›¾ç§°ä¸º==N-Så›¾==</p>
<p>N-S å›¾æ˜¯ç”± Nassi å’Œ Shneiderman æå‡ºçš„ä¸€ç§ç¬¦åˆç¨‹åºåŒ–ç»“æ„<br>è®¾è®¡åŸåˆ™çš„å›¾å½¢æè¿°å·¥å…·ã€‚ å®ƒçš„æå‡ºæ˜¯ä¸ºäº†é¿å…æµç¨‹å›¾åœ¨æè¿°ç¨‹åºé€»è¾‘æ—¶çš„éšæ„æ€§ä¸Šçµæ´»æ€§ã€‚</p>
<h3><span id="182-ç»“æ„åŒ–ç¨‹åºè®¾è®¡æ–¹æ³•çš„ä¸»è¦åŸåˆ™å¯ä»¥æ¦‚æ‹¬ä¸ºè‡ªé¡¶å‘ä¸‹-é€æ­¥æ±‚ç²¾-æ¨¡å—åŒ–åŠé™åˆ¶ä½¿ç”¨gotoè¯­å¥æ€»çš„æ¥è¯´å¯ä½¿ç¨‹åºç»“æ„è‰¯å¥½-æ˜“è¯»-æ˜“ç†è§£-æ˜“ç»´æŠ¤">18.2ã€ç»“æ„åŒ–ç¨‹åºè®¾è®¡æ–¹æ³•çš„ä¸»è¦åŸåˆ™å¯ä»¥æ¦‚æ‹¬ä¸º==è‡ªé¡¶å‘ä¸‹==ã€==é€æ­¥æ±‚ç²¾==ã€==æ¨¡å—åŒ–==åŠé™åˆ¶ä½¿ç”¨gotoè¯­å¥,æ€»çš„æ¥è¯´å¯ä½¿==ç¨‹åºç»“æ„è‰¯å¥½ã€ æ˜“è¯»ã€æ˜“ç†è§£ã€æ˜“ç»´æŠ¤==ã€‚</span></h3><h3><span id="1821-è½¯ä»¶è®¾è®¡éµå¾ªè½¯ä»¶å·¥ç¨‹çš„åŸºæœ¬ç›®æ ‡å’ŒåŸåˆ™å»ºç«‹äº†é€‚ç”¨äºåœ¨è½¯ä»¶è®¾è®¡ä¸­åº”è¯¥éµå¾ªçš„åŸºæœ¬åŸç†å’Œä¸è½¯ä»¶è®¾è®¡æœ‰å…³çš„æ¦‚å¿µå®ƒä»¬å…·æœ‰æŠ½è±¡-æ¨¡å—åŒ–-ä¿¡æ¯éšè”½å’Œæ•°æ®ç‹¬ç«‹æ€§-è‡ªåº•å‘ä¸Šæ˜¯é›†æˆæµ‹è¯•ä¸­å¢é‡æµ‹è¯•çš„ä¸€ç§">18.2.1 è½¯ä»¶è®¾è®¡éµå¾ªè½¯ä»¶å·¥ç¨‹çš„åŸºæœ¬ç›®æ ‡å’ŒåŸåˆ™,å»ºç«‹äº†é€‚ç”¨äºåœ¨è½¯ä»¶è®¾è®¡ä¸­åº”è¯¥éµå¾ªçš„åŸºæœ¬åŸç†å’Œä¸è½¯ä»¶è®¾è®¡æœ‰å…³çš„æ¦‚å¿µ,å®ƒä»¬å…·æœ‰==æŠ½è±¡ã€ æ¨¡å—åŒ–ã€ä¿¡æ¯éšè”½å’Œæ•°æ®ç‹¬ç«‹æ€§==ã€‚è‡ªåº•å‘ä¸Šæ˜¯é›†æˆæµ‹è¯•ä¸­å¢é‡æµ‹è¯•çš„ä¸€ç§</span></h3><h3><span id="183-ä¸ºäº†ä½¿æ¨¡å—å°½å¯èƒ½ç‹¬ç«‹è¦æ±‚æ¨¡å—çš„å†…èšç¨‹åº¦è¦å°½é‡é«˜ä¸”å„æ¨¡å—é—´çš„è€¦åˆç¨‹åº¦è¦å°½é‡å¼±">18.3ã€ä¸ºäº†ä½¿æ¨¡å—å°½å¯èƒ½ç‹¬ç«‹,è¦æ±‚æ¨¡å—çš„==å†…èšç¨‹åº¦è¦å°½é‡é«˜==,ä¸”å„æ¨¡å—é—´çš„==è€¦åˆç¨‹åº¦è¦å°½é‡å¼±==</span></h3><h3><span id="1831æ¨¡å—ä¹‹é—´çš„è€¦åˆç¨‹åº¦åæ˜ äº†æ¨¡å—çš„ç‹¬ç«‹æ€§ä¹Ÿåæ˜ äº†ç³»ç»Ÿåˆ†è§£åçš„å¤æ‚ç¨‹åº¦-æŒ‰ç…§è€¦åˆç¨‹åº¦ä»å¼ºåˆ°å¼±åˆ†åˆ«æ˜¯å†…å®¹è€¦åˆ-å…¬å…±è€¦åˆ-å¤–éƒ¨è€¦åˆ-æ§åˆ¶è€¦åˆ-æ ‡è®°è€¦åˆ-æ•°æ®è€¦åˆå’Œéç›´æ¥è€¦åˆæ²¡æœ‰å¼‚æ„è€¦åˆè¿™ç§æ–¹å¼">18.3.1æ¨¡å—ä¹‹é—´çš„è€¦åˆç¨‹åº¦åæ˜ äº†æ¨¡å—çš„ç‹¬ç«‹æ€§,ä¹Ÿåæ˜ äº†ç³»ç»Ÿåˆ†è§£åçš„å¤æ‚ç¨‹åº¦ã€‚æŒ‰ç…§è€¦åˆç¨‹åº¦ä»å¼ºåˆ°å¼±åˆ†åˆ«æ˜¯:==å†…å®¹è€¦åˆã€å…¬å…±è€¦åˆã€å¤–éƒ¨è€¦åˆã€æ§åˆ¶è€¦åˆã€æ ‡è®°è€¦åˆã€æ•°æ®è€¦åˆå’Œéç›´æ¥è€¦åˆ==,æ²¡æœ‰å¼‚æ„è€¦åˆè¿™ç§æ–¹å¼ã€‚</span></h3><p>ã€‚</p>
<p>æ¨¡å—çš„ç‹¬ç«‹ç¨‹åº¦å¯ä»¥ç”±ä¸¤ä¸ªå®šæ€§æ ‡å‡†åº¦é‡:è€¦åˆæ€§å’Œå†…èšæ€§ã€‚è€¦åˆæ€§æ˜¯è¡¡é‡ä¸åŒæ¨¡å—å½¼æ­¤é—´äº’ç›¸ä¾èµ–(è¿æ¥)çš„ç´§å¯†ç¨‹åº¦;å†…èšæ€§æ˜¯è¡¡é‡ä¸€ä¸ªæ¨¡å—å†…éƒ¨å„ä¸ªå…ƒç´ å½¼æ­¤ç»“åˆçš„ç´§å¯†ç¨‹åº¦ã€‚ä¸€èˆ¬æ¥è¯´,è¦æ±‚æ¨¡å—ä¹‹é—´çš„è€¦åˆå°½å¯èƒ½åœ°ä½ ,è€Œå†…èšæ€§å°½å¯èƒ½åœ°é«˜ã€‚</p>
<h3><span id="184-éœ€æ±‚åˆ†æ">18.4ã€éœ€æ±‚åˆ†æ</span></h3><p>éœ€æ±‚åˆ†ææ˜¯è½¯ä»¶å®šä¹‰æ—¶æœŸçš„æœ€åä¸€ä¸ªé˜¶æ®µï¼›ä»»åŠ¡æ˜¯ç¡®å®š==è½¯ä»¶ç³»ç»ŸåŠŸèƒ½==</p>
<h4><span id="è½¯ä»¶å¼€å‘æ–¹æ³•æ˜¯åœ¨æ€»ä½“è®¾è®¡é˜¶æ®µéœ€å®Œæˆçš„ä»»åŠ¡">è½¯ä»¶å¼€å‘æ–¹æ³•æ˜¯åœ¨æ€»ä½“è®¾è®¡é˜¶æ®µéœ€å®Œæˆçš„ä»»åŠ¡</span></h4><h4><span id="è½¯ä»¶å¼€å‘å·¥å…·æ˜¯åœ¨å®ç°é˜¶æ®µéœ€å®Œæˆçš„ä»»åŠ¡">è½¯ä»¶å¼€å‘å·¥å…·æ˜¯åœ¨å®ç°é˜¶æ®µéœ€å®Œæˆçš„ä»»åŠ¡</span></h4><h4><span id="è½¯ä»¶å¼€å‘è´¹ç”¨æ˜¯åœ¨å¯è¡Œæ€§ç ”ç©¶é˜¶æ®µéœ€å®Œæˆçš„ä»»åŠ¡">è½¯ä»¶å¼€å‘è´¹ç”¨æ˜¯åœ¨å¯è¡Œæ€§ç ”ç©¶é˜¶æ®µéœ€å®Œæˆçš„ä»»åŠ¡</span></h4><h3><span id="1841è½¯ä»¶éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦-srssoftware-requirement-specificationæ˜¯éœ€æ±‚åˆ†æé˜¶æ®µçš„æœ€åæˆæœ-æ˜¯è½¯ä»¶å¼€å‘ä¸­çš„é‡è¦æ–‡æ¡£ä¹‹ä¸€">18.4.1è½¯ä»¶éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦ (SRS,Software Requirement Specification)æ˜¯éœ€æ±‚åˆ†æé˜¶æ®µçš„æœ€åæˆæœ ,æ˜¯è½¯ä»¶å¼€å‘ä¸­çš„é‡è¦æ–‡æ¡£ä¹‹ä¸€ã€‚</span></h3><p>å®ƒå…·æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„ä½œç”¨:==â‘ ä¾¿äºç”¨æˆ·ã€å¼€å‘äººå‘˜è¿›è¡Œç†è§£å’Œäº¤æµ ;â‘¡ åæ˜ å‡ºç”¨æˆ·é—®é¢˜çš„ç»“æ„ ,å¯ä»¥ä½œä¸ºè½¯ä»¶å¼€å‘å·¥ä½œçš„åŸºç¡€å’Œä¾æ® ;â‘¢ ä½œä¸ºç¡®è®¤æµ‹è¯•å’ŒéªŒæ”¶çš„ä¾æ®==ã€‚</p>
<h3><span id="185-ç®—æ³•çš„ç‰¹å¾">18.5ã€ç®—æ³•çš„ç‰¹å¾</span></h3><p>ç®—æ³•å…·æœ‰ 5 ä¸ªç‰¹æ€§:â‘ ==æœ‰ç©·æ€§==:ä¸€ä¸ªç®—æ³•å¿…é¡»(å¯¹ä»»ä½•åˆæ³•çš„è¾“å…¥å€¼ )åœ¨æ‰§è¡Œæœ‰ç©·æ­¥ä¹‹åç»“æŸ,ä¸”æ¯ä¸€æ­¥éƒ½å¯åœ¨==æœ‰é™æ—¶é—´å†…å®Œæˆ==,å³è¿è¡Œæ—¶é—´æ˜¯æœ‰é™çš„ ;â‘¡==ç¡®å®šæ€§==:ç®—æ³•ä¸­æ¯ä¸€æ¡æŒ‡ä»¤å¿…é¡»æœ‰ç¡®åˆ‡çš„å«ä¹‰ ,è¯»è€…ç†è§£æ—¶ä¸ä¼šäº§ç”Ÿæ­§ä¹‰;â‘¢==å¯è¡Œæ€§==:ä¸€ä¸ªç®—æ³•æ˜¯å¯è¡Œçš„,å³ç®—æ³•ä¸­æè¿°çš„æ“ä½œéƒ½æ˜¯å¯ä»¥é€šè¿‡å·²ç»å®ç°çš„åŸºæœ¬è¿ç®—æ‰§è¡Œæœ‰é™æ¬¡æ¥å®ç°;â‘£ ==è¾“å…¥:ä¸€ä¸ªç®—æ³•æœ‰é›¶ä¸ªæˆ–å¤šä¸ªè¾“å…¥==,è¿™äº›è¾“å…¥å–è‡ªäºæŸä¸ªç‰¹å®šçš„å¯¹è±¡çš„é›†åˆ ;â‘¤ ==è¾“å‡º :ä¸€ä¸ªç®—æ³•æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å‡º==ã€‚</p>
<h3><span id="186-å¦‚æœè¿›æ ˆåºåˆ—ä¸º-e1e2e3e4åˆ™å¯èƒ½çš„å‡ºæ ˆåºåˆ—æ˜¯">18.6ã€å¦‚æœè¿›æ ˆåºåˆ—ä¸º e1,e2,e3,e4,åˆ™å¯èƒ½çš„å‡ºæ ˆåºåˆ—æ˜¯</span></h3><p>è¿›æ ˆä¸å‡ºæ ˆçš„è§„åˆ™æ˜¯ï¼š==åè¿›å…ˆå‡º==</p>
<p>å¯èƒ½çš„æƒ…å†µï¼še1è¿›e2è¿›e3è¿›e4è¿›ï¼Œåˆ™å‡ºçš„é¡ºåºe4/e3/e2/e1</p>
<p>e1è¿›ï¼Œe2è¿›å†å‡ºï¼Œe3è¿›å†å‡ºï¼Œe4è¿›ï¼›å‡ºçš„é¡ºåº:e2/e3/e4/e1</p>
<p>e1è¿›ï¼Œe2è¿›ï¼Œe3è¿›å†å‡ºï¼Œe4è¿›ï¼›å‡ºçš„é¡ºåºe3/e4/e2/e1</p>
<p>ç­‰ç­‰</p>
<h3><span id="187-ç»“æ„ä½“å¯¹é“¾è¡¨çš„å®šä¹‰">18.7ã€ç»“æ„ä½“å¯¹é“¾è¡¨çš„å®šä¹‰</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">struct link</span><br><span class="line">&#123;</span><br><span class="line">    int data;              &#x2F;&#x2F;æ•°æ®åŸŸ</span><br><span class="line">    struct link *next;           &#x2F;&#x2F;æŒ‡é’ˆåŸŸ</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<hr>
<h3><span id="19-åœ¨æœ€åæƒ…å†µä¸‹å¿«é€Ÿæ’åº-å†’æ³¡æ’åºå’Œç›´æ¥æ’å…¥æ’åºéœ€è¦çš„æ¯”è¾ƒæ¬¡æ•°éƒ½ä¸º-nn-12å †æ’åºéœ€è¦çš„æ¯”è¾ƒæ¬¡æ•°ä¸º-nlog2n">19ã€åœ¨æœ€åæƒ…å†µä¸‹,å¿«é€Ÿæ’åºã€å†’æ³¡æ’åºå’Œç›´æ¥æ’å…¥æ’åºéœ€è¦çš„æ¯”è¾ƒæ¬¡æ•°éƒ½ä¸º n(n-1)/2,å †æ’åºéœ€è¦çš„æ¯”è¾ƒæ¬¡æ•°ä¸º nlog2nã€‚</span></h3><hr>
<h3><span id="20-æ•°æ®çš„ç‰©ç†ç‹¬ç«‹æ€§æ˜¯æŒ‡æ•°æ®çš„ç‰©ç†ç»“æ„çš„æ”¹å˜ä¸ä¼šå½±å“æ•°æ®åº“çš„é€»è¾‘ç»“æ„">20ã€æ•°æ®çš„ç‰©ç†ç‹¬ç«‹æ€§æ˜¯æŒ‡æ•°æ®çš„ç‰©ç†ç»“æ„çš„æ”¹å˜,ä¸ä¼šå½±å“æ•°æ®åº“çš„é€»è¾‘ç»“æ„</span></h3><hr>
<h3><span id="21-å…³ç³»ä¸­çš„è¡Œç§°ä¸ºå…ƒç»„å¯¹åº”å­˜å‚¨æ–‡ä»¶ä¸­çš„è®°å½•å…³ç³»ä¸­çš„åˆ—ç§°ä¸ºå±æ€§å¯¹åº”å­˜å‚¨æ–‡ä»¶ä¸­çš„å­—æ®µ">21ã€å…³ç³»ä¸­çš„==è¡Œç§°ä¸ºå…ƒç»„==,å¯¹åº”å­˜å‚¨æ–‡ä»¶ä¸­çš„è®°å½•,å…³ç³»ä¸­çš„==åˆ—ç§°ä¸ºå±æ€§==,å¯¹åº”å­˜å‚¨æ–‡ä»¶ä¸­çš„å­—æ®µ</span></h3><hr>
<h3><span id="22-c-è¯­è¨€ä¸­-åœ¨å®šä¹‰å¹¶åˆå§‹åŒ–äºŒç»´æ•°ç»„æ—¶-å¯ä»¥çœç•¥æ•°ç»„ç¬¬ä¸€ç»´çš„é•¿åº¦-ä½†æ˜¯ä¸èƒ½çœç•¥ç¬¬äºŒç»´çš„é•¿åº¦">22ã€C è¯­è¨€ä¸­ ,åœ¨å®šä¹‰å¹¶åˆå§‹åŒ–äºŒç»´æ•°ç»„æ—¶ ,å¯ä»¥çœç•¥æ•°ç»„ç¬¬ä¸€ç»´çš„é•¿åº¦ ,ä½†æ˜¯==ä¸èƒ½çœç•¥ç¬¬äºŒç»´çš„é•¿åº¦==ã€‚</span></h3><hr>
<h3><span id="23-é¢„å¤„ç†">23ã€é¢„å¤„ç†</span></h3><p>åœ¨ç¨‹åºä¸­å‡¡æ˜¯ä»¥ â€œ#â€å¼€å§‹çš„è¯­å¥è¡Œéƒ½æ˜¯é¢„å¤„ç†å‘½ä»¤è¡Œ</p>
<p>C è¯­è¨€ä¸­çš„é¢„å¤„ç†å‘½ä»¤ä»¥ç¬¦å·#å¼€å¤´,è¿™äº›å‘½ä»¤æ˜¯åœ¨==ç¨‹åºç¼–è¯‘ä¹‹å‰è¿›è¡Œå¤„ç†çš„==</p>
<hr>
<h3><span id="24-ä½è¿ç®—">24ã€ä½è¿ç®—</span></h3><h4><span id="~-æŒ‰ä½å–å">~ æŒ‰ä½å–å</span></h4><h4><span id="ltltå·¦ç§»-gtgtå³ç§»">&lt;&lt;å·¦ç§»    &gt;&gt;å³ç§»</span></h4><p>a &lt;&lt; n</p>
<p>äºŒè¿›åˆ¶æ•°aå‘å·¦ç§»åŠ¨nä½ï¼Œå·¦è¾¹nä½èˆå»ï¼Œå³è¾¹nä½ç”¨0è¡¥é½</p>
<h4><span id="æŒ‰ä½å¼‚æˆ–">^æŒ‰ä½å¼‚æˆ–</span></h4><p>è§„åˆ™ï¼šç›¸åŒä¸º0,ä¸åŒä¸º1</p>
<p>&nbsp; 011100</p>
<p>^100111</p>
<p>&nbsp;111011</p>
<hr>
<h3><span id="25-æµ‹è¯•çš„ç›®çš„æ˜¯æš´éœ²é”™è¯¯-è¯„ä»·ç¨‹åºçš„å¯é æ€§è°ƒè¯•çš„ç›®çš„æ˜¯å‘ç°é”™è¯¯çš„ä½ç½®å¹¶æ”¹æ­£é”™è¯¯">25ã€==æµ‹è¯•==çš„ç›®çš„æ˜¯æš´éœ²é”™è¯¯ ,è¯„ä»·ç¨‹åºçš„å¯é æ€§ï¼›==è°ƒè¯•==çš„ç›®çš„æ˜¯å‘ç°é”™è¯¯çš„ä½ç½®å¹¶æ”¹æ­£é”™è¯¯</span></h3><hr>
<h3><span id="26-å½“å¾ªç¯é˜Ÿåˆ—éç©ºä¸”é˜Ÿå°¾æŒ‡é’ˆç­‰äºé˜Ÿå¤´æŒ‡é’ˆæ—¶-è¯´æ˜å¾ªç¯é˜Ÿåˆ—å·²æ»¡-ä¸èƒ½è¿›è¡Œå…¥é˜Ÿè¿ç®—-è¿™ç§æƒ…å†µç§°ä¸ºä¸Šæº¢">26ã€å½“å¾ªç¯é˜Ÿåˆ—éç©ºä¸”é˜Ÿå°¾æŒ‡é’ˆç­‰äºé˜Ÿå¤´æŒ‡é’ˆæ—¶ ,è¯´æ˜å¾ªç¯é˜Ÿåˆ—å·²æ»¡ ,ä¸èƒ½è¿›è¡Œå…¥é˜Ÿè¿ç®—ã€‚è¿™ç§æƒ…å†µç§°ä¸º==ä¸Šæº¢==</span></h3><h3><span id="27-åœ¨å…³ç³»æ¨¡å‹ä¸­-æŠŠæ•°æ®çœ‹æˆä¸€ä¸ªäºŒç»´è¡¨-æ¯ä¸€ä¸ªäºŒç»´è¡¨ç§°ä¸ºä¸€ä¸ªå…³ç³»">27ã€åœ¨å…³ç³»æ¨¡å‹ä¸­ ,æŠŠæ•°æ®çœ‹æˆä¸€ä¸ªäºŒç»´è¡¨ ,æ¯ä¸€ä¸ªäºŒç»´è¡¨ç§°ä¸ºä¸€ä¸ª==å…³ç³»==</span></h3><p>åœ¨å…³ç³»æ¨¡å‹ä¸­ ,æŠŠæ•°æ®çœ‹æˆä¸€ä¸ªäºŒç»´è¡¨ ,æ¯ä¸€ä¸ªäºŒç»´è¡¨ç§°ä¸ºä¸€ä¸ª==å…³ç³»==ã€‚è¡¨ä¸­çš„æ¯ä¸€åˆ—ç§°ä¸ºä¸€ä¸ª==å±æ€§== ,ç›¸å½“äºè®°å½•ä¸­çš„ä¸€ä¸ªæ•°æ®é¡¹ ,å¯¹å±æ€§çš„å‘½åç§°ä¸ºå±æ€§å ;è¡¨ä¸­çš„ä¸€è¡Œç§°ä¸ºä¸€ä¸ª==å…ƒç»„== ,ç›¸å½“äºè®°å½•å€¼ã€‚</p>
<hr>
<h3><span id="27-åœ¨è®¡ç®—æœºè½¯ä»¶ç³»ç»Ÿçš„ä½“ç³»ç»“æ„ä¸­-æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä½äºç”¨æˆ·å’Œæ“ä½œç³»ç»Ÿä¹‹é—´">27ã€åœ¨è®¡ç®—æœºè½¯ä»¶ç³»ç»Ÿçš„ä½“ç³»ç»“æ„ä¸­ ,æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä½äºç”¨æˆ·å’Œ==æ“ä½œç³»ç»Ÿ==ä¹‹é—´</span></h3><h3><span id="28-fseekå‡½æ•°çš„è°ƒç”¨-fseekæ–‡ä»¶æŒ‡é’ˆ-ä½ç§»é‡-èµ·å§‹ç‚¹">28ã€fseekå‡½æ•°çš„è°ƒç”¨  ==fseek(æ–‡ä»¶æŒ‡é’ˆ ,ä½ç§»é‡ ,èµ·å§‹ç‚¹)==</span></h3><p>â€œèµ·å§‹ç‚¹ â€œç”¨ 0,1 æˆ– 2 ä»£æ›¿ ,å…¶ä¸­ ,0 ä»£è¡¨ â€œæ–‡ä»¶å¼€å§‹ â€œ;1 ä¸ºâ€å½“å‰ä½ç½® â€œ;2 ä¸ºâ€æ–‡ä»¶æœ«å°¾ â€œ ã€‚ â€œä½ç§»é‡ â€œæŒ‡ä»¥ â€œèµ·å§‹ç‚¹ â€œä¸ºåŸºç‚¹ ,å‘å‰ç§»åŠ¨çš„å­—èŠ‚æ•°ã€‚ ANSI C å’Œå¤§å¤šæ•° C ç‰ˆæœ¬è¦æ±‚ä½ç§»é‡æ˜¯ long å‹æ•°æ® ,è¿™æ ·å½“æ–‡ä»¶çš„é•¿åº¦å¤§äº 64k æ—¶ä¸è‡´å‡ºç°é—®é¢˜ã€‚ ANSI Cæ ‡å‡†è§„å®šåœ¨æ•°å­—çš„æœ«å°¾åŠ ä¸€ä¸ªå­—æ¯ L,å°±è¡¨ç¤º long å‹ã€‚</p>
<h3><span id="29-æµç¨‹å›¾">29ã€æµç¨‹å›¾</span></h3><p>ç¨‹åºæµç¨‹å›¾æ˜¯äººä»¬å¯¹è§£å†³é—®é¢˜çš„æ–¹æ³•ã€æ€è·¯æˆ–ç®—æ³•çš„ä¸€ç§å›¾å½¢æ–¹å¼çš„æè¿°ã€‚å…¶ä¸­ ,==å›¾æ¡†==è¡¨ç¤ºå„ç§==æ“ä½œçš„ç±»å‹==,å›¾æ¡†ä¸­çš„==æ–‡å­—==å’Œç¬¦å·è¡¨ç¤ºæ“ä½œçš„==å†…å®¹== ;==æµç¨‹çº¿==è¡¨ç¤ºæ“ä½œçš„==å…ˆåæ¬¡åº==ã€‚å¸¦ç®­å¤´çš„çº¿æ®µåœ¨æ•°æ®æµç¨‹å›¾ä¸­è¡¨ç¤º==æ•°æ®æµ==;å¸¦ç®­å¤´çš„çº¿æ®µåœ¨ç¨‹åºæµç¨‹å›¾ä¸­è¡¨ç¤º==æ§åˆ¶æµ==ã€‚åœ¨å›¾å…ƒä¹‹é—´ç”¨å¸¦æœ‰ç®­å¤´çš„çº¿æ®µè¡¨ç¤º==å›¾å…ƒå…³ç³»==ã€‚åœ¨æ¨¡å—ä¹‹é—´ç”¨å¸¦æœ‰ç®­å¤´çš„çº¿æ®µè¡¨ç¤º==è°ƒç”¨å…³ç³»==ã€‚</p>
<hr>
<h3><span id="30-å·²çŸ¥æ•°æ®è¡¨ä¸­æ¯ä¸ªå…ƒç´ è·å…¶æœ€ç»ˆä½ç½®ä¸è¿œä¸ºèŠ‚çœæ—¶é—´åº”é‡‡ç”¨çš„ç®—æ³•æ˜¯ç›´æ¥æ’å…¥æ’åº">30ã€å·²çŸ¥æ•°æ®è¡¨ä¸­==æ¯ä¸ªå…ƒç´ è·å…¶æœ€ç»ˆä½ç½®ä¸è¿œ==ï¼Œä¸ºèŠ‚çœæ—¶é—´ï¼Œåº”é‡‡ç”¨çš„ç®—æ³•æ˜¯==ç›´æ¥æ’å…¥æ’åº==</span></h3><p>å †æ’åºçš„æ¯”è¾ƒæ¬¡æ•°ä¸ºnlog2n;ç›´æ¥æ’å…¥æ’åºçš„æ¯”è¾ƒæ¬¡æ•°ä¸ºn(n-1)/2;å¿«é€Ÿæ’åºçš„æ¯”è¾ƒæ¬¡æ•°ä¸º nlog2n</p>
<hr>
<h3><span id="31-c-è¯­è¨€çš„è¯­æ³•è§„å®š-å­—æ¯-eeä¹‹å‰å¿…é¡»æœ‰æ•°å­—-ä¸”-eeåé¢çš„æŒ‡æ•°å¿…é¡»æ˜¯æ•´æ•°">31ã€C è¯­è¨€çš„è¯­æ³•è§„å®š ,å­—æ¯ e(E)==ä¹‹å‰å¿…é¡»æœ‰æ•°å­—== ,ä¸” e(E)==åé¢çš„æŒ‡æ•°å¿…é¡»æ˜¯æ•´æ•°==</span></h3><p>3E04</p>
<p>0.2E5</p>
<hr>
<h3><span id="32-æ•°æ®ç»“æ„åˆ†ä¸ºé€»è¾‘ç»“æ„ä¸å­˜å‚¨ç»“æ„-çº¿æ€§é“¾è¡¨å±äºå­˜å‚¨ç»“æ„">32ã€æ•°æ®ç»“æ„åˆ†ä¸ºé€»è¾‘ç»“æ„ä¸å­˜å‚¨ç»“æ„ ,çº¿æ€§é“¾è¡¨å±äº==å­˜å‚¨ç»“æ„==</span></h3><p>æ•°æ®çš„é€»è¾‘ç»“æ„æ˜¯æŒ‡åæ˜ æ•°æ®å…ƒç´ ä¹‹é—´é€»è¾‘å…³ç³»çš„æ•°æ®ç»“æ„ ;æ•°æ®çš„å­˜å‚¨ç»“æ„æ˜¯æŒ‡æ•°æ®çš„é€»è¾‘ç»“æ„åœ¨è®¡ç®—æœºå­˜å‚¨ç©ºé—´ä¸­çš„å­˜æ”¾<br>å½¢å¼ã€‚åœ¨æ•°æ®çš„å­˜å‚¨ç»“æ„ä¸­ ,ä¸ä»…è¦å­˜æ”¾å„æ•°æ®å…ƒç´ çš„ä¿¡æ¯ ,è¿˜éœ€è¦å­˜æ”¾å„æ•°æ®å…ƒç´ ä¹‹é—´å‰åä»¶å…³ç³»çš„ä¿¡æ¯ã€‚</p>
<hr>
<h3><span id="33-æ•°æ®åº“è®¾è®¡åˆ†ä¸ºä»¥ä¸‹-6-ä¸ªè®¾è®¡é˜¶æ®µ-éœ€æ±‚åˆ†æé˜¶æ®µ-æ¦‚å¿µè®¾è®¡é˜¶æ®µ-é€»è¾‘è®¾è®¡é˜¶æ®µ-ç‰©ç†è®¾è®¡é˜¶æ®µ-å®æ–½é˜¶æ®µåŠæ•°æ®åº“è¿è¡Œå’Œç»´æŠ¤é˜¶æ®µ">33ã€æ•°æ®åº“è®¾è®¡åˆ†ä¸ºä»¥ä¸‹ 6 ä¸ªè®¾è®¡é˜¶æ®µ :éœ€æ±‚åˆ†æé˜¶æ®µã€æ¦‚å¿µè®¾è®¡é˜¶æ®µã€é€»è¾‘è®¾è®¡é˜¶æ®µã€ç‰©ç†è®¾è®¡é˜¶æ®µã€å®æ–½é˜¶æ®µåŠæ•°æ®åº“è¿è¡Œå’Œç»´æŠ¤é˜¶æ®µã€‚</span></h3><hr>
<h3><span id="34-getsputsfgetsæ ‡å‡†è¾“å…¥è¾“å‡º">34ã€gets();puts();fgets();æ ‡å‡†è¾“å…¥è¾“å‡º</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int name[10];</span><br><span class="line">gets(name);</span><br><span class="line">fgets(name,sizeof(name),stdin);</span><br></pre></td></tr></table></figure>
<hr>
<h3><span id="35-å­—ç¬¦æ“ä½œå‡½æ•°">35ã€å­—ç¬¦æ“ä½œå‡½æ•°</span></h3><p>strlen(str)è¿”å›å®é™…æ•°ç»„çš„é•¿åº¦</p>
<p>strcpy(str1,str2)å°†str2å¤åˆ¶åˆ°str1ï¼Œæ³¨æ„æ•°ç»„é•¿åº¦</p>
<p>strcmp(str1,str2)æ¯”è¾ƒstr1ä¸str2ï¼Œä»å·¦åˆ°å³ä»¥ASCIIç å€¼æ¯”è¾ƒï¼Œstr1&gt;str2ï¼Œè¿”å›å€¼å¤§äº1ï¼Œstr1=str2è¿”å›0ï¼Œstr1&lt;str2ï¼Œè¿”å›å€¼å°äº0</p>
<hr>
]]></content>
      <tags>
        <tag>Cè¯­è¨€</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»0å¼€å§‹çš„pythoné£æœºå¤–æ˜Ÿäººå¤§æˆ˜ (2)</title>
    <url>/2018-08-21-pygame-2.html</url>
    <content><![CDATA[<h2><span id="é‡æ„æ¨¡å—game_function-ç”±äºæ¯æ¬¡é‡æ„éƒ½éœ€è¦æ”¹alien_invasinpyåœ¨å†™ç¬”è®°æ—¶å¾ˆéº»çƒ¦æ‰€ä»¥æˆ‘è¿™å„¿å…ˆé‡æ„ä¸€äº›æœ€åç»™å‡ºalien_invasionpyçš„ä»£ç ">é‡æ„ï¼šæ¨¡å—game_Function  ç”±äºæ¯æ¬¡é‡æ„éƒ½éœ€è¦æ”¹alien_invasin.pyï¼Œåœ¨å†™ç¬”è®°æ—¶å¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘è¿™å„¿å…ˆé‡æ„ä¸€äº›ï¼Œæœ€åç»™å‡ºalien_invasion.pyçš„ä»£ç </span></h2><h3><span id="æ–°å»ºæ–‡ä»¶game_functionspy">æ–°å»ºæ–‡ä»¶ï¼šgame_Functions.py</span></h3><h3><span id="å‡½æ•°check_event">å‡½æ•°check_event()</span></h3><h3><span id="å‡½æ•°update_screen">å‡½æ•°update_screen()</span></h3><a id="more"></a>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import sys</span><br><span class="line">import pygame</span><br><span class="line"></span><br><span class="line">def check_events():</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            sys.exit</span><br><span class="line"></span><br><span class="line">def update_screen(ai_settings,screen,ship):</span><br><span class="line">    <span class="string">""</span><span class="string">"æ›´æ–°å±å¹•"</span><span class="string">""</span></span><br><span class="line">    <span class="comment"># æ¯æ¬¡å¾ªç¯éƒ½é‡ç»˜å±å¹•</span></span><br><span class="line">    screen.fill(ai_settings.bg_color)</span><br><span class="line">    ship.blitme()</span><br><span class="line">    </span><br><span class="line">    pygame.display.flip()</span><br></pre></td></tr></table></figure>
<h3><span id="å“åº”æŒ‰é”®é£èˆ¹çš„å·¦å³è¿ç»­ç§»åŠ¨">å“åº”æŒ‰é”®ï¼Œé£èˆ¹çš„å·¦å³è¿ç»­ç§»åŠ¨</span></h3><p>æˆ‘ä»¬è®©moving_rightå’Œmoving_leftæ¥å­˜å‚¨æ˜¯å¦å·¦å³ç§»åŠ¨ï¼ŒTrueå’ŒFalse;  KEYDOWNä»£è¡¨é”®è¢«æŒ‰ä½ï¼ŒKEYUPä»£è¡¨æ¾å¼€é”®ï¼› åœ¨shipç±»ä¸­åˆå§‹åŒ–moving_rightå’Œmoving_leftçš„å€¼ä¸ºFalse,å¹¶è®¾ç½®åœ¨ä¸ºTrueæ—¶çš„ç§»åŠ¨ï¼› åœ¨check_event()ä¸­åˆ™è®¾ç½®äº†åˆ¤æ–­Trueå’ŒFaleçš„ä¾æ®</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import sys</span><br><span class="line">import pygame</span><br><span class="line"></span><br><span class="line">def check_events(ship):</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">        <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">            sys.exit</span><br><span class="line">        <span class="comment">##################</span></span><br><span class="line">        <span class="keyword">elif</span> event.type == pygame.KEYDOWN:</span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_RIGHT:</span><br><span class="line">                ship.moving_right = True</span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_LEFT:</span><br><span class="line">                ship.moving_left = True</span><br><span class="line">        <span class="keyword">elif</span> event.type == pygame.KEYUP</span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_RIGHT:</span><br><span class="line">                ship.moving_right = False</span><br><span class="line">            <span class="keyword">if</span> event.key == pygame.K_LEFT:</span><br><span class="line">                ship.moving_left = False</span><br><span class="line">        <span class="comment">#########################        </span></span><br><span class="line">            </span><br><span class="line">def update_screen(ai_settings,screen,ship):</span><br><span class="line">    <span class="string">""</span><span class="string">"æ›´æ–°å±å¹•"</span><span class="string">""</span></span><br><span class="line">    <span class="comment"># æ¯æ¬¡å¾ªç¯éƒ½é‡ç»˜å±å¹•</span></span><br><span class="line">    screen.fill(ai_settings.bg_color)</span><br><span class="line">    ship.blitme()</span><br><span class="line">    </span><br><span class="line">    pygame.display.flip()</span><br></pre></td></tr></table></figure>
<h3><span id="shipç±»ä¸­çš„æ›´æ”¹">shipç±»ä¸­çš„æ›´æ”¹</span></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import pygame</span><br><span class="line">class Ship():</span><br><span class="line">    def __init__(self,screen):</span><br><span class="line">        <span class="string">""</span><span class="string">"åˆå§‹åŒ–é£èˆ¹ï¼Œè®¾ç½®å®ƒçš„ä½ç½®"</span><span class="string">""</span></span><br><span class="line">        <span class="comment"># è®¾ç½®screenå±æ€§</span></span><br><span class="line">        self.screen = screen</span><br><span class="line">        <span class="comment"># åŠ è½½é£èˆ¹å›¾ç‰‡</span></span><br><span class="line">        self.image = pygame.image.load(<span class="string">'images/ship.bmp'</span>)</span><br><span class="line">        <span class="comment"># è·å–å›¾ç‰‡å¤–æ¥çŸ©å½¢å’Œå±å¹•çŸ©å½¢</span></span><br><span class="line">        self.rect = self.image.get_rect()</span><br><span class="line">        self.screen_rect = self.screen.get_rect()</span><br><span class="line">    </span><br><span class="line">        <span class="comment"># å°†é£èˆ¹çš„ä½ç½®æ”¾åœ¨å±å¹•åº•éƒ¨ä¸­å¤®</span></span><br><span class="line">        self.rect.centerx = self.screen_rect.centerx</span><br><span class="line">        self.rect.bottom = self.screen_rect.bottom</span><br><span class="line">     <span class="comment">########   </span></span><br><span class="line">        self.moving_right = False</span><br><span class="line">        self.moving_left = False</span><br><span class="line">    def update(self):</span><br><span class="line">        <span class="keyword">if</span> self.moving_right:</span><br><span class="line">            self.rect.centerx += 1</span><br><span class="line">        <span class="keyword">if</span> self.moving_left:</span><br><span class="line">            self.rect.centerx -= 1</span><br><span class="line">    <span class="comment">################</span></span><br><span class="line">    <span class="comment"># æŒ‰æŒ‡å®šçš„ä½ç½®ç»˜åˆ¶é£èˆ¹</span></span><br><span class="line">    def blitme(self):</span><br><span class="line">        self.screen.blit(self.image,self.rect)</span><br></pre></td></tr></table></figure>
<h3><span id="alien_invasionpyçš„æ›´æ”¹">alien_invasion.pyçš„æ›´æ”¹</span></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import sys</span><br><span class="line">import pygame</span><br><span class="line"><span class="comment"># å¯¼å…¥ç±»</span></span><br><span class="line">from settings import Settings</span><br><span class="line">from ship import Ship</span><br><span class="line"><span class="comment">##</span></span><br><span class="line">import game_Functions as gf</span><br><span class="line"><span class="comment">##</span></span><br><span class="line">def run_game():</span><br><span class="line">    pygame.init()</span><br><span class="line">    <span class="comment"># å°†Settingsç±»ä¸­å±æ€§å­˜å‚¨åœ¨ai_settingsä¸­</span></span><br><span class="line">    ai_settings = Settings()</span><br><span class="line">    <span class="comment"># è°ƒç”¨ç±»ä¸­å±æ€§</span></span><br><span class="line">    screen = pygame.display.set_mode((ai_settings.screen_width,ai_settings.screen_height))</span><br><span class="line">    pygame.display.caption(<span class="string">"Alien Invasion"</span>)</span><br><span class="line">    <span class="comment"># åˆ›å»ºé£èˆ¹</span></span><br><span class="line">    ship = Ship(screen)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> True:</span><br><span class="line">        <span class="comment">#########</span></span><br><span class="line">        gf.check_event(ship)</span><br><span class="line">        ship.update()</span><br><span class="line">        <span class="comment">##</span></span><br><span class="line">        gf.update_screen(ai_settings,screen,ship)</span><br><span class="line">        </span><br><span class="line">       </span><br><span class="line">run_game()</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>pygame</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»0å¼€å§‹çš„pythoné£æœºå¤–æ˜Ÿäººå¤§æˆ˜ (1)</title>
    <url>/2018-08-20-pygame-1.html</url>
    <content><![CDATA[<p>ç”±äºå­¦äº†å‡ å¤©pythonçš„åŸºç¡€çŸ¥è¯†ï¼Œæ„è¯†åˆ°pythonä½œä¸ºä¸€é—¨è¯­è¨€ï¼Œå®ƒçš„è¯­æ³•çš„ç®€å•ï¼Œä¸¥æ ¼çš„æ ¼å¼ï¼›â€¦â€¦è¿™é‡Œæ˜¯ä½œä¸ºä¸€ä¸ªèœé¸¡ï¼Œå¼€å§‹å†™çš„ï¼ˆæŠ„çš„ï¼‰ä¸€ä¸ªç»å…¸çš„å®æˆ˜ï¼šé£æœºå¤§æˆ˜</p>
<p>ä¸‹é¢æˆ‘ä»¬å¼€å§‹ã€‚</p>
<h2><span id="ç¯å¢ƒè¯´æ˜">ç¯å¢ƒè¯´æ˜</span></h2><p>æœ¬æ–‡ä½¿ç”¨çš„æ˜¯python3 + pycharm</p>
<h2><span id="åˆ›å»ºé¡¹ç›®æ–‡ä»¶">åˆ›å»ºé¡¹ç›®æ–‡ä»¶</span></h2><p>åˆ›å»ºæ–‡ä»¶ï¼šalien_invasion,åé¢åˆ›å»ºçš„pyæ–‡ä»¶éƒ½æ”¾åœ¨è¿™ä¸ªæ–‡ä»¶ä¸‹</p>
<h2><span id="å®‰è£…pygameåŒ…">å®‰è£…pygameåŒ…</span></h2><p>åœ¨pycharmä¸­ï¼Œfileâ€“&gt;Default settingsâ€“&gt;Project Interpreter(é¡¹ç›®è§£é‡Šå™¨)â€“&gt;å³è¾¹çš„+å·â€“&gt;æœç´¢pygameâ€“&gt;install</p>
<a id="more"></a>

<h2><span id="æ–°å»ºalien_invasionpyæ–‡ä»¶åˆ›å»ºpygameçª—å£ä»¥åŠå“åº”ç”¨æˆ·è¾“å…¥">æ–°å»ºalien_invasion.pyæ–‡ä»¶ï¼›åˆ›å»ºpygameçª—å£ä»¥åŠå“åº”ç”¨æˆ·è¾“å…¥</span></h2> <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import sys</span><br><span class="line">import pygame</span><br><span class="line">def run_game():</span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–</span></span><br><span class="line">    pygame.init()</span><br><span class="line">    <span class="comment"># ç»˜åˆ¶å±å¹•</span></span><br><span class="line">    screen = pygame.display.set_mode((1200,800))</span><br><span class="line">    <span class="comment"># è®¾ç½®å±å¹•æ ‡é¢˜</span></span><br><span class="line">    pygame.display.set_caption(<span class="string">"Alien Invasion"</span>)</span><br><span class="line">    <span class="comment"># æ¸¸æˆä¸»å‡½æ•°</span></span><br><span class="line">    <span class="keyword">while</span> True:</span><br><span class="line">        <span class="comment"># è·å–é”®ç›˜é¼ æ ‡è¾“å…¥ï¼Œè®¾ç½®é€€å‡º</span></span><br><span class="line">        <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">            <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">                sys.exit()</span><br><span class="line">        <span class="comment"># è®©ç»˜åˆ¶å±å¹•å¯è§</span></span><br><span class="line">        pygame.display.flip()</span><br><span class="line">run_game()</span><br></pre></td></tr></table></figure>
<h2><span id="åŠ å…¥èƒŒæ™¯é¢œè‰²">åŠ å…¥èƒŒæ™¯é¢œè‰²</span></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">pygame.display.set_caption(<span class="string">"Alien Invasion"</span>)</span><br><span class="line"><span class="comment"># è®¾ç½®èƒŒæ™¯è‰²ï¼ŒRGB</span></span><br><span class="line">bg_color = (230,230,230)</span><br><span class="line"><span class="keyword">while</span> True:</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment"># æ¯æ¬¡å¾ªç¯éƒ½é‡ç»˜å±å¹•</span></span><br><span class="line">    screen.fill(bg_color)</span><br><span class="line">    pygame.display.flip()</span><br><span class="line">run_game()</span><br></pre></td></tr></table></figure>
<h2><span id="åˆ›å»ºä¸€ä¸ªè®¾ç½®çš„ç±»">åˆ›å»ºä¸€ä¸ªè®¾ç½®çš„ç±»</span></h2><p>æ–°å»ºä¸€ä¸ªsettings.py</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">class Settings():</span><br><span class="line">    <span class="string">""</span><span class="string">"å­˜å‚¨å¤–æ˜Ÿäººå…¥ä¾µæ‰€æœ‰è®¾ç½®çš„ç±»"</span><span class="string">""</span></span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.screen_width = 1200</span><br><span class="line">        self.screen_heught = 800</span><br><span class="line">        self.bg_corlor = (230,230,230)</span><br></pre></td></tr></table></figure>
<h2><span id="æ›´æ”¹alien_invasionpyå‚æ•°å®Œæ•´ä»£ç å¦‚ä¸‹">æ›´æ”¹alien_invasion.pyå‚æ•°ï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹</span></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import sys</span><br><span class="line">import pygame</span><br><span class="line"><span class="comment"># å¯¼å…¥ç±»</span></span><br><span class="line">from settings import Settings</span><br><span class="line">def run_game():</span><br><span class="line">    pygame.init()</span><br><span class="line">    <span class="comment"># å°†Settingsç±»ä¸­å±æ€§å­˜å‚¨åœ¨ai_settingsä¸­</span></span><br><span class="line">    ai_settings = Settings()</span><br><span class="line">    <span class="comment"># è°ƒç”¨ç±»ä¸­å±æ€§</span></span><br><span class="line">    screen = pygame.display.set_mode((ai_settings.screen_width,ai_settings.screen_height))</span><br><span class="line">    pygame.display.caption(<span class="string">"Alien Invasion"</span>)</span><br><span class="line">    <span class="keyword">while</span> True:</span><br><span class="line">        <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">            <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">                sys.exit()</span><br><span class="line">        screen.fill(ai_settings.bg_color)</span><br><span class="line">        pygame.display.flip()</span><br><span class="line">run_game()</span><br></pre></td></tr></table></figure>
<h2><span id="ä¸‹è½½é£èˆ¹å›¾ç‰‡å»ºç«‹shippyæ„å»ºshipç±»">ä¸‹è½½é£èˆ¹å›¾ç‰‡ï¼Œå»ºç«‹ship.pyï¼Œæ„å»ºShipç±»</span></h2><p>åœ¨alien_invasionä¸‹æ–°å»ºæ–‡ä»¶å¤¹imagesï¼Œå°†å›¾ç‰‡æ”¾åœ¨å…¶ä¸‹ï¼ˆå›¾ç‰‡ä¸ºä½å›¾æ ¼å¼ï¼Œå› ä¸ºpythonèƒ½è¯†åˆ«ä½å›¾ï¼Œå…¶ä»–æ ¼å¼éœ€è¦å®‰è£…åŒ…ï¼‰</p>
<p>ship.py</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import pygame</span><br><span class="line">class Ship():</span><br><span class="line">    def __init__(self,screen):</span><br><span class="line">        <span class="string">""</span><span class="string">"åˆå§‹åŒ–é£èˆ¹ï¼Œè®¾ç½®å®ƒçš„ä½ç½®"</span><span class="string">""</span></span><br><span class="line">        <span class="comment"># è®¾ç½®screenå±æ€§</span></span><br><span class="line">        self.screen = screen</span><br><span class="line">        <span class="comment"># åŠ è½½é£èˆ¹å›¾ç‰‡</span></span><br><span class="line">        self.image = pygame.image.load(<span class="string">'images/ship.bmp'</span>)</span><br><span class="line">        <span class="comment"># è·å–å›¾ç‰‡å¤–æ¥çŸ©å½¢å’Œå±å¹•çŸ©å½¢</span></span><br><span class="line">        self.rect = self.image.get_rect()</span><br><span class="line">        self.screen_rect = self.screen.get_rect()</span><br><span class="line">    </span><br><span class="line">        <span class="comment"># å°†é£èˆ¹çš„ä½ç½®æ”¾åœ¨å±å¹•åº•éƒ¨ä¸­å¤®</span></span><br><span class="line">        self.rect.centerx = self.screen_rect.centerx</span><br><span class="line">        self.rect.bottom = self.screen_rect.bottom</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æŒ‰æŒ‡å®šçš„ä½ç½®ç»˜åˆ¶é£èˆ¹</span></span><br><span class="line">    def blitme(self):</span><br><span class="line">        self.screen.blit(self.image,self.rect)</span><br></pre></td></tr></table></figure>
<h2><span id="åœ¨alien_invasionpyä¸­å¼•ç”¨shipç±»æ¥åˆ›å»ºé£èˆ¹">åœ¨alien_invasion.pyä¸­å¼•ç”¨Shipç±»æ¥åˆ›å»ºé£èˆ¹</span></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import sys</span><br><span class="line">import pygame</span><br><span class="line"><span class="comment"># å¯¼å…¥ç±»</span></span><br><span class="line">from settings import Settings</span><br><span class="line">from ship import Ship</span><br><span class="line">def run_game():</span><br><span class="line">    pygame.init()</span><br><span class="line">    <span class="comment"># å°†Settingsç±»ä¸­å±æ€§å­˜å‚¨åœ¨ai_settingsä¸­</span></span><br><span class="line">    ai_settings = Settings()</span><br><span class="line">    <span class="comment"># è°ƒç”¨ç±»ä¸­å±æ€§</span></span><br><span class="line">    screen = pygame.display.set_mode((ai_settings.screen_width,ai_settings.screen_height))</span><br><span class="line">    pygame.display.caption(<span class="string">"Alien Invasion"</span>)</span><br><span class="line">    <span class="comment"># åˆ›å»ºé£èˆ¹</span></span><br><span class="line">    ship = Ship(screen)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> True:</span><br><span class="line">        <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">            <span class="keyword">if</span> event.type == pygame.QUIT:</span><br><span class="line">                sys.exit()</span><br><span class="line">        screen.fill(ai_settings.bg_color)</span><br><span class="line">        </span><br><span class="line">        ship.blitme()</span><br><span class="line">        </span><br><span class="line">        pygame.display.flip()</span><br><span class="line">run_game()</span><br></pre></td></tr></table></figure>



]]></content>
      <tags>
        <tag>pygame</tag>
      </tags>
  </entry>
  <entry>
    <title>pythonä¸­çš„è¿ç®—ç¬¦</title>
    <url>/2018-08-10-python-2.html</url>
    <content><![CDATA[<p>pythonè‡ªå­¦ç¬¬äºŒèŠ‚<br>è¿ç®—ç¬¦</p>
<h2><span id="pythonä¸­çš„è¿ç®—ç¬¦">pythonä¸­çš„è¿ç®—ç¬¦</span></h2><h3><span id="1-ç®—æ•°è¿ç®—ç¬¦">1ã€ç®—æ•°è¿ç®—ç¬¦</span></h3><ul>
<li>+</li>
<li>-</li>
<li>*</li>
<li>/</li>
<li>//åœ°æ¿é™¤,å¾—åˆ°æ•´çš„ç»“æœï¼šå¦‚ï¼š4   8   9.0  â€¦.</li>
<li>% å–ä½™</li>
<li>** æŒ‡æ•°å¹‚</li>
</ul>
<a id="more"></a>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">5.0</span></span><br><span class="line">a/<span class="number">4</span></span><br></pre></td></tr></table></figure>




<pre><code>1.25</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">5</span></span><br><span class="line">a/<span class="number">4</span></span><br></pre></td></tr></table></figure>




<pre><code>1.25</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">5</span></span><br><span class="line">a/<span class="number">3</span></span><br></pre></td></tr></table></figure>




<pre><code>1.6666666666666667</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¾—åˆ°ç»“æœä¸ºæ•´ï¼</span></span><br><span class="line">a = <span class="number">22</span></span><br><span class="line">a // <span class="number">2</span></span><br></pre></td></tr></table></figure>




<pre><code>11</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">22.9</span></span><br><span class="line">a // <span class="number">2</span></span><br></pre></td></tr></table></figure>




<pre><code>11.0</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">17</span></span><br><span class="line">a // <span class="number">3</span></span><br></pre></td></tr></table></figure>




<pre><code>5</code></pre><ul>
<li>** æŒ‡æ•°å¹‚</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="number">4</span> ** <span class="number">4</span></span><br></pre></td></tr></table></figure>




<pre><code>256</code></pre><h3><span id="ç®—æ•°è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§">ç®—æ•°è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§</span></h3><ul>
<li>ï¼ˆï¼‰</li>
<li>**</li>
<li>/ *   //  %</li>
<li>+,-</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="number">5</span> + <span class="number">4</span> ** <span class="number">2</span> - <span class="number">7</span> // <span class="number">4</span> - (<span class="number">5</span> % <span class="number">2</span>)</span><br></pre></td></tr></table></figure>




<pre><code>19</code></pre><h3><span id="è¿ç®—ä¸­å‡ºç°æµ®ç‚¹æ•°ç»“æœä¸€å®šæ˜¯æµ®ç‚¹æ•°">è¿ç®—ä¸­å‡ºç°æµ®ç‚¹æ•°ï¼Œç»“æœä¸€å®šæ˜¯æµ®ç‚¹æ•°</span></h3><h3><span id="è¿ç®—å°ç»ƒä¹ ">è¿ç®—å°ç»ƒä¹ </span></h3><ul>
<li>æ‘„æ°åº¦ã€åæ°æ¸©åº¦ã€å¼€æ°æ¸©åº¦çš„è½¬æ¢</li>
<li>æ‘„æ°åº¦=5.0/9.0*(åæ°æ¸©åº¦ - 32)</li>
<li>å¼€æ°æ¸©åº¦=5.0/9.0*(åæ°æ¸©åº¦ - 32) + 273.15</li>
<li>ä»Šå¤©32æ‘„æ°åº¦ï¼Œæ±‚åæ°æ¸©åº¦ï¼Œå¼€æ°æ¸©åº¦</li>
<li>åæ°æ¸©åº¦=æ‘„æ°åº¦*9.0/5.0+32</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="number">32</span></span><br><span class="line">h = s*<span class="number">9.0</span>/<span class="number">5.0</span>+<span class="number">32</span></span><br><span class="line">k = <span class="number">5.0</span>/<span class="number">9.0</span>*(h - <span class="number">32</span>) + <span class="number">273.15</span></span><br><span class="line">print(<span class="string">"åæ°æ¸©åº¦h: %f"</span> % h)</span><br><span class="line">print(<span class="string">"å¼€æ°æ¸©åº¦k: %f"</span> % k)</span><br></pre></td></tr></table></figure>

<pre><code>åæ°æ¸©åº¦h: 89.600000
å¼€æ°æ¸©åº¦k: 305.150000</code></pre><h3><span id="2-èµ‹å€¼è¿ç®—ç¬¦">2ã€èµ‹å€¼è¿ç®—ç¬¦</span></h3><ul>
<li>=ï¼Œ+=ï¼Œ-=,*=,/=</li>
<li>** = ,//=</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">3</span></span><br><span class="line">a **= <span class="number">6</span></span><br><span class="line">b = <span class="number">4</span></span><br><span class="line">b //= <span class="number">3</span></span><br><span class="line">print(a)</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>

<pre><code>729
1</code></pre><ul>
<li>æ‰¹é‡èµ‹å€¼</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a,b,c = <span class="number">100</span>,<span class="number">234</span>,<span class="number">456</span></span><br><span class="line">print(<span class="string">"%d\n%d\n%d"</span> %(a,b,c))</span><br></pre></td></tr></table></figure>

<pre><code>100
234
456</code></pre><ul>
<li>æ•°å€¼äº¤æ¢</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a,b = <span class="number">123</span>,<span class="number">456</span></span><br><span class="line">a,b = b,a</span><br><span class="line">print(<span class="string">"%d\n%d"</span> %(a,b))</span><br></pre></td></tr></table></figure>

<pre><code>456
123</code></pre><h4><span id="æ•°å€¼è¿ç®—ç»ƒä¹ ">æ•°å€¼è¿ç®—ç»ƒä¹ </span></h4><ul>
<li>(1)æ±‚r=6.6cmçš„çƒçš„ä½“ç§¯å’Œé¢ç§¯</li>
<li>é¢ç§¯s=4<em>pi</em>r^2</li>
<li>ä½“ç§¯v=4/3<em>pi</em>r^3</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pi = <span class="number">3.1415926</span></span><br><span class="line">r = <span class="number">6.6</span></span><br><span class="line">s = <span class="number">4</span>*pi*r**<span class="number">2</span></span><br><span class="line">v = <span class="number">4</span>/<span class="number">3</span>*pi*r**<span class="number">3</span></span><br><span class="line">print(<span class="string">"é¢ç§¯ä¸º%f;ä½“ç§¯ä¸º%f"</span> % (s,v))</span><br></pre></td></tr></table></figure>

<pre><code>é¢ç§¯ä¸º547.391095;ä½“ç§¯ä¸º1204.260408</code></pre><ul>
<li>(2)æ±‚å½“å‰æ—¶é—´<ul>
<li>ä»7ï¼š00ï¼š00å¼€å§‹å·²ç»è¿‡å»476589sï¼Œæ±‚ç°åœ¨çš„æ—¶é—´</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">startTime = <span class="number">7</span></span><br><span class="line">doneTimeS = <span class="number">476589</span></span><br><span class="line">minute = doneTimeS//<span class="number">60</span></span><br><span class="line">S = doneTimeS%<span class="number">60</span></span><br><span class="line">Time = minute//<span class="number">60</span></span><br><span class="line">M = minute%<span class="number">60</span></span><br><span class="line">nowTime = (startTime + Time)//<span class="number">24</span></span><br><span class="line">print(<span class="string">"ç°åœ¨çš„æ—¶é—´ï¼š%02d:%02d:%02d"</span> % (nowTime,M,S))</span><br></pre></td></tr></table></figure>

<pre><code>ç°åœ¨çš„æ—¶é—´ï¼š05:23:09</code></pre><h3><span id="3-æ¯”è¾ƒè¿ç®—ç¬¦">3ã€æ¯”è¾ƒè¿ç®—ç¬¦</span></h3><ul>
<li>&lt; &gt; &lt;= &gt;= == !=</li>
<li>æ¯”è¾ƒçš„ç»“æœæ˜¯boolå€¼</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">5</span> &gt; <span class="number">1</span></span><br><span class="line">a</span><br></pre></td></tr></table></figure>




<pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">6</span> != <span class="number">6</span></span><br><span class="line">a</span><br></pre></td></tr></table></figure>




<pre><code>False</code></pre><h3><span id="4-é€»è¾‘è¿ç®—ç¬¦">4ã€é€»è¾‘è¿ç®—ç¬¦</span></h3><ul>
<li><p>andé€»è¾‘ä¸,çŸ­è·¯ä¸</p>
</li>
<li><p>or é€»è¾‘æˆ–</p>
</li>
<li><p>not é€»è¾‘é</p>
</li>
<li><p>andä»å·¦å¾€å³è¿ç®—å€¼æ—¶ï¼Œéƒ½ä¸ºçœŸåˆ™è¿”å›æœ€åä¸€ä¸ªå€¼</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">1</span> <span class="keyword">and</span> <span class="number">2</span></span><br><span class="line">a</span><br></pre></td></tr></table></figure>




<pre><code>2</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">6</span> <span class="keyword">and</span> <span class="number">1</span> <span class="keyword">and</span> <span class="number">1111</span></span><br><span class="line">a</span><br></pre></td></tr></table></figure>




<pre><code>1111</code></pre><ul>
<li>oråªè¦ç¬¬ä¸€ä¸ªå€¼ä¸ºçœŸï¼Œå°±ç›´æ¥è¿”å›ç¬¬ä¸€ä¸ªå€¼</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="number">111</span> <span class="keyword">or</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>




<pre><code>111</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">2</span></span><br><span class="line">b = <span class="number">9</span></span><br><span class="line">a &gt; b <span class="keyword">and</span> a</span><br></pre></td></tr></table></figure>




<pre><code>False</code></pre><h3><span id="5-ç‰¹æ®Šè¿ç®—ç¬¦">5ã€ç‰¹æ®Šè¿ç®—ç¬¦</span></h3><ul>
<li><p>is åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸åŒ</p>
</li>
<li><p>is not ä¸isç›¸å</p>
</li>
<li><p>del åˆ é™¤æŸä¸ªå¯¹è±¡ï¼Œè§£é™¤å¯¹è±¡çš„ç»‘å®šå€¼ï¼Œå¯èƒ½é‡Šæ”¾æ‰å®ƒçš„å†…å­˜ï¼ˆè§†æƒ…å†µï¼‰</p>
</li>
<li><p>åœ¨pythonä¸­ï¼Œå¯¹äºä¸€äº›åˆçº§çš„ï¼Œå¸¸ç”¨çš„å¯¹è±¡ï¼Œæ— è®ºæŠŠå®ƒèµ‹å€¼ç»™å‡ ä¸ªå˜é‡ï¼Œå®ƒä¼šè¢«å­˜å‚¨åœ¨ç›¸åŒçš„å†…å­˜ä¸­ï¼›è€Œå…¶ä»–æ‰ä¼šé‡æ–°å¼€è¾Ÿå†…å­˜å­˜å‚¨</p>
</li>
<li><p>ä¾‹å­å¦‚ä¸‹</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">1</span></span><br><span class="line">a <span class="keyword">is</span> b</span><br></pre></td></tr></table></figure>




<pre><code>True</code></pre><ul>
<li>æŸ¥çœ‹åœ°å€ç”¨  id()</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">1</span></span><br><span class="line">a <span class="keyword">is</span> b</span><br></pre></td></tr></table></figure>




<pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">id(a)</span><br></pre></td></tr></table></figure>




<pre><code>2012965952</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">id(b)</span><br></pre></td></tr></table></figure>




<pre><code>2012965952</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">c = <span class="number">456</span></span><br><span class="line">d = <span class="number">456</span></span><br><span class="line">c <span class="keyword">is</span> d</span><br></pre></td></tr></table></figure>




<pre><code>False</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">id(c)</span><br></pre></td></tr></table></figure>




<pre><code>2069301952784</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">id(d)</span><br></pre></td></tr></table></figure>




<pre><code>2069301953168</code></pre><ul>
<li>del</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">em = <span class="number">678</span></span><br><span class="line"><span class="comment"># åˆ é™¤em</span></span><br><span class="line"><span class="keyword">del</span> em</span><br><span class="line">id(em)</span><br></pre></td></tr></table></figure>


<pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-34-aa4fc6229635&gt; in &lt;module&gt;()
      2 # åˆ é™¤em
      3 del em
----&gt; 4 id(em)


NameError: name &apos;em&apos; is not defined</code></pre>]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>pythonæ•°æ®ç±»å‹</title>
    <url>/2018-08-10-python-1.html</url>
    <content><![CDATA[<p>pythonè‡ªå­¦ç¬¬ä¸€èŠ‚<br>æ•°æ®ç±»å‹</p>
<a id="more"></a>

<h1><span id="pythonæ•°æ®ç±»å‹">pythonæ•°æ®ç±»å‹</span></h1><h2><span id="1-æ•°å­—ç±»å‹">1 æ•°å­—ç±»å‹</span></h2><p>å¸¸é‡æ•°å­—</p>
<p> æ•°å­—ç±»å‹  |  æ•°å­—ä¸¾ä¾‹</p>
<p> â€”â€”â€”â€”â€“| â€”â€”â€”â€”â€”â€“</p>
<p> åè¿›åˆ¶æ•´æ•° |  222ï¼Œ 666</p>
<p> æµ®ç‚¹æ•°     |  0.8765ï¼Œ 4e-12</p>
<p> å¤æ•°       |  4+5j</p>
<p> äºŒè¿›åˆ¶ï¼ˆ0bå¼€å¤´ï¼‰| 0b1001</p>
<p> åå…­è¿›åˆ¶ï¼ˆ0xå¼€å¤´ï¼‰| 0xfec</p>
<p> å…«è¿›åˆ¶ï¼ˆ0oå¼€å¤´ï¼‰| 0o432</p>
<pre><code>-è¡¥å……ï¼Œå…«è¿›åˆ¶åœ¨python2.xä¸­å¯ä»¥ä»¥0å¼€å¤´ï¼Œè€Œåœ¨python3ä¸­åªèƒ½0oå¼€å¤´</code></pre><p>æ•´æ•°</p>
<p>æµ®ç‚¹æ•°</p>
<p>å¤æ•°</p>
<p>boolä½œä¸ºæ•°å­—ä½¿ç”¨</p>
<!--more-->

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 0bäºŒè¿›åˆ¶</span></span><br><span class="line">a = <span class="number">0b101</span></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>

<pre><code>5</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åå…­è¿›åˆ¶</span></span><br><span class="line">a = <span class="number">0xfbe</span></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>

<pre><code>4030</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…«è¿›åˆ¶</span></span><br><span class="line">a = <span class="number">0o776</span></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>

<pre><code>510</code></pre><h3><span id="1æ•´æ•°">(1)æ•´æ•°</span></h3><p>å¯ä»¥è¡¨ç¤ºä»»ä½•å¤§çš„æ•°</p>
<p>  -äºŒè¿›åˆ¶</p>
<p>  -å…«è¿›åˆ¶</p>
<p>  -åå…­è¿›åˆ¶</p>
<h4><span id="è¿›åˆ¶ä¹‹é—´çš„è½¬æ¢">è¿›åˆ¶ä¹‹é—´çš„è½¬æ¢</span></h4><h4><span id="è½¬æ¢æˆäºŒè¿›åˆ¶">è½¬æ¢æˆäºŒè¿›åˆ¶</span></h4><pre><code>bin()</code></pre><h4><span id="è½¬æ¢ä¸ºå…«è¿›åˆ¶">è½¬æ¢ä¸ºå…«è¿›åˆ¶</span></h4><pre><code>oct()</code></pre><h4><span id="è½¬æ¢ä¸ºåå…­è¿›åˆ¶">è½¬æ¢ä¸ºåå…­è¿›åˆ¶</span></h4><pre><code>hex()</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åè¿›åˆ¶è½¬æ¢ä¸ºäºŒè¿›åˆ¶</span></span><br><span class="line">a = <span class="number">678</span></span><br><span class="line">b = bin(a)</span><br><span class="line">print(b)</span><br><span class="line"><span class="comment"># åè¿›åˆ¶è½¬æ¢ä¸ºå…«è¿›åˆ¶</span></span><br><span class="line">c = oct(a)</span><br><span class="line">print(c)</span><br><span class="line"><span class="comment"># åè¿›åˆ¶è½¬æ¢ä¸ºåå…­è¿›åˆ¶</span></span><br><span class="line">d = hex(a)</span><br><span class="line">print(d)</span><br></pre></td></tr></table></figure>

<pre><code>0b1010100110
0o1246
0x2a6</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># äºŒè¿›åˆ¶è½¬æ¢ä¸ºå…«è¿›åˆ¶</span></span><br><span class="line">a = <span class="number">0b1011</span></span><br><span class="line">b = oct(a)</span><br><span class="line">print(b)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€éªŒæ˜¯å¦æ­£ç¡®è½¬æ¢</span></span><br><span class="line">c = <span class="number">0o13</span></span><br><span class="line">print(a)</span><br><span class="line">print(c)</span><br></pre></td></tr></table></figure>

<pre><code>0o13
11
11</code></pre><h3><span id="2æµ®ç‚¹æ•°">(2)æµ®ç‚¹æ•°</span></h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å°æ•°</span></span><br><span class="line">a = <span class="number">3.456</span></span><br><span class="line">print(a)</span><br><span class="line"><span class="comment"># ç§‘å­¦è®¡æ•°æ³•</span></span><br><span class="line">b = <span class="number">3.356e9</span></span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>

<pre><code>3.456
3356000000.0</code></pre><h3><span id="3å¤æ•°">(3)å¤æ•°</span></h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®éƒ¨å’Œè™šéƒ¨</span></span><br><span class="line">a = <span class="number">55</span> + <span class="number">6j</span></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>

<pre><code>(55+6j)</code></pre><h3><span id="4bool">(4)bool</span></h3><h2><span id="2å­—ç¬¦ä¸²">2å­—ç¬¦ä¸²</span></h2><p>å•å¼•å· â€˜â€™</p>
<p>åŒå¼•å· â€œâ€</p>
<p>ä¸‰å•å¼•å· â€˜â€™â€™ â€˜â€™â€™</p>
<p>ä¸‰åŒå•å¼•å·â€â€â€ â€œâ€â€</p>
<h4><span id="å‡ ä¸ªå¼•å·è¡¨ç¤ºå­—ç¬¦ä¸²çš„åŒºåˆ«">å‡ ä¸ªå¼•å·è¡¨ç¤ºå­—ç¬¦ä¸²çš„åŒºåˆ«</span></h4><ul>
<li>å•å¼•å·å’ŒåŒå¼•å·æ²¡æœ‰åŒºåˆ«</li>
<li>ä¸‰å•å¼•å·å’Œä¸‰åŒå•å¼•å·æ²¡æœ‰åŒºåˆ«</li>
<li>ä¸‰å¼•å·å¯è¡¨ç¤ºæ¢è¡Œç±»çš„å­—ç¬¦ä¸²ï¼Œæˆ–è€…åœ¨å‡½æ•°å¼€å¤´è§£é‡Š</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="string">'''è¿™ä¸–ç•Œ</span></span><br><span class="line"><span class="string">ä¸å¯èƒ½</span></span><br><span class="line"><span class="string">æœ‰è¿™ä¹ˆç¾ä¸½'''</span></span><br><span class="line"></span><br><span class="line">print(a)</span><br><span class="line">b = <span class="string">"è¿™ä¸–ç•Œä¸å¯èƒ½æœ‰è¿™ä¹ˆç¾ä¸½"</span></span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>

<pre><code>è¿™ä¸–ç•Œ
ä¸å¯èƒ½
æœ‰è¿™ä¹ˆç¾ä¸½
è¿™ä¸–ç•Œä¸å¯èƒ½æœ‰è¿™ä¹ˆç¾ä¸½</code></pre><h4><span id="å½“å­—ç¬¦ä¸²ä¸­å‡ºç°å¼•å·çš„è¡¨ç¤ºæ–¹æ³•åŠè½¬ä¹‰å­—ç¬¦">å½“å­—ç¬¦ä¸²ä¸­å‡ºç°å¼•å·çš„è¡¨ç¤ºæ–¹æ³•åŠè½¬ä¹‰å­—ç¬¦</span></h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="string">"Let's go"</span></span><br><span class="line">b =  <span class="string">'''Let's go '''</span></span><br><span class="line">c = <span class="string">"""è¿™æ˜¯'FF' """</span></span><br><span class="line"><span class="comment">#è½¬ä¹‰å­—ç¬¦</span></span><br><span class="line">d = <span class="string">"Let\'s go"</span></span><br><span class="line">print(a)</span><br><span class="line">print(b)</span><br><span class="line">print(c)</span><br><span class="line">print(d)</span><br></pre></td></tr></table></figure>

<pre><code>Let&apos;s go
Let&apos;s go 
è¿™æ˜¯&apos;FF&apos; 
Let&apos;s go</code></pre><h3><span id="3è½¬ä¹‰å­—ç¬¦">3è½¬ä¹‰å­—ç¬¦</span></h3><ul>
<li>ä¸€äº›ä¸å¥½ç›´æ¥è¡¨ç¤ºçš„ç¬¦å·ï¼Œå¦‚å¼•å·ï¼Œæ¢è¡Œç¬¦ï¼Œåˆ¶è¡¨ç¬¦</li>
<li>å•å¼•å· &#39;</li>
<li>åŒå¼•å· &quot;</li>
<li>å“é“ƒ \a</li>
<li>æ¢è¡Œ \n</li>
<li>æ°´å¹³åˆ¶è¡¨ \t</li>
<li>å‚ç›´åˆ¶è¡¨ \v</li>
<li>å€’é€€ \b</li>
<li>ç©ºå­—ç¬¦ä¸²ï¼Œå­—ç¬¦å€¼ä¸º0 \0</li>
<li>unicode16ä½çš„åå…­è¿›åˆ¶æ•°å€¼ \uXXXX (å››ä¸ªæ•°å­—)</li>
<li>unicode32ä¸ºçš„åå…­è¿›åˆ¶æ•°å€¼ \uXXXX XXXX (å…«ä¸ªæ•°å­—)</li>
<li>å…«è¿›åˆ¶ \oXX</li>
<li>åå…­è¿›åˆ¶ \xXX (ç¬¬ä¸€ä¸ªä¸ºxï¼Œåé¢ä¸ºæ•°å­—)</li>
</ul>
<h3><span id="4-stringç±»å‹çš„api">4   stringç±»å‹çš„API</span></h3><ul>
<li>API åº”ç”¨ç¨‹åºæ¥å£<h4><span id="1ä¸€èˆ¬å‡½æ•°">ï¼ˆ1ï¼‰ä¸€èˆ¬å‡½æ•°</span></h4></li>
<li>startswith\endswith<br>åˆ¤æ–­\æ£€æŸ¥ä»¥ä»€ä¹ˆå¼€å¤´\ç»“å°¾</li>
<li>count<pre><code>-è®¡æ•°ï¼Œè®¡ç®—ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ä¸€ä¸ªå­å­—ç¬¦ä¸²å‡ºç°çš„ä¸ªæ•°</code></pre></li>
<li>find<pre><code>-æŸ¥æ‰¾ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ä¸€ä¸ªå­—ç¬¦å‡ºç°çš„ä½ç½®</code></pre></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="string">"I well well"</span></span><br><span class="line">s.startswith(<span class="string">"I"</span>)</span><br></pre></td></tr></table></figure>




<pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="string">"I well well"</span></span><br><span class="line">s.endswith(<span class="string">"l"</span>)</span><br></pre></td></tr></table></figure>




<pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="string">"I well well"</span></span><br><span class="line">s.count(<span class="string">"w"</span>)</span><br></pre></td></tr></table></figure>




<pre><code>2</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="string">"I well well"</span></span><br><span class="line">s.count(<span class="string">"l"</span>)</span><br></pre></td></tr></table></figure>




<pre><code>4</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å­—ç¬¦ä¸‹æ ‡ä»0å¼€å§‹</span></span><br><span class="line">s = <span class="string">"I well well"</span></span><br><span class="line">s.find(<span class="string">"w"</span>)</span><br></pre></td></tr></table></figure>




<pre><code>2</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="string">"I well well"</span></span><br><span class="line">s.find(<span class="string">"a"</span>)</span><br></pre></td></tr></table></figure>




<pre><code>-1</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">help(str)</span><br></pre></td></tr></table></figure>

<pre><code>Help on class str in module builtins:

class str(object)
 |  str(object=&apos;&apos;) -&gt; str
 |  str(bytes_or_buffer[, encoding[, errors]]) -&gt; str
 |  
 |  Create a new string object from the given object. If encoding or
 |  errors is specified, then the object must expose a data buffer
 |  that will be decoded using the given encoding and error handler.
 |  Otherwise, returns the result of object.__str__() (if defined)
 |  or repr(object).
 |  encoding defaults to sys.getdefaultencoding().
 |  errors defaults to &apos;strict&apos;.
 |  
 |  Methods defined here:
 |  
 |  __add__(self, value, /)
 |      Return self+value.
 |  
 |  __contains__(self, key, /)
 |      Return key in self.
 |  
 |  __eq__(self, value, /)
 |      Return self==value.
 |  
 |  __format__(...)
 |      S.__format__(format_spec) -&gt; str
 |      
 |      Return a formatted version of S as described by format_spec.
 |  
 |  __ge__(self, value, /)
 |      Return self&gt;=value.
 |  
 |  __getattribute__(self, name, /)
 |      Return getattr(self, name).
 |  
 |  __getitem__(self, key, /)
 |      Return self[key].
 |  
 |  __getnewargs__(...)
 |  
 |  __gt__(self, value, /)
 |      Return self&gt;value.
 |  
 |  __hash__(self, /)
 |      Return hash(self).
 |  
 |  __iter__(self, /)
 |      Implement iter(self).
 |  
 |  __le__(self, value, /)
 |      Return self&lt;=value.
 |  
 |  __len__(self, /)
 |      Return len(self).
 |  
 |  __lt__(self, value, /)
 |      Return self&lt;value.
 |  
 |  __mod__(self, value, /)
 |      Return self%value.
 |  
 |  __mul__(self, value, /)
 |      Return self*value.n
 |  
 |  __ne__(self, value, /)
 |      Return self!=value.
 |  
 |  __new__(*args, **kwargs) from builtins.type
 |      Create and return a new object.  See help(type) for accurate signature.
 |  
 |  __repr__(self, /)
 |      Return repr(self).
 |  
 |  __rmod__(self, value, /)
 |      Return value%self.
 |  
 |  __rmul__(self, value, /)
 |      Return self*value.
 |  
 |  __sizeof__(...)
 |      S.__sizeof__() -&gt; size of S in memory, in bytes
 |  
 |  __str__(self, /)
 |      Return str(self).
 |  
 |  capitalize(...)
 |      S.capitalize() -&gt; str
 |      
 |      Return a capitalized version of S, i.e. make the first character
 |      have upper case and the rest lower case.
 |  
 |  casefold(...)
 |      S.casefold() -&gt; str
 |      
 |      Return a version of S suitable for caseless comparisons.
 |  
 |  center(...)
 |      S.center(width[, fillchar]) -&gt; str
 |      
 |      Return S centered in a string of length width. Padding is
 |      done using the specified fill character (default is a space)
 |  
 |  count(...)
 |      S.count(sub[, start[, end]]) -&gt; int
 |      
 |      Return the number of non-overlapping occurrences of substring sub in
 |      string S[start:end].  Optional arguments start and end are
 |      interpreted as in slice notation.
 |  
 |  encode(...)
 |      S.encode(encoding=&apos;utf-8&apos;, errors=&apos;strict&apos;) -&gt; bytes
 |      
 |      Encode S using the codec registered for encoding. Default encoding
 |      is &apos;utf-8&apos;. errors may be given to set a different error
 |      handling scheme. Default is &apos;strict&apos; meaning that encoding errors raise
 |      a UnicodeEncodeError. Other possible values are &apos;ignore&apos;, &apos;replace&apos; and
 |      &apos;xmlcharrefreplace&apos; as well as any other name registered with
 |      codecs.register_error that can handle UnicodeEncodeErrors.
 |  
 |  endswith(...)
 |      S.endswith(suffix[, start[, end]]) -&gt; bool
 |      
 |      Return True if S ends with the specified suffix, False otherwise.
 |      With optional start, test S beginning at that position.
 |      With optional end, stop comparing S at that position.
 |      suffix can also be a tuple of strings to try.
 |  
 |  expandtabs(...)
 |      S.expandtabs(tabsize=8) -&gt; str
 |      
 |      Return a copy of S where all tab characters are expanded using spaces.
 |      If tabsize is not given, a tab size of 8 characters is assumed.
 |  
 |  find(...)
 |      S.find(sub[, start[, end]]) -&gt; int
 |      
 |      Return the lowest index in S where substring sub is found,
 |      such that sub is contained within S[start:end].  Optional
 |      arguments start and end are interpreted as in slice notation.
 |      
 |      Return -1 on failure.
 |  
 |  format(...)
 |      S.format(*args, **kwargs) -&gt; str
 |      
 |      Return a formatted version of S, using substitutions from args and kwargs.
 |      The substitutions are identified by braces (&apos;{&apos; and &apos;}&apos;).
 |  
 |  format_map(...)
 |      S.format_map(mapping) -&gt; str
 |      
 |      Return a formatted version of S, using substitutions from mapping.
 |      The substitutions are identified by braces (&apos;{&apos; and &apos;}&apos;).
 |  
 |  index(...)
 |      S.index(sub[, start[, end]]) -&gt; int
 |      
 |      Return the lowest index in S where substring sub is found, 
 |      such that sub is contained within S[start:end].  Optional
 |      arguments start and end are interpreted as in slice notation.
 |      
 |      Raises ValueError when the substring is not found.
 |  
 |  isalnum(...)
 |      S.isalnum() -&gt; bool
 |      
 |      Return True if all characters in S are alphanumeric
 |      and there is at least one character in S, False otherwise.
 |  
 |  isalpha(...)
 |      S.isalpha() -&gt; bool
 |      
 |      Return True if all characters in S are alphabetic
 |      and there is at least one character in S, False otherwise.
 |  
 |  isdecimal(...)
 |      S.isdecimal() -&gt; bool
 |      
 |      Return True if there are only decimal characters in S,
 |      False otherwise.
 |  
 |  isdigit(...)
 |      S.isdigit() -&gt; bool
 |      
 |      Return True if all characters in S are digits
 |      and there is at least one character in S, False otherwise.
 |  
 |  isidentifier(...)
 |      S.isidentifier() -&gt; bool
 |      
 |      Return True if S is a valid identifier according
 |      to the language definition.
 |      
 |      Use keyword.iskeyword() to test for reserved identifiers
 |      such as &quot;def&quot; and &quot;class&quot;.
 |  
 |  islower(...)
 |      S.islower() -&gt; bool
 |      
 |      Return True if all cased characters in S are lowercase and there is
 |      at least one cased character in S, False otherwise.
 |  
 |  isnumeric(...)
 |      S.isnumeric() -&gt; bool
 |      
 |      Return True if there are only numeric characters in S,
 |      False otherwise.
 |  
 |  isprintable(...)
 |      S.isprintable() -&gt; bool
 |      
 |      Return True if all characters in S are considered
 |      printable in repr() or S is empty, False otherwise.
 |  
 |  isspace(...)
 |      S.isspace() -&gt; bool
 |      
 |      Return True if all characters in S are whitespace
 |      and there is at least one character in S, False otherwise.
 |  
 |  istitle(...)
 |      S.istitle() -&gt; bool
 |      
 |      Return True if S is a titlecased string and there is at least one
 |      character in S, i.e. upper- and titlecase characters may only
 |      follow uncased characters and lowercase characters only cased ones.
 |      Return False otherwise.
 |  
 |  isupper(...)
 |      S.isupper() -&gt; bool
 |      
 |      Return True if all cased characters in S are uppercase and there is
 |      at least one cased character in S, False otherwise.
 |  
 |  join(...)
 |      S.join(iterable) -&gt; str
 |      
 |      Return a string which is the concatenation of the strings in the
 |      iterable.  The separator between elements is S.
 |  
 |  ljust(...)
 |      S.ljust(width[, fillchar]) -&gt; str
 |      
 |      Return S left-justified in a Unicode string of length width. Padding is
 |      done using the specified fill character (default is a space).
 |  
 |  lower(...)
 |      S.lower() -&gt; str
 |      
 |      Return a copy of the string S converted to lowercase.
 |  
 |  lstrip(...)
 |      S.lstrip([chars]) -&gt; str
 |      
 |      Return a copy of the string S with leading whitespace removed.
 |      If chars is given and not None, remove characters in chars instead.
 |  
 |  partition(...)
 |      S.partition(sep) -&gt; (head, sep, tail)
 |      
 |      Search for the separator sep in S, and return the part before it,
 |      the separator itself, and the part after it.  If the separator is not
 |      found, return S and two empty strings.
 |  
 |  replace(...)
 |      S.replace(old, new[, count]) -&gt; str
 |      
 |      Return a copy of S with all occurrences of substring
 |      old replaced by new.  If the optional argument count is
 |      given, only the first count occurrences are replaced.
 |  
 |  rfind(...)
 |      S.rfind(sub[, start[, end]]) -&gt; int
 |      
 |      Return the highest index in S where substring sub is found,
 |      such that sub is contained within S[start:end].  Optional
 |      arguments start and end are interpreted as in slice notation.
 |      
 |      Return -1 on failure.
 |  
 |  rindex(...)
 |      S.rindex(sub[, start[, end]]) -&gt; int
 |      
 |      Return the highest index in S where substring sub is found,
 |      such that sub is contained within S[start:end].  Optional
 |      arguments start and end are interpreted as in slice notation.
 |      
 |      Raises ValueError when the substring is not found.
 |  
 |  rjust(...)
 |      S.rjust(width[, fillchar]) -&gt; str
 |      
 |      Return S right-justified in a string of length width. Padding is
 |      done using the specified fill character (default is a space).
 |  
 |  rpartition(...)
 |      S.rpartition(sep) -&gt; (head, sep, tail)
 |      
 |      Search for the separator sep in S, starting at the end of S, and return
 |      the part before it, the separator itself, and the part after it.  If the
 |      separator is not found, return two empty strings and S.
 |  
 |  rsplit(...)
 |      S.rsplit(sep=None, maxsplit=-1) -&gt; list of strings
 |      
 |      Return a list of the words in S, using sep as the
 |      delimiter string, starting at the end of the string and
 |      working to the front.  If maxsplit is given, at most maxsplit
 |      splits are done. If sep is not specified, any whitespace string
 |      is a separator.
 |  
 |  rstrip(...)
 |      S.rstrip([chars]) -&gt; str
 |      
 |      Return a copy of the string S with trailing whitespace removed.
 |      If chars is given and not None, remove characters in chars instead.
 |  
 |  split(...)
 |      S.split(sep=None, maxsplit=-1) -&gt; list of strings
 |      
 |      Return a list of the words in S, using sep as the
 |      delimiter string.  If maxsplit is given, at most maxsplit
 |      splits are done. If sep is not specified or is None, any
 |      whitespace string is a separator and empty strings are
 |      removed from the result.
 |  
 |  splitlines(...)
 |      S.splitlines([keepends]) -&gt; list of strings
 |      
 |      Return a list of the lines in S, breaking at line boundaries.
 |      Line breaks are not included in the resulting list unless keepends
 |      is given and true.
 |  
 |  startswith(...)
 |      S.startswith(prefix[, start[, end]]) -&gt; bool
 |      
 |      Return True if S starts with the specified prefix, False otherwise.
 |      With optional start, test S beginning at that position.
 |      With optional end, stop comparing S at that position.
 |      prefix can also be a tuple of strings to try.
 |  
 |  strip(...)
 |      S.strip([chars]) -&gt; str
 |      
 |      Return a copy of the string S with leading and trailing
 |      whitespace removed.
 |      If chars is given and not None, remove characters in chars instead.
 |  
 |  swapcase(...)
 |      S.swapcase() -&gt; str
 |      
 |      Return a copy of S with uppercase characters converted to lowercase
 |      and vice versa.
 |  
 |  title(...)
 |      S.title() -&gt; str
 |      
 |      Return a titlecased version of S, i.e. words start with title case
 |      characters, all remaining cased characters have lower case.
 |  
 |  translate(...)
 |      S.translate(table) -&gt; str
 |      
 |      Return a copy of the string S in which each character has been mapped
 |      through the given translation table. The table must implement
 |      lookup/indexing via __getitem__, for instance a dictionary or list,
 |      mapping Unicode ordinals to Unicode ordinals, strings, or None. If
 |      this operation raises LookupError, the character is left untouched.
 |      Characters mapped to None are deleted.
 |  
 |  upper(...)
 |      S.upper() -&gt; str
 |      
 |      Return a copy of S converted to uppercase.
 |  
 |  zfill(...)
 |      S.zfill(width) -&gt; str
 |      
 |      Pad a numeric string S with zeros on the left, to fill a field
 |      of the specified width. The string S is never truncated.
 |  
 |  ----------------------------------------------------------------------
 |  Static methods defined here:
 |  
 |  maketrans(x, y=None, z=None, /)
 |      Return a translation table usable for str.translate().
 |      
 |      If there is only one argument, it must be a dictionary mapping Unicode
 |      ordinals (integers) or characters to Unicode ordinals, strings or None.
 |      Character keys will be then converted to ordinals.
 |      If there are two arguments, they must be strings of equal length, and
 |      in the resulting dictionary, each character in x will be mapped to the
 |      character at the same position in y. If there is a third argument, it
 |      must be a string, whose characters will be mapped to None in the result.</code></pre><h4><span id="2-åˆ¤æ–­å­—ç¬¦ä¸²">(2) åˆ¤æ–­å­—ç¬¦ä¸²</span></h4><ul>
<li>islower/isupper<pre><code>- åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å…¨æ˜¯å¤§å†™å°å†™</code></pre></li>
<li>isdigit<pre><code>- åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å…¨æ˜¯æ•°å­—</code></pre></li>
<li>isalpha<pre><code>- åˆ¤æ–­æ˜¯å¦å…¨æ˜¯è‹±æ–‡å­—æ¯</code></pre></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">w = <span class="string">"XDFGHJ"</span></span><br><span class="line">w.isupper()</span><br></pre></td></tr></table></figure>




<pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">w = <span class="string">"asdfgh"</span></span><br><span class="line">w.islower()</span><br></pre></td></tr></table></figure>




<pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">w = <span class="string">"123467"</span></span><br><span class="line">w.isdigit()</span><br></pre></td></tr></table></figure>




<pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">w = <span class="string">"AaSs"</span></span><br><span class="line">w.isalpha()</span><br></pre></td></tr></table></figure>




<pre><code>True</code></pre><h4><span id="3æ“ä½œå­—ç¬¦ä¸²">ï¼ˆ3ï¼‰æ“ä½œå­—ç¬¦ä¸²</span></h4><ul>
<li>lower/upper<ul>
<li>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ã€å¤§å†™</li>
</ul>
</li>
<li>strip/lstrip/rstrip<ul>
<li>å»æ‰å­—ç¬¦ä¸²æœ€å·¦å’Œæœ€å³çš„ç©ºæ ¼/å»æ‰æœ€å·¦çš„ç©ºæ ¼/å»æ‰æœ€å³çš„ç©ºæ ¼</li>
</ul>
</li>
<li>swapcase<ul>
<li>äº¤æ¢å¤§å°å†™</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">w = <span class="string">"AS DD"</span></span><br><span class="line">w1 = w.lower()</span><br><span class="line">w2 = w1.upper()</span><br><span class="line">print(w1)</span><br><span class="line">print(w2)</span><br></pre></td></tr></table></figure>

<pre><code>as dd
AS DD</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># äº¤æ¢å¤§å°å†™</span></span><br><span class="line">w = <span class="string">"AS bbbbbbb"</span></span><br><span class="line">w.swapcase()</span><br></pre></td></tr></table></figure>




<pre><code>&apos;as BBBBBBB&apos;</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">w = <span class="string">"  .   123,wehdjahsk   .   "</span></span><br><span class="line">w1 = w.strip()</span><br><span class="line">w2 = w.lstrip()</span><br><span class="line">w3 = w.rstrip()</span><br><span class="line">print(w1)</span><br><span class="line">print(w2)</span><br><span class="line">print(w3)</span><br></pre></td></tr></table></figure>

<pre><code>.   123,wehdjahsk   .
.   123,wehdjahsk   .   
  .   123,wehdjahsk   .</code></pre><h4><span id="4å­—ç¬¦ä¸²çš„æ ¼å¼åŒ–">(4)å­—ç¬¦ä¸²çš„æ ¼å¼åŒ–</span></h4><ul>
<li>%</li>
<li>format</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">w = <span class="string">"My name is Inno and my age is 19,my height is 172"</span></span><br><span class="line"><span class="comment">#æ ¼å¼åŒ–</span></span><br><span class="line">s = <span class="string">"My name ia %s and my age is %d,my height is %d"</span> % (<span class="string">"Inno"</span>,<span class="number">19</span>,<span class="number">172</span>)</span><br><span class="line">print(w)</span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure>

<pre><code>My name is Inno and my age is 19,my height is 172
My name ia Inno and my age is 19,my height is 172</code></pre><ul>
<li>ç”¨%è¿›è¡Œæ ¼å¼åŒ–<ul>
<li>%d æ•´å½¢æ•°</li>
<li>%f æµ®ç‚¹æ•°</li>
<li>%s å­—ç¬¦</li>
</ul>
</li>
<li>å½“æ›¿æ¢åªæœ‰ä¸€ä¸ªæ—¶ï¼Œåé¢æ‹¬å·å¯çœç•¥</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="string">"I don\'t have %f"</span> % <span class="number">5.55</span></span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure>

<pre><code>I don&apos;t have 5.550000</code></pre><ul>
<li>å¯¹å°æ•°ä½æ•°è¿›è¡Œé™åˆ¶   .xf<ul>
<li>è¦æ›¿æ¢çš„å‚æ•°æ•°é‡ä¸åé¢æ‹¬å·ä¸­å‚æ•°å¯¹åº”</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯¹å°æ•°ä½æ•°è¿›è¡Œé™åˆ¶   .xf</span></span><br><span class="line">s = <span class="string">"I don\'t have %.1f"</span> % <span class="number">5.55</span></span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure>

<pre><code>I don&apos;t have 5.5</code></pre><ul>
<li>å¦‚æœæƒ³è¦è¾“å‡º%ï¼Œåªè¦å­—ç¬¦ä¸²åé¢ä¸è·Ÿ% ï¼ˆï¼‰å°±è¡Œ</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="string">"è¿™æ˜¯%100ä¼šå‡ºç°%"</span></span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure>

<pre><code>è¿™æ˜¯%100ä¼šå‡ºç°%</code></pre><h4><span id="å ä½ç¬¦çš„ç§ç±»">å ä½ç¬¦çš„ç§ç±»</span></h4><ul>
<li>%s å­—ç¬¦ä¸²</li>
<li>%r å­—ç¬¦ä¸²ï¼Œä½†æ˜¯æ˜¯ä½¿ç”¨reprè€Œä¸æ˜¯str</li>
<li>%c æ•´æ•°è½¬æ¢ä¸ºå•ä¸ªå­—ç¬¦</li>
<li>%d åè¿›åˆ¶æ•´æ•°</li>
<li>%u æ— ç¬¦å·æ•´æ•°</li>
<li>%o å…«è¿›åˆ¶æ•´æ•°</li>
<li>%x %X åå…­è¿›åˆ¶</li>
<li>%e %E ç§‘å­¦è®¡æ•°æ³•æµ®ç‚¹æ•°ï¼Œå¦‚2.35e5  7.89898E19</li>
<li>%f %F æµ®ç‚¹æ•°åè¿›åˆ¶å½¢å¼</li>
<li>%g %G åè¿›åˆ¶æµ®ç‚¹æ•°æˆ–æŒ‡æ•°æµ®ç‚¹æ•°è‡ªåŠ¨è½¬æ¢</li>
<li>æ ¼å¼å­—ç¬¦å‰å‡ºç° - è¡¨ç¤ºå·¦å¯¹é½</li>
<li>æ ¼å¼å­—ç¬¦å‰å‡ºç° 0 è¡¨ç¤ºé«˜ä½ä¸è¶³ç”¨0è¡¥é½</li>
<li>widthè¡¨ç¤ºå®½åº¦</li>
<li>pricisionè¡¨ç¤ºç²¾åº¦</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = <span class="number">2.35E+12</span></span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure>

<pre><code>2350000000000.0</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å·¦å¯¹é½ï¼Œå³å¯¹é½ï¼Œ0è¡¥å…¨</span></span><br><span class="line">s = <span class="string">"you are%7dage"</span> % <span class="number">16</span></span><br><span class="line">print(s)</span><br><span class="line">w = <span class="string">"you are%-7dage"</span> % <span class="number">16</span></span><br><span class="line">print(w)</span><br><span class="line"></span><br><span class="line">h = <span class="string">"you are%07dage"</span> % <span class="number">16</span></span><br><span class="line"></span><br><span class="line">print(h)</span><br></pre></td></tr></table></figure>

<pre><code>you are     16age
you are16     age
you are0000016age</code></pre><h3><span id="boolç±»å‹">boolç±»å‹</span></h3><ul>
<li>True/False</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="number">3</span> &gt; <span class="number">4</span></span><br></pre></td></tr></table></figure>




<pre><code>False</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>




<pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">b = <span class="literal">False</span></span><br><span class="line">b</span><br></pre></td></tr></table></figure>




<pre><code>False</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å­—ç¬¦å¯ç›´æ¥æ¯”è¾ƒ</span></span><br><span class="line"><span class="string">"H"</span> &gt; <span class="string">"A"</span></span><br></pre></td></tr></table></figure>




<pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">"haha"</span> &gt; <span class="string">"kkkk"</span></span><br></pre></td></tr></table></figure>




<pre><code>False</code></pre><ul>
<li>boolç±»å‹ä½œä¸ºæ•°å­—å‚ä¸è¿ç®—ï¼Œè¡¨ç¤º1</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># boolç±»å‹ä½œä¸ºæ•°å­—å‚ä¸è¿ç®—ï¼Œè¡¨ç¤º1</span></span><br><span class="line"><span class="literal">True</span> * <span class="number">3</span></span><br></pre></td></tr></table></figure>




<pre><code>3</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="literal">True</span> + <span class="number">8</span></span><br></pre></td></tr></table></figure>




<pre><code>9</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="literal">True</span> * <span class="number">0</span></span><br></pre></td></tr></table></figure>




<pre><code>0</code></pre><ul>
<li>æ•°å­—ä½œä¸ºåˆ¤æ–­ï¼Œé0éƒ½ä¸ºTrue</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="number">6</span>:</span><br><span class="line">    print(<span class="string">"True"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"False"</span>)</span><br></pre></td></tr></table></figure>

<pre><code>True</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="number">4</span>&gt;<span class="number">5</span>):</span><br><span class="line">    print(<span class="string">"True"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"False"</span>)</span><br></pre></td></tr></table></figure>

<pre><code>False</code></pre><h3><span id="none">None</span></h3><ul>
<li>ä¸€ä¸ªç‰¹æ®Šçš„å¸¸é‡</li>
<li>ä¸è¡¨ç¤ºä»»ä½•ç±»å‹ï¼Œç”¨æ¥å ä½æˆ–è€…è§£é™¤å˜é‡ç»‘å®šï¼ŒNoneä¸ä»»ä½•ç±»å‹æ¯”è¾ƒè¿”å›False<ul>
<li>ä½œç”¨ï¼š<ul>
<li>å ä½</li>
<li>è§£é™¤ç»‘å®š</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="number">567</span></span><br><span class="line">print(a)</span><br><span class="line">a = <span class="literal">None</span></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>

<pre><code>567
None</code></pre><ul>
<li>Noneä¸å…¶ä»–ç±»å‹æ¯”è¾ƒä¼šæŠ¥é”™</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = <span class="literal">None</span></span><br><span class="line">a &gt; <span class="number">8</span></span><br></pre></td></tr></table></figure>


<pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-27-93a628a0a8a1&gt; in &lt;module&gt;()
      1 a = None
----&gt; 2 a &gt; 8


TypeError: &apos;&gt;&apos; not supported between instances of &apos;NoneType&apos; and &apos;int&apos;</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="literal">None</span> &gt; <span class="string">"L"</span></span><br></pre></td></tr></table></figure>


<pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-28-210e6e66cd8b&gt; in &lt;module&gt;()
----&gt; 1 None &gt; &quot;L&quot;


TypeError: &apos;&gt;&apos; not supported between instances of &apos;NoneType&apos; and &apos;str&apos;</code></pre>]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>å‡½æ•°ã€returnã€å‡½æ•°å‚æ•°ã€åˆ—è¡¨å­—å…¸ä¼ å…¥å‡½æ•°ã€å‡½æ•°æ–‡æ¡£</title>
    <url>/2018-08-10-python-5.html</url>
    <content><![CDATA[<p>pythonè‡ªå­¦ç¬¬äº”èŠ‚<br>å‡½æ•°ã€returnã€å‡½æ•°å‚æ•°ã€åˆ—è¡¨å­—å…¸ä¼ å…¥å‡½æ•°ã€å‡½æ•°æ–‡æ¡£</p>
<h2><span id="å‡½æ•°">å‡½æ•°</span></h2><ul>
<li>ä½œç”¨ï¼š<ul>
<li>ä»£ç ç»„ç»‡</li>
<li>ä»£ç å¤ç”¨</li>
</ul>
</li>
<li>å‡½æ•°å</li>
<li>å‚æ•°</li>
<li>è¿”å›å€¼ï¼ˆå¯æ²¡æœ‰ï¼‰</li>
<li>å‡½æ•°çš„å®šä¹‰</li>
<li>å‡½æ•°çš„è°ƒç”¨</li>
</ul>
<a id="more"></a>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å‡½æ•°å®šä¹‰</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">FirstFun</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"è¿™æ˜¯ä¸€ä¸ªå‡½æ•°"</span>)</span><br><span class="line"><span class="comment"># å‡½æ•°è°ƒç”¨</span></span><br><span class="line">FirstFun()</span><br></pre></td></tr></table></figure>

<pre><code>è¿™æ˜¯ä¸€ä¸ªå‡½æ•°</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">numFun</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">6</span>):</span><br><span class="line">        print(i)</span><br><span class="line">numFun()</span><br></pre></td></tr></table></figure>

<pre><code>1
2
3
4
5</code></pre><h3><span id="1-å‡½æ•°è¿”å›returnè¯­å¥">1ã€å‡½æ•°è¿”å›ï¼Œreturnè¯­å¥</span></h3><ul>
<li>è¡¨ç¤ºæ— æ¡ä»¶ç»“æŸå‡½æ•°å¹¶è¿”å›ç»“æœ</li>
<li>çº¦å®šï¼Œä»»ä½•å‡½æ•°éƒ½åº”è¯¥ä»¥returnè¯­å¥è¡¨ç¤ºç»“æŸï¼›æ— è¿”å›å€¼å¯return None</li>
</ul>
<h4><span id="å†™ä¸€ä¸ªæ±‚é˜¶ä¹˜çš„å‡½æ•°">å†™ä¸€ä¸ªæ±‚é˜¶ä¹˜çš„å‡½æ•°</span></h4><ul>
<li>è¦æ±‚é”®å…¥ä¸€ä¸ªå¤§äº0çš„æ•°</li>
<li>è¿”å›å®ƒçš„é˜¶ä¹˜å€¼</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">getnum = int(input(<span class="string">"è¾“å…¥å¤§äº0çš„æ•°ï¼š"</span>))</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Fact</span><span class="params">(num)</span>:</span></span><br><span class="line">    w = num</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,num):</span><br><span class="line">        w *= (num-i)</span><br><span class="line">    <span class="keyword">return</span> w</span><br><span class="line">Fact(getnum)</span><br></pre></td></tr></table></figure>

<pre><code>è¾“å…¥å¤§äº0çš„æ•°ï¼š5





120</code></pre><h3><span id="2-å‡½æ•°çš„å‚æ•°">2ã€å‡½æ•°çš„å‚æ•°</span></h3><ul>
<li>å½¢å‚ï¼Œå‡½æ•°å®šä¹‰æ—¶</li>
<li>å®å‚ï¼Œå‡½æ•°è°ƒç”¨æ—¶</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Func1</span><span class="params">(yourname)</span>:</span></span><br><span class="line">    print(<span class="string">"your name is "</span> + yourname)</span><br><span class="line">Func1(<span class="string">"I"</span>)</span><br></pre></td></tr></table></figure>

<pre><code>your name is I</code></pre><ul>
<li>å…³é”®å­—å‚æ•°</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Func2</span><span class="params">(name,food)</span>:</span></span><br><span class="line">    print(name + <span class="string">" like eat "</span> + food)</span><br><span class="line">Func2(<span class="string">"Jony"</span>,<span class="string">"fish"</span>)</span><br></pre></td></tr></table></figure>

<pre><code>Jony like eat fish</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Func2(<span class="string">"fish"</span>,<span class="string">"Jony"</span>)</span><br></pre></td></tr></table></figure>

<pre><code>fish like eat Jony</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®å…³é”®å­—å‚æ•°</span></span><br><span class="line">Func2(name = <span class="string">"Jony"</span>,food = <span class="string">"fish"</span>)</span><br></pre></td></tr></table></figure>

<pre><code>Jony like eat fish</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯æ¢ä½ç½®</span></span><br><span class="line">Func2(food = <span class="string">"fish"</span>,name = <span class="string">"Jony"</span>)</span><br></pre></td></tr></table></figure>

<pre><code>Jony like eat fish</code></pre><h3><span id="3-é»˜è®¤å‚æ•°">3ã€é»˜è®¤å‚æ•°</span></h3><ul>
<li>å‡½æ•°åœ¨å®šä¹‰æ—¶ï¼Œå°±ç»™å‚æ•°ä¸€ä¸ªé»˜è®¤å€¼</li>
<li>æ³¨æ„ï¼šå‡½æ•°å®šä¹‰æ—¶ï¼Œç»™æŸä¸ªå‚æ•°é»˜è®¤å€¼ï¼Œå…¶ä¹‹åä¸èƒ½å‡ºç°æ²¡æœ‰é»˜è®¤å€¼çš„å‚æ•°</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç»™å‡ºä¸€ä¸ªé»˜è®¤å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Func3</span><span class="params">(score1,score2 = <span class="number">50</span>)</span>:</span></span><br><span class="line">    print(score1+score2)</span><br><span class="line"><span class="comment"># è°ƒç”¨æ—¶åªå†™äº†ä¸€ä¸ªå‚æ•°ï¼Œå¦ä¸€å‚æ•°ä½¿ç”¨é»˜è®¤å€¼</span></span><br><span class="line">Func3(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<pre><code>60</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Func3(<span class="number">10</span>,<span class="number">20</span>)</span><br></pre></td></tr></table></figure>

<pre><code>30</code></pre><h3><span id="4-åºåˆ—å‚æ•°-å­—å…¸å‚æ•°å³å°†åºåˆ—å­—å…¸ä¼ å…¥å‡½æ•°">4ã€åºåˆ—å‚æ•°ã€å­—å…¸å‚æ•°ï¼ˆå³å°†åºåˆ—ï¼Œå­—å…¸ä¼ å…¥å‡½æ•°ï¼‰</span></h3><ul>
<li>åˆ—è¡¨å‚æ•°ï¼šæ‰€æœ‰å‚æ•°ä½œä¸ºä¸€ä¸ªåˆ—è¡¨ä¼ å…¥<ul>
<li>åœ¨è°ƒç”¨æ—¶åˆ—è¡¨å‰ä½¿ç”¨ä¸€ä¸ª*å·</li>
<li>åˆ—è¡¨çš„å‚æ•°ä¸ªæ•°ä¸å‡½æ•°å‚æ•°ä¸ªæ•°ä¸€è‡´</li>
</ul>
</li>
<li>å­—å…¸å‚æ•°ï¼šæ‰€æœ‰å‚æ•°ä½œä¸ºä¸€ä¸ªå­—å…¸ä¼ å…¥<ul>
<li>åœ¨è°ƒç”¨æ—¶åˆ—è¡¨å‰ä½¿ç”¨ä¸¤ä¸ª**å·</li>
<li>å­—å…¸çš„å‚æ•°ä¸ªæ•°ä¸å‡½æ•°å‚æ•°ä¸ªæ•°ä¸€è‡´</li>
<li>å­—å…¸çš„é”®ä¸å‡½æ•°å½¢å‚ç›¸åŒï¼Œé”®ä½œä¸ºå­—ç¬¦ä¸²ç±»å‹</li>
<li>å­—å…¸çš„å€¼ä¼ ç»™é”®æ‰€å¯¹åº”çš„å½¢å‚</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myFunc</span><span class="params">(a,b,c)</span>:</span></span><br><span class="line">    print(<span class="string">"Value of a is %s"</span> %a)</span><br><span class="line">    print(<span class="string">"Value of b is %s"</span> %b)</span><br><span class="line">    print(<span class="string">"Value of c is %s"</span> %c)</span><br><span class="line">L1 = [<span class="string">"one"</span>,<span class="string">"two"</span>,<span class="string">"three"</span>]</span><br><span class="line"><span class="comment"># åœ¨è°ƒç”¨æ—¶åˆ—è¡¨å‰ä½¿ç”¨ä¸€ä¸ª*å·</span></span><br><span class="line">myFunc(*L1)</span><br></pre></td></tr></table></figure>

<pre><code>Value of a is one
Value of b is two
Value of c is three</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">L2 = &#123;<span class="string">"a"</span>:<span class="string">"one"</span>,<span class="string">"b"</span>:<span class="string">"two"</span>,<span class="string">"c"</span>:<span class="string">"three"</span>&#125;</span><br><span class="line"><span class="comment"># ä½¿ç”¨ä¸¤ä¸ª*å·</span></span><br><span class="line">myFunc(**L2)</span><br></pre></td></tr></table></figure>

<pre><code>Value of a is one
Value of b is two
Value of c is three</code></pre><h3><span id="5-æ˜Ÿå·å…ƒç»„å‚æ•°">5ã€æ˜Ÿå·å…ƒç»„å‚æ•°</span></h3><ul>
<li>æ˜Ÿå·å…ƒç»„å‚æ•°</li>
<li>è¯­æ³•ï¼š<ul>
<li>def å‡½æ•°å(*å…ƒç»„å½¢å‚):<br>   è¯­å¥å—</li>
</ul>
</li>
<li>å«ä¹‰ï¼š *å…ƒç»„å½¢å‚ç›¸å½“äºå°†å‚æ•°è®¾ç½®æˆåˆ—è¡¨<ul>
<li>å½¢å‚å¯ä»¥ä»»æ„ä¸ªæ•°</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Lfunc</span><span class="params">(*arg)</span>:</span></span><br><span class="line">    print(<span class="string">"è¿›å…¥å…ƒç»„å‚æ•°"</span>)</span><br><span class="line">    print(arg)</span><br><span class="line"><span class="comment"># ä¸ç»™å‚æ•°ä»£è¡¨åˆ—è¡¨ä¸ºç©º</span></span><br><span class="line">Lfunc()</span><br></pre></td></tr></table></figure>

<pre><code>è¿›å…¥å…ƒç»„å‚æ•°
()</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯æ”¾å¤šä¸ªå‚æ•°</span></span><br><span class="line">Lfunc(<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>)</span><br></pre></td></tr></table></figure>

<pre><code>è¿›å…¥å…ƒç»„å‚æ•°
(&apos;1&apos;, &apos;2&apos;, &apos;3&apos;)</code></pre><h3><span id="6-åŒæ˜Ÿå·å­—å…¸å‚æ•°">6ã€åŒæ˜Ÿå·å­—å…¸å‚æ•°</span></h3><ul>
<li>è¯­æ³•ï¼š<ul>
<li>def å‡½æ•°å(**å…ƒç»„å‚æ•°):<br>   å‡½æ•°ä½“</li>
</ul>
</li>
<li>**å‡½æ•°å ä»£è¡¨çš„æ˜¯å­—å…¸</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">DiFun</span><span class="params">(**args)</span>:</span></span><br><span class="line">    print(<span class="string">"è¿›å…¥å­—å…¸"</span>)</span><br><span class="line">    print(args)</span><br><span class="line">DiFun()</span><br></pre></td></tr></table></figure>

<pre><code>è¿›å…¥å­—å…¸
{}</code></pre><ul>
<li>åŒæ˜Ÿå·å­—å…¸å‚æ•°ï¼Œè°ƒç”¨æ—¶å¿…é¡»æŒ‰ç…§å­—å…¸çš„æ ¼å¼ï¼›æœ‰â€é”®â€å’Œâ€å€¼â€</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">DiFun(a=<span class="string">"one"</span>,b=<span class="string">"two"</span>,c=<span class="string">"three"</span>)</span><br></pre></td></tr></table></figure>

<pre><code>è¿›å…¥å­—å…¸
{&apos;a&apos;: &apos;one&apos;, &apos;b&apos;: &apos;two&apos;, &apos;c&apos;: &apos;three&apos;}</code></pre><h3><span id="7-å•æ˜Ÿå·å…ƒç»„å‚æ•°ä¸åŒæ˜Ÿå·å­—å…¸å‚æ•°éƒ½å«åš-ä¸å®šé•¿å‚æ•°">7ã€å•æ˜Ÿå·å…ƒç»„å‚æ•°ä¸åŒæ˜Ÿå·å­—å…¸å‚æ•°éƒ½å«åš ä¸å®šé•¿å‚æ•°</span></h3><ul>
<li>è¯´æ˜ï¼š<ul>
<li>ä½ç½®å½¢å‚ï¼Œå•æ˜Ÿå·å…ƒç»„å½¢å‚ï¼ŒåŒæ˜Ÿå·å­—å…¸å½¢å‚å¯ä»¥æ··ç”¨</li>
<li>æ··ç”¨æ—¶ï¼Œé¡ºåºå¿…é¡»æ˜¯ï¼šä½ç½®å½¢å‚ï¼Œå•æ˜Ÿå·å…ƒç»„å½¢å‚ï¼ŒåŒæ˜Ÿå·å­—å…¸å½¢å‚</li>
</ul>
</li>
</ul>
<h3><span id="8-å‡½æ•°è¿”å›å€¼">8ã€å‡½æ•°è¿”å›å€¼</span></h3><ul>
<li>ä¸€èˆ¬éœ€è¦è¿”å›å€¼ï¼Œä½¿ç”¨return</li>
<li>å‡½æ•°çš„ç±»å‹å°±æ˜¯è¿”å›å€¼çš„ç±»å‹</li>
<li>å¯ä»¥æ²¡æœ‰returnï¼Œä¸å»ºè®®å»æ‰</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Fun1</span><span class="params">(one)</span>:</span></span><br><span class="line">    print(<span class="string">"skr skr skr!!!"</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">Fun1(<span class="number">999</span>)</span><br></pre></td></tr></table></figure>

<pre><code>skr skr skr!!!</code></pre><ul>
<li>æœ‰returnæ— è¿”å›å€¼æ—¶ï¼Œè¿”å›None</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">w = Fun1(<span class="number">999</span>)</span><br><span class="line">print(w)</span><br></pre></td></tr></table></figure>

<pre><code>skr skr skr!!!
None</code></pre><ul>
<li>æ²¡æœ‰returnæ—¶ï¼Œè¿”å›å€¼ä¹Ÿä¸ºNone</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">SecFun</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"ç¬¬äºŒä¸ª skr,æ²¡æœ‰return"</span>)</span><br><span class="line">w = SecFun()</span><br><span class="line">print(w)</span><br></pre></td></tr></table></figure>

<pre><code>ç¬¬äºŒä¸ª skr,æ²¡æœ‰return
None</code></pre><ul>
<li>è¿”å›å€¼ä¸ºå¤šä¸ªçš„ç”¨æ³•<ul>
<li>å½“å‡½æ•°æœ‰å¤šä¸ªè¿”å›å€¼å´ç»™å®ƒä¸€ä¸ªå­˜å‚¨å˜é‡æ—¶ï¼Œè‡ªåŠ¨å°†å…¶æ‰“åŒ…ä¸ºtupleç±»å‹</li>
<li>å¯ä»¥å°†å¤šä¸ªè¿”å›å€¼èµ‹å€¼ç»™å¯¹åº”ä¸ªæ•°çš„å˜é‡</li>
<li>æ‰€ä»¥å¤šä¸ªè¿”å›å€¼åªèƒ½æ‰“åŒ…æˆä¸€ä¸ªtupleæˆ–è€…ä¸å…¶å¯¹åº”æ•°é‡çš„å˜é‡</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nFunc</span><span class="params">(one,two)</span>:</span></span><br><span class="line">    one += <span class="number">10</span></span><br><span class="line">    two *= <span class="number">3</span></span><br><span class="line">    three = one + two</span><br><span class="line">    <span class="keyword">return</span> one,two,three</span><br><span class="line">a = nFunc(<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line">print(a)</span><br><span class="line">type(a)</span><br></pre></td></tr></table></figure>

<pre><code>(12, 12, 24)





tuple</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">o,t,h = nFunc(<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line">print(o,t,h)</span><br></pre></td></tr></table></figure>

<pre><code>12 12 24</code></pre><h3><span id="9-å‡½æ•°æ–‡æ¡£">9ã€å‡½æ•°æ–‡æ¡£</span></h3><ul>
<li>å‡½æ•°æ–‡æ¡£å€¼åœ¨å‡½æ•°å¼€å¤´èµ·ä¸€å®šè¯´æ˜çš„æ–‡å­—</li>
<li>ä¾‹å­å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Sum</span><span class="params">(one,two)</span>:</span></span><br><span class="line">    <span class="string">'''è¿™æ˜¯å‡½æ•°æ–‡æ¡£ï¼Œè§£é‡Šå‡½æ•°çš„ä½œç”¨</span></span><br><span class="line"><span class="string">    è¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥æ±‚oneåˆ°twoå€¼çš„æ±‚å’Œ'''</span></span><br><span class="line">    three = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(one,two + <span class="number">1</span>):</span><br><span class="line">        three += i</span><br><span class="line">    <span class="keyword">return</span> three</span><br><span class="line">Sum(<span class="number">100</span>,<span class="number">150</span>)</span><br></pre></td></tr></table></figure>




<pre><code>6375</code></pre><ul>
<li>æŸ¥çœ‹å‡½æ•°æ–‡æ¡£å¯ç”¨ï¼› å‡½æ•°.<strong>doc</strong>  docä¸¤è¾¹æ˜¯ä¸¤ä¸ªä¸‹åˆ’çº¿</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Sum.__doc__</span><br></pre></td></tr></table></figure>




<pre><code>&apos;è¿™æ˜¯å‡½æ•°æ–‡æ¡£ï¼Œè§£é‡Šå‡½æ•°çš„ä½œç”¨\n    è¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥æ±‚oneåˆ°twoå€¼çš„æ±‚å’Œ&apos;</code></pre><ul>
<li>å¯ä½¿ç”¨helpæ¥æŸ¥è¯¢æŸä¸ªå‡½æ•°çš„å‡½æ•°æ–‡æ¡£</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">help(Sum)</span><br></pre></td></tr></table></figure>

<pre><code>Help on function Sum in module __main__:

Sum(one, two)
    è¿™æ˜¯å‡½æ•°æ–‡æ¡£ï¼Œè§£é‡Šå‡½æ•°çš„ä½œç”¨
    è¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥æ±‚oneåˆ°twoå€¼çš„æ±‚å’Œ</code></pre>]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¨‹åºç»“æ„ã€åˆ†æ”¯è¯­å¥ã€æ¡ä»¶ã€åˆ—è¡¨ã€å¾ªç¯</title>
    <url>/2018-08-10-python-4.html</url>
    <content><![CDATA[<p>pythonè‡ªå­¦ç¬¬å››èŠ‚<br>ç¨‹åºç»“æ„ã€åˆ†æ”¯è¯­å¥ã€æ¡ä»¶ã€åˆ—è¡¨ã€å¾ªç¯</p>
<h2><span id="ç¨‹åºç»“æ„">ç¨‹åºç»“æ„</span></h2><ul>
<li>ç¨‹åºç»“æ„åªéœ€è¦ç”±ä¸‰ç§æ„æˆï¼š ç¨‹åº=é¡ºåº+åˆ†æ”¯+å¾ªç¯</li>
<li>é¡ºåº</li>
<li>åˆ†æ”¯ï¼šå³é€‰æ‹©æ¡ä»¶</li>
<li>å¾ªç¯</li>
</ul>
<h3><span id="1-æ¡ä»¶è¯­å¥">1ã€æ¡ä»¶è¯­å¥</span></h3><ul>
<li>è¯­æ³•å¦‚ä¸‹ï¼š<pre><code>if (æ¡ä»¶è¡¨è¾¾å¼)ï¼š
    ç¨‹åºå¤„ç†æ¨¡å—</code></pre></li>
<li>pythonç”¨ç¼©è¿›æ¥è¡¨ç¤ºä»£ç å±‚çº§å…³ç³»<ul>
<li>python2ç©ºæ ¼å’Œtabå¯æ··ç”¨</li>
<li>python3ä¸èƒ½æ··ç”¨</li>
</ul>
</li>
</ul>
<a id="more"></a>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="number">1</span>):</span><br><span class="line">    print(<span class="string">"True"</span>)</span><br></pre></td></tr></table></figure>

<pre><code>True</code></pre><ul>
<li>åœ¨pythonä¸­  passè¯­å¥ï¼Œå ä½ï¼Œä¸æ‰§è¡Œä»»ä½•è¯­å¥ï¼Œä¸èµ·ä»»ä½•ä½œç”¨</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="number">5</span> &gt; <span class="number">3</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h4><span id="ç»ƒä¹ åˆ¤æ–­å­¦ç”Ÿæˆç»©çš„ç­‰çº§">ç»ƒä¹ ï¼šåˆ¤æ–­å­¦ç”Ÿæˆç»©çš„ç­‰çº§</span></h4><ul>
<li>90åŠä»¥ä¸Šä¸ºA</li>
<li>80-90ä¸ºB</li>
<li>70-80ä¸ºC</li>
<li>60-70ä¸ºD</li>
<li>å…¶ä½™ä¸ºE</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">score = input(<span class="string">"é”®å…¥å­¦ç”Ÿæˆç»©ï¼š"</span>)</span><br><span class="line">score1 = int(score)   <span class="comment">#inputé”®å…¥çš„æ˜¯å­—ç¬¦ï¼Œè¿™é‡Œå¼ºè½¬ä¸ºæ•´å‹</span></span><br><span class="line"><span class="keyword">if</span> (score1 &gt;= <span class="number">90</span> ):</span><br><span class="line">    print(<span class="string">"A"</span>)</span><br><span class="line"><span class="keyword">if</span> (score1 &gt;= <span class="number">80</span> <span class="keyword">and</span> score1 &lt; <span class="number">90</span>):</span><br><span class="line">    print(<span class="string">"B"</span>)</span><br><span class="line"><span class="keyword">if</span> (score1 &gt;= <span class="number">70</span> <span class="keyword">and</span> score1 &lt; <span class="number">80</span>):</span><br><span class="line">    print(<span class="string">"C"</span>)</span><br><span class="line"><span class="keyword">if</span> (score1 &gt;= <span class="number">60</span> <span class="keyword">and</span> score1 &lt; <span class="number">70</span>):</span><br><span class="line">    print(<span class="string">"D"</span>)</span><br><span class="line"><span class="keyword">if</span> (score1 &lt; <span class="number">60</span>):</span><br><span class="line">    print(<span class="string">"E"</span>)</span><br></pre></td></tr></table></figure>

<pre><code>é”®å…¥å­¦ç”Ÿæˆç»©ï¼š70
C</code></pre><h3><span id="ifelse">ifâ€¦else</span></h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 60åˆ†ä»¥ä¸ŠåŠæ ¼ï¼Œ60åˆ†ä»¥ä¸‹é‡è€ƒï¼Œ90åˆ†ä»¥ä¸Šä¸ºä¼˜ï¼Œ70-90ä¸ºè‰¯ï¼›60-70ä¸ºä¸­ï¼›20-60ä¸ºå·®ï¼›20åˆ†ä»¥ä¸‹ï¼šè¯·åˆ°è€å¸ˆåŠå…¬å®¤</span></span><br><span class="line">score = input(<span class="string">"è¾“å…¥æˆç»©ï¼š"</span>)</span><br><span class="line">score = int(score)</span><br><span class="line"><span class="keyword">if</span> (score &gt;<span class="number">60</span>):</span><br><span class="line">    print(<span class="string">"åŠæ ¼"</span>)</span><br><span class="line">    <span class="keyword">if</span> (score &gt; <span class="number">90</span>):</span><br><span class="line">        print(<span class="string">"ä¼˜"</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> (score &gt; <span class="number">70</span>):</span><br><span class="line">            print(<span class="string">"è‰¯"</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">"ä¸­"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"é‡è€ƒ"</span>)</span><br><span class="line">    <span class="keyword">if</span> (score &gt; <span class="number">20</span>):</span><br><span class="line">        print(<span class="string">"å·®"</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">"è¯·åˆ°è€å¸ˆåŠå…¬å®¤"</span>)</span><br></pre></td></tr></table></figure>

<pre><code>è¾“å…¥æˆç»©ï¼š99
åŠæ ¼
ä¼˜</code></pre><h3><span id="2-ä¸‰å…ƒè¿ç®—ç¬¦">2ã€ä¸‰å…ƒè¿ç®—ç¬¦</span></h3><ul>
<li>è¯­æ³•ï¼š x if æ¡ä»¶ else y</li>
<li>è¡¨ç¤ºå¦‚æœæ¡ä»¶æˆç«‹åˆ™è¾“å‡ºxï¼›å¦åˆ™è¾“å‡ºy</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">"ä¼˜ç§€"</span> <span class="keyword">if</span> <span class="number">2</span>&gt;<span class="number">1</span> <span class="keyword">else</span> <span class="string">"ä¸è¡Œ"</span></span><br></pre></td></tr></table></figure>




<pre><code>&apos;ä¼˜ç§€&apos;</code></pre><h4><span id="è¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦æ±‚æœ€å¤§å€¼">è¿ç”¨ä¸‰å…ƒè¿ç®—ç¬¦æ±‚æœ€å¤§å€¼</span></h4><ul>
<li>a,b,cç”±ç”¨æˆ·è¾“å…¥</li>
<li>è¾“å‡ºæœ€å¤§å€¼</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = int(input(<span class="string">"è¾“å…¥a:"</span>))</span><br><span class="line">b = int(input(<span class="string">"è¾“å…¥b:"</span>))</span><br><span class="line">c = int(input(<span class="string">"è¾“å…¥c:"</span>))</span><br><span class="line">d = (a <span class="keyword">if</span> a&gt;b <span class="keyword">else</span> b) <span class="keyword">if</span> ((a <span class="keyword">if</span> a &gt;b <span class="keyword">else</span> b)&gt;c) <span class="keyword">else</span> c</span><br><span class="line">print(d)</span><br></pre></td></tr></table></figure>

<pre><code>è¾“å…¥a:23
è¾“å…¥b:45
è¾“å…¥c:11
45</code></pre><h3><span id="3-åˆ—è¡¨-list">3ã€åˆ—è¡¨ list</span></h3><ul>
<li>å¯ä»¥æ”¾æ•°å­—ã€å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å’Œå…¶ä»–ç»“æ„</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">L1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">"fuck shit"</span>,[<span class="number">7</span>,<span class="number">9</span>,<span class="number">11</span>]]</span><br><span class="line">print(L1)</span><br></pre></td></tr></table></figure>

<pre><code>[1, 2, 3, &apos;fuck shit&apos;, [7, 9, 11]]</code></pre><h3><span id="4-range">4ã€range</span></h3><ul>
<li>å¯ä»¥çœ‹æˆä¸€ä¸ªå‡½æ•°</li>
<li>äº§ç”Ÿä¸€ä¸ªæœ‰è§„å¾‹çš„æœ‰æ•°å­—ç»„æˆçš„åˆ—è¡¨</li>
<li>è¯­æ³•ï¼š range(start,end,step)</li>
<li>start:å¼€å§‹æ•°å­—ï¼Œç”Ÿæˆåˆ—è¡¨åŒ…å«start,é»˜è®¤ä¸º0ï¼›end:ç»“æŸå€¼ï¼Œç»“æœåˆ—è¡¨ä¸åŒ…å«end;</li>
<li>step:æ­¥é•¿ï¼Œé»˜è®¤ä¸º1</li>
<li>python2ä¸­range()ç”Ÿæˆçš„æ˜¯åˆ—è¡¨ï¼ŒåŒæ—¶æœ‰xrange()å‡½æ•°ï¼ŒåŠŸèƒ½ç±»ä¼¼</li>
<li>python3ä¸­ï¼Œç”Ÿæˆç»“æœæ˜¯è¿­ä»£å™¨ï¼Œä¸æ˜¯åˆ—è¡¨ï¼Œå¯ç²—ç•¥åœ°è®¤ä¸ºæ˜¯åˆ—è¡¨</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">L1 = range(<span class="number">1</span>,<span class="number">6</span>)</span><br><span class="line"><span class="comment">#   å¯çœ‹æˆL1 == [1,2,3,4,5]</span></span><br></pre></td></tr></table></figure>

<pre><code>range(1, 6)</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = range(<span class="number">2</span>,<span class="number">15</span>,<span class="number">4</span>)</span><br><span class="line"><span class="comment">#  å¯çœ‹æˆa == [2,6,10,14]</span></span><br></pre></td></tr></table></figure>

<h3><span id="5-forå¾ªç¯">5ã€forå¾ªç¯</span></h3><ul>
<li>ä¸€èˆ¬æ˜ç¡®å¾ªç¯æ¬¡æ•°</li>
<li>è¯­æ³•ï¼š    for i in xxx:</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">L1 = [<span class="number">5</span>,<span class="number">9</span>,<span class="number">55</span>,<span class="number">99</span>,<span class="number">77</span>,<span class="string">"fuck"</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> L1:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>

<pre><code>5
9
55
99
77
fuck</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = range(<span class="number">1</span>,<span class="number">100</span>,<span class="number">19</span>)</span><br><span class="line"><span class="keyword">for</span> a1 <span class="keyword">in</span> a:</span><br><span class="line">    print(a1)</span><br></pre></td></tr></table></figure>

<pre><code>1
20
39
58
77
96</code></pre><h4><span id="è¿ç”¨å¾ªç¯æ±‚å’Œ">è¿ç”¨å¾ªç¯æ±‚å’Œ</span></h4><ul>
<li>æ±‚ä»1åŠ åˆ°100</li>
<li>ä½¿ç”¨range</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">L = range(<span class="number">1</span>,<span class="number">101</span>)</span><br><span class="line">mySum = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> idx <span class="keyword">in</span> L:</span><br><span class="line">    mySum += idx</span><br><span class="line">print(mySum)</span><br></pre></td></tr></table></figure>

<pre><code>5050</code></pre><h3><span id="6-whileå¾ªç¯">6ã€whileå¾ªç¯</span></h3><ul>
<li>ä¸æ˜ç¡®å¾ªç¯æ¬¡æ•°ï¼Œå´æ»¡è¶³ä¸€å®šæ¡ä»¶</li>
<li>è¯­æ³•ï¼›      while (æ¡ä»¶):<pre><code>å¾ªç¯ä½“</code></pre></li>
</ul>
<h4><span id="ç¤ºä¾‹é“¶è¡Œå­˜æ¬¾">ç¤ºä¾‹ï¼šé“¶è¡Œå­˜æ¬¾</span></h4><ul>
<li>æœ¬é‡‘10000</li>
<li>å¹´åˆ©ç‡ï¼š %2.5</li>
<li>å¤šå°‘å¹´æ€»é‡‘é¢è¶…è¿‡20000<ul>
<li>åˆ†æï¼šæ²¡æœ‰æ˜ç¡®å¾ªç¯æ¬¡æ•°</li>
<li>æ¡ä»¶ï¼šæ€»é‡‘é¢è¶…è¿‡20000</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">year = <span class="number">0</span></span><br><span class="line">money = <span class="number">10000</span></span><br><span class="line">ratio = <span class="number">0.025</span></span><br><span class="line"><span class="keyword">while</span> (money &lt; <span class="number">20000</span>):</span><br><span class="line">    year += <span class="number">1</span></span><br><span class="line">    money = money + money*ratio</span><br><span class="line">print(<span class="string">"year is %d"</span> %year)</span><br></pre></td></tr></table></figure>

<pre><code>year is 29</code></pre><h4><span id="ç´¯åŠ æ±‚å’Œ">ç´¯åŠ æ±‚å’Œ</span></h4><ul>
<li>1-100</li>
<li>whileå¾ªç¯</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sum = <span class="number">0</span></span><br><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> (i &lt;= <span class="number">100</span>):</span><br><span class="line">    sum += i</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">print(sum)</span><br></pre></td></tr></table></figure>

<pre><code>5050</code></pre><h3><span id="7-breakè¯­å¥">7ã€ breakè¯­å¥</span></h3><ul>
<li>æ— æ¡ä»¶ç»ˆæ­¢å¾ªç¯ï¼Œå¹¶è·³å‡ºå¾ªç¯ä½“</li>
</ul>
<h4><span id="ç¤ºä¾‹">ç¤ºä¾‹</span></h4><ul>
<li>åœ¨200-300ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¯ä»¥è¢«9æ•´é™¤çš„æ•°</li>
<li>ä½¿ç”¨break</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">num = <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">200</span>,<span class="number">301</span>):</span><br><span class="line">    num = i%<span class="number">9</span></span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">0</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">print(i)</span><br></pre></td></tr></table></figure>

<pre><code>207</code></pre><h4><span id="å¯¹äºåµŒå¥—å¤šé‡å¾ªç¯breakè·³å‡ºç¦»ä»–æœ€è¿‘çš„å¾ªç¯">å¯¹äºåµŒå¥—å¤šé‡å¾ªç¯ï¼Œbreakè·³å‡ºç¦»ä»–æœ€è¿‘çš„å¾ªç¯</span></h4><h4><span id="æ‰“å°99ä¹˜æ³•è¡¨">æ‰“å°9*9ä¹˜æ³•è¡¨</span></h4><ul>
<li>è¦æ±‚æœ€å¤§å€¼ä¸º36</li>
<li>å…¸å‹ for åµŒå¥—å¾ªç¯</li>
<li>break</li>
<li>è°ƒç”¨sysæ¨¡å—ä¸­writeå¯ä»¥åœ¨æ‰“å°æ—¶ä¸ä¼šæ¢è¡Œ</li>
<li>sys.stdout.write();æ‹¬å·å†…åªèƒ½ç”¨å­—ç¬¦å‹</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">        <span class="keyword">if</span> (i*j&gt;<span class="number">36</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        sys.stdout.write(str(i*j))</span><br><span class="line">        sys.stdout.write(<span class="string">" "</span>)</span><br><span class="line">    print(<span class="string">" "</span>)</span><br></pre></td></tr></table></figure>

<pre><code>1 2 3 4 5 6 7 8 9  
2 4 6 8 10 12 14 16 18  
3 6 9 12 15 18 21 24 27  
4 8 12 16 20 24 28 32 36  
5 10 15 20 25 30 35  
6 12 18 24 30 36  
7 14 21 28 35  
8 16 24 32  
9 18 27 36  </code></pre><h3><span id="8-continue">8ã€continue</span></h3><ul>
<li>å«ä¹‰ï¼šç»§ç»­ä¸‹ä¸€è½®å¾ªç¯</li>
<li>å½“æˆ‘ä»¬å·²ç»ç¡®å®šä¸éœ€è¦æ­¤è½®å¾ªç¯æ—¶ä½¿ç”¨</li>
</ul>
<h4><span id="ä¾‹ç´¯åŠ æ±‚å’Œ">ä¾‹ï¼šç´¯åŠ æ±‚å’Œ</span></h4><ul>
<li>å½“æ•°ä¸ºå¶æ•°æ—¶æ‰æ±‚å’Œ</li>
<li>1-100</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sum = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">101</span>):</span><br><span class="line">    <span class="keyword">if</span> (i%<span class="number">2</span> == <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    sum += i</span><br><span class="line">print(sum)</span><br></pre></td></tr></table></figure>

<pre><code>2550</code></pre><h4><span id="ä¾‹99ä¹˜æ³•è¡¨">ä¾‹ï¼š9*9ä¹˜æ³•è¡¨</span></h4><ul>
<li>è¦æ±‚ï¼šæ‰“å°å€¼å°äº12çš„æ•°</li>
<li>åµŒå¥—forå¾ªç¯</li>
<li>ä½¿ç”¨continue</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">        <span class="keyword">if</span> (i*j&gt;<span class="number">12</span>):</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        sys.stdout.write(str(i*j))</span><br><span class="line">        sys.stdout.write(<span class="string">" "</span>)</span><br><span class="line">    print(<span class="string">"\n"</span>)</span><br></pre></td></tr></table></figure>

<pre><code>1 2 3 4 5 6 7 8 9 

2 4 6 8 10 12 

3 6 9 12 

4 8 12 

5 10 

6 12 

7 

8 

9</code></pre>]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ‡å‡†è¾“å…¥è¾“å‡º</title>
    <url>/2018-08-10-python-3.html</url>
    <content><![CDATA[<p>pythonè‡ªå­¦ç¬¬ä¸‰èŠ‚<br>æ ‡å‡†è¾“å…¥è¾“å‡º</p>
<h2><span id="æ ‡å‡†è¾“å…¥è¾“å‡º">æ ‡å‡†è¾“å…¥è¾“å‡º</span></h2><ul>
<li>inputï¼ˆï¼‰ è¦æ±‚ç”¨æˆ·é”®å…¥</li>
<li>printï¼ˆï¼‰ å±å¹•è¾“å‡º</li>
</ul>
<a id="more"></a>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">age = input(<span class="string">"è¯·è¾“å…¥ä½ çš„å¹´é¾„ï¼ŒæŒ‰å›è½¦é”®ç»“æŸ"</span>)</span><br><span class="line">print(age)</span><br></pre></td></tr></table></figure>

<pre><code>è¯·è¾“å…¥ä½ çš„å¹´é¾„ï¼ŒæŒ‰å›è½¦é”®ç»“æŸ20
20</code></pre>]]></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>æµè§ˆå™¨ä¸­sessionçš„ä½¿ç”¨ï¼Œä¿å­˜ç™»é™†çŠ¶æ€ä¸æ³¨é”€ç™»é™†</title>
    <url>/2019-08-02-session-brower.html</url>
    <content><![CDATA[<h2><span id="æµè§ˆå™¨ä¸­sessionçš„ä½¿ç”¨ä¿å­˜ç™»é™†çŠ¶æ€ä¸æ³¨é”€ç™»é™†">æµè§ˆå™¨ä¸­sessionçš„ä½¿ç”¨ï¼Œä¿å­˜ç™»é™†çŠ¶æ€ä¸æ³¨é”€ç™»é™†</span></h2><p>è¯´æ˜:</p>
<ul>
<li>apache2</li>
<li>php7</li>
<li>ä»£ç åœ¨<?php ?>æ ‡ç­¾å†…</li>
</ul>
<p>ä¸Šç¯‡æ–‡ç« :</p>
<p><a href="https://inno-hua.xyz/2019/07/31/php-password_hash().html" target="_blank" rel="noopener external nofollow noreferrer">PHPä¸­password_hash()å¯†ç åŠ å¯†</a></p>
<a id="more"></a>

<h3><span id="1-ä¿å­˜ç™»é™†çŠ¶æ€">1. ä¿å­˜ç™»é™†çŠ¶æ€</span></h3><ul>
<li>ç½‘é¡µæäº¤è¡¨å•åŒ…å«name=â€™usernameâ€™</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; postè·å–ç”¨æˆ·å</span><br><span class="line">$username &#x3D; $_POST[&#39;username&#39;];</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä½¿ç”¨sessionä¿å­˜å¯†ç </span><br><span class="line">session_start();</span><br><span class="line">$_SESSION[&#39;username&#39;] &#x3D; $username;</span><br></pre></td></tr></table></figure>

<h3><span id="2ç”¨æˆ·ç™»å‡ºåé”€æ¯çŠ¶æ€">2.ç”¨æˆ·ç™»å‡ºåé”€æ¯çŠ¶æ€</span></h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">session_start();</span><br><span class="line">unset($_SESSION[&#39;username&#39;]);</span><br></pre></td></tr></table></figure>

<h3><span id="3åœ¨ç”¨æˆ·ç™»é™†åæŒ‡å‘å¦ä¸€é¡µé¢åˆ¤æ–­æ˜¯å¦ä¸ºç™»é™†çŠ¶æ€">3.åœ¨ç”¨æˆ·ç™»é™†åæŒ‡å‘å¦ä¸€é¡µé¢åˆ¤æ–­æ˜¯å¦ä¸ºç™»é™†çŠ¶æ€</span></h3><ul>
<li>åªæœ‰åœ¨ç™»å½•çŠ¶æ€æ‰èƒ½æ‰“å¼€æ­¤é¡µé¢welcome.php</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F; åˆ¤æ–­æ˜¯å¦ä¸ºç™»é™†çŠ¶æ€</span><br><span class="line">session_start();</span><br><span class="line">if(!$_SESSION[&#39;username&#39;])&#123;&#x2F;&#x2F;æœªç™»é™†</span><br><span class="line">    echo &quot;ä½ æ²¡ç™»é™†&quot;;</span><br><span class="line">    exit();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å¯ä»¥æŠŠä¿å­˜çš„sessionå€¼èµ‹å€¼ç»™å˜é‡</span><br><span class="line">$username &#x3D; $_SESSION[&#39;username&#39;];</span><br></pre></td></tr></table></figure>
<h3><span id="4ä½¿ç”¨sessionåˆ¤æ–­ç™»å½•çŠ¶æ€ä¸ç™»å‡ºçŠ¶æ€">4.ä½¿ç”¨sessionåˆ¤æ–­ç™»å½•çŠ¶æ€ä¸ç™»å‡ºçŠ¶æ€</span></h3><ul>
<li>welcome.php</li>
<li>é€šè¿‡é“¾æ¥welcome.php?action=logoutæ¥æ³¨é”€</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">	session_start();</span><br><span class="line">	if(!isset($_SESSION[&#39;username&#39;]))&#123;&#x2F;&#x2F;åˆ¤æ–­ç™»å½•çŠ¶æ€</span><br><span class="line">		echo &quot;ä½ è¿˜æœªç™»é™†&quot;;</span><br><span class="line">		echo &quot;&lt;br&#x2F;&gt;&quot; . &quot;&lt;a href&#x3D;&#39;login.html&#39;&gt;ç™»é™†&lt;&#x2F;a&gt;&quot;;</span><br><span class="line">		exit();</span><br><span class="line">	&#125;else&#123;&#x2F;&#x2F; å·²ç™»å½•çŠ¶æ€</span><br><span class="line">		$username &#x3D; $_SESSION[&#39;username&#39;];</span><br><span class="line">		echo &quot;&lt;title&gt;ç™»é™†æˆåŠŸ&lt;&#x2F;title&gt;&quot;;</span><br><span class="line">		echo &quot;&lt;h3&gt;ç™»é™†æˆåŠŸ&lt;&#x2F;h3&gt;&quot; . &quot;$username&quot; . &quot; æ¬¢è¿ä½ ï¼&quot;;</span><br><span class="line">		echo &#39;ç‚¹å‡»æ­¤å¤„ &lt;a href&#x3D;&quot;welcome.php?action&#x3D;logout&quot;&gt;æ³¨é”€&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;&#39;;</span><br><span class="line">	&#125;</span><br><span class="line">	if($_GET[&#39;action&#39;] &#x3D;&#x3D; &quot;logout&quot;)&#123;&#x2F;&#x2F; åˆ¤æ–­æ³¨é”€çŠ¶æ€</span><br><span class="line">		session_start();</span><br><span class="line">		unset($_SESSION[&#39;username&#39;]);</span><br><span class="line">		echo &#39;æ³¨é”€ç™»å½•æˆåŠŸï¼&#39;;</span><br><span class="line">		echo &quot;&lt;script&gt;</span><br><span class="line">		window.location.href &#x3D; &#39;login.html&#39;;</span><br><span class="line">	&lt;&#x2F;script&gt;&quot;;</span><br><span class="line">	</span><br><span class="line">	exit();</span><br><span class="line">	&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>php æµè§ˆå™¨session</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ¡å›­ç½‘ipé‡ç½®</title>
    <url>/2019-06-12-about-ipconfig.html</url>
    <content><![CDATA[<p>ä¸­æ–‡åï¼šæ˜¾ç¤ºIPé…ç½®å€¼   æ˜¯ä¸€ç§DOSå‘½ä»¤  å¯æ˜¾ç¤ºIPåœ°å€ä¿¡æ¯</p>
<p>æ›´å¤šå…³äºipconfigä¿¡æ¯(ç™¾ç§‘):<a href="https://baike.baidu.com/item/ipconfig/2496619?fr=aladdin" target="_blank" rel="noopener external nofollow noreferrer">ipconfig</a></p>
<a id="more"></a>

<h2><span id="å¸¸ç”¨dosæŒ‡ä»¤">å¸¸ç”¨DOSæŒ‡ä»¤</span></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ipconfig/release</span><br><span class="line">ipconfig/reenew</span><br></pre></td></tr></table></figure>

<h3><span id="å¯ç”¨äºè§£å†³å±€åŸŸç½‘ä¸­ç”µè„‘æ— æ³•è·å–ipé—®é¢˜">å¯ç”¨äºè§£å†³å±€åŸŸç½‘ä¸­ç”µè„‘æ— æ³•è·å–ipé—®é¢˜</span></h3><p>æŒ‡ä»¤æè¿°</p>
<p>ipconfig/release é‡Šæ”¾ipåœ°å€</p>
<p>ipconfig/renew é‡æ–°è·å–ipåœ°å€</p>
<h2><span id="å…¶ä»–å…³äºipconfigçš„dosæŒ‡ä»¤">å…¶ä»–å…³äºipconfigçš„DOSæŒ‡ä»¤</span></h2><p>ipconfig /allï¼šæ˜¾ç¤ºæœ¬æœºTCP/IPé…ç½®çš„è¯¦ç»†ä¿¡æ¯</p>
<p>ipconfig /flushdnsï¼šæ¸…é™¤æœ¬åœ°DNSç¼“å­˜å†…å®¹</p>
<p>ipconfig /displaydnsï¼šæ˜¾ç¤ºæœ¬åœ°DNSå†…å®¹</p>
<p>ipconfig /registerdnsï¼šDNSå®¢æˆ·ç«¯æ‰‹å·¥å‘æœåŠ¡å™¨è¿›è¡Œæ³¨å†Œ</p>
<p>ipconfig /showclassidï¼šæ˜¾ç¤ºç½‘ç»œé€‚é…å™¨çš„DHCPç±»åˆ«ä¿¡æ¯</p>
<p>ipconfig /setclassidï¼šè®¾ç½®ç½‘ç»œé€‚é…å™¨çš„DHCPç±»åˆ«</p>
<p>ipconfig /renew â€œLocal Area Connectionâ€ï¼šæ›´æ–°â€œæœ¬åœ°è¿æ¥â€é€‚é…å™¨çš„ç”± DHCP åˆ†é… IP åœ°å€çš„é…ç½®</p>
<p>ipconfig /showclassid Local*ï¼šæ˜¾ç¤ºåç§°ä»¥ Local å¼€å¤´çš„æ‰€æœ‰é€‚é…å™¨çš„ DHCP ç±»åˆ« ID</p>
<p>ipconfig /setclassid â€œLocal Area Connectionâ€ TESTï¼šå°†â€œæœ¬åœ°è¿æ¥â€é€‚é…å™¨çš„ DHCP ç±»åˆ« ID è®¾ç½®ä¸º TEST</p>
<h3><span id="å¯åœ¨windowsä¸‹cmdå‘½ä»¤æ‰“å¼€dosé¢æ¿è¿›è¡Œ">å¯åœ¨windowsä¸‹cmdå‘½ä»¤æ‰“å¼€DOSé¢æ¿è¿›è¡Œ</span></h3>]]></content>
      <tags>
        <tag>IPconfig</tag>
      </tags>
  </entry>
</search>
